!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).quillReactCommercial=t(e.React)}(this,(function(e){"use strict";var t="object"==typeof global&&global&&global.Object===Object&&global,n="object"==typeof self&&self&&self.Object===Object&&self,r=t||n||Function("return this")(),i=r.Symbol,s=Object.prototype,o=s.hasOwnProperty,a=s.toString,l=i?i.toStringTag:void 0;var c=Object.prototype.toString;var u=i?i.toStringTag:void 0;function h(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[l]=n:delete e[l]),i}(e):function(e){return c.call(e)}(e)}function d(e){return null!=e&&"object"==typeof e}function f(e){return"symbol"==typeof e||d(e)&&"[object Symbol]"==h(e)}function p(e){return"number"==typeof e?e:f(e)?NaN:+e}function g(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var m=Array.isArray,b=i?i.prototype:void 0,v=b?b.toString:void 0;function y(e){if("string"==typeof e)return e;if(m(e))return g(e,y)+"";if(f(e))return v?v.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function x(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=y(n),r=y(r)):(n=p(n),r=p(r)),i=e(n,r)}return i}}var w=x((function(e,t){return e+t}),0),_=/\s/;function E(e){for(var t=e.length;t--&&_.test(e.charAt(t)););return t}var N=/^\s+/;function k(e){return e?e.slice(0,E(e)+1).replace(N,""):e}function A(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var S=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,O=/^0o[0-7]+$/i,C=parseInt;function L(e){if("number"==typeof e)return e;if(f(e))return NaN;if(A(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=A(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=k(e);var n=q.test(e);return n||O.test(e)?C(e.slice(2),n?2:8):S.test(e)?NaN:+e}var T=1/0;function M(e){return e?(e=L(e))===T||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function R(e){var t=M(e),n=t%1;return t==t?n?t-n:t:0}function I(e){return e}function j(e){if(!A(e))return!1;var t=h(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var D,B=r["__core-js_shared__"],z=(D=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"";var U=Function.prototype.toString;function $(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var P=/^\[object .+?Constructor\]$/,H=Function.prototype,F=Object.prototype,W=H.toString,K=F.hasOwnProperty,V=RegExp("^"+W.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function G(e){return!(!A(e)||function(e){return!!z&&z in e}(e))&&(j(e)?V:P).test($(e))}function Z(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return G(n)?n:void 0}var Q=Z(r,"WeakMap"),X=Q&&new Q,Y=X?function(e,t){return X.set(e,t),e}:I,J=Object.create,ee=function(){function e(){}return function(t){if(!A(t))return{};if(J)return J(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function te(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ee(e.prototype),r=e.apply(n,t);return A(r)?r:n}}function ne(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var re=Math.max;function ie(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,l=t.length,c=re(s-o,0),u=Array(l+c),h=!r;++a<l;)u[a]=t[a];for(;++i<o;)(h||i<s)&&(u[n[i]]=e[i]);for(;c--;)u[a++]=e[i++];return u}var se=Math.max;function oe(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,l=-1,c=t.length,u=se(s-a,0),h=Array(u+c),d=!r;++i<u;)h[i]=e[i];for(var f=i;++l<c;)h[f+l]=t[l];for(;++o<a;)(d||i<s)&&(h[f+n[o]]=e[i++]);return h}function ae(){}function le(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function ce(){}le.prototype=ee(ae.prototype),le.prototype.constructor=le;var ue=X?function(e){return X.get(e)}:ce,he={},de=Object.prototype.hasOwnProperty;function fe(e){for(var t=e.name+"",n=he[t],r=de.call(he,t)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==e)return i.name}return t}function pe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function ge(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function me(e){if(e instanceof le)return e.clone();var t=new pe(e.__wrapped__,e.__chain__);return t.__actions__=ge(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}pe.prototype=ee(ae.prototype),pe.prototype.constructor=pe;var be=Object.prototype.hasOwnProperty;function ve(e){if(d(e)&&!m(e)&&!(e instanceof le)){if(e instanceof pe)return e;if(be.call(e,"__wrapped__"))return me(e)}return new pe(e)}function ye(e){var t=fe(e),n=ve[t];if("function"!=typeof n||!(t in le.prototype))return!1;if(e===n)return!0;var r=ue(n);return!!r&&e===r[0]}ve.prototype=ae.prototype,ve.prototype.constructor=ve;var xe=Date.now;function we(e){var t=0,n=0;return function(){var r=xe(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _e=we(Y),Ee=/\{\n\/\* \[wrapped with (.+)\] \*/,Ne=/,? & /;var ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Ae(e){return function(){return e}}var Se=function(){try{var e=Z(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),qe=Se?function(e,t){return Se(e,"toString",{configurable:!0,enumerable:!1,value:Ae(t),writable:!0})}:I,Oe=we(qe);function Ce(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Le(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function Te(e){return e!=e}function Me(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Le(e,Te,n)}function Re(e,t){return!!(null==e?0:e.length)&&Me(e,t,0)>-1}var Ie=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function je(e,t,n){var r=t+"";return Oe(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ke,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ce(Ie,(function(n){var r="_."+n[0];t&n[1]&&!Re(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Ee);return t?t[1].split(Ne):[]}(r),n)))}function De(e,t,n,r,i,s,o,a,l,c){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var h=[e,t,i,u?s:void 0,u?o:void 0,u?void 0:s,u?void 0:o,a,l,c],d=n.apply(void 0,h);return ye(e)&&_e(d,h),d.placeholder=r,je(d,e,t)}function Be(e){return e.placeholder}var ze=/^(?:0|[1-9]\d*)$/;function Ue(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ze.test(e))&&e>-1&&e%1==0&&e<t}var $e=Math.min;var Pe="__lodash_placeholder__";function He(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n];o!==t&&o!==Pe||(e[n]=Pe,s[i++]=n)}return s}function Fe(e,t,n,i,s,o,a,l,c,u){var h=128&t,d=1&t,f=2&t,p=24&t,g=512&t,m=f?void 0:te(e);return function b(){for(var v=arguments.length,y=Array(v),x=v;x--;)y[x]=arguments[x];if(p)var w=Be(b),_=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(y,w);if(i&&(y=ie(y,i,s,p)),o&&(y=oe(y,o,a,p)),v-=_,p&&v<u){var E=He(y,w);return De(e,t,Fe,b.placeholder,n,y,E,l,c,u-v)}var N=d?n:this,k=f?N[e]:e;return v=y.length,l?y=function(e,t){for(var n=e.length,r=$e(t.length,n),i=ge(e);r--;){var s=t[r];e[r]=Ue(s,n)?i[s]:void 0}return e}(y,l):g&&v>1&&y.reverse(),h&&c<v&&(y.length=c),this&&this!==r&&this instanceof b&&(k=m||te(k)),k.apply(N,y)}}var We="__lodash_placeholder__",Ke=128,Ve=Math.min;var Ge=Math.max;function Ze(e,t,n,i,s,o,a,l){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=i?i.length:0;if(u||(t&=-97,i=s=void 0),a=void 0===a?a:Ge(R(a),0),l=void 0===l?l:R(l),u-=s?s.length:0,64&t){var h=i,d=s;i=s=void 0}var f=c?void 0:ue(e),p=[e,t,n,i,s,h,d,o,a,l];if(f&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,o=r==Ke&&8==n||r==Ke&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var a=t[3];if(a){var l=e[3];e[3]=l?ie(l,a,t[4]):a,e[4]=l?He(e[3],We):t[4]}(a=t[5])&&(l=e[5],e[5]=l?oe(l,a,t[6]):a,e[6]=l?He(e[5],We):t[6]),(a=t[7])&&(e[7]=a),r&Ke&&(e[8]=null==e[8]?t[8]:Ve(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(p,f),e=p[0],t=p[1],n=p[2],i=p[3],s=p[4],!(l=p[9]=void 0===p[9]?c?0:e.length:Ge(p[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,n){var i=te(e);return function s(){for(var o=arguments.length,a=Array(o),l=o,c=Be(s);l--;)a[l]=arguments[l];var u=o<3&&a[0]!==c&&a[o-1]!==c?[]:He(a,c);return(o-=u.length)<n?De(e,t,Fe,s.placeholder,void 0,a,u,void 0,void 0,n-o):ne(this&&this!==r&&this instanceof s?i:e,this,a)}}(e,t,l):32!=t&&33!=t||s.length?Fe.apply(void 0,p):function(e,t,n,i){var s=1&t,o=te(e);return function t(){for(var a=-1,l=arguments.length,c=-1,u=i.length,h=Array(u+l),d=this&&this!==r&&this instanceof t?o:e;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++a];return ne(d,s?n:this,h)}}(e,t,n,i);else var g=function(e,t,n){var i=1&t,s=te(e);return function t(){return(this&&this!==r&&this instanceof t?s:e).apply(i?n:this,arguments)}}(e,t,n);return je((f?Y:_e)(g,p),e,t)}function Qe(e,t,n){return t=n?void 0:t,Ze(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function Xe(e,t,n){"__proto__"==t&&Se?Se(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ye(e,t){return e===t||e!=e&&t!=t}var Je=Object.prototype.hasOwnProperty;function et(e,t,n){var r=e[t];Je.call(e,t)&&Ye(r,n)&&(void 0!==n||t in e)||Xe(e,t,n)}function tt(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),i?Xe(n,a,l):et(n,a,l)}return n}var nt=Math.max;function rt(e,t,n){return t=nt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=nt(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),ne(e,this,a)}}function it(e,t){return Oe(rt(e,t,I),e+"")}function st(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ot(e){return null!=e&&st(e.length)&&!j(e)}function at(e,t,n){if(!A(n))return!1;var r=typeof t;return!!("number"==r?ot(n)&&Ue(t,n.length):"string"==r&&t in n)&&Ye(n[t],e)}function lt(e){return it((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(i--,s):void 0,o&&at(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t}))}var ct=Object.prototype;function ut(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ct)}function ht(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function dt(e){return d(e)&&"[object Arguments]"==h(e)}var ft=Object.prototype,pt=ft.hasOwnProperty,gt=ft.propertyIsEnumerable,mt=dt(function(){return arguments}())?dt:function(e){return d(e)&&pt.call(e,"callee")&&!gt.call(e,"callee")};function bt(){return!1}var vt="object"==typeof exports&&exports&&!exports.nodeType&&exports,yt=vt&&"object"==typeof module&&module&&!module.nodeType&&module,xt=yt&&yt.exports===vt?r.Buffer:void 0,wt=(xt?xt.isBuffer:void 0)||bt,_t={};function Et(e){return function(t){return e(t)}}_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t["[object Arguments]"]=_t["[object Array]"]=_t["[object ArrayBuffer]"]=_t["[object Boolean]"]=_t["[object DataView]"]=_t["[object Date]"]=_t["[object Error]"]=_t["[object Function]"]=_t["[object Map]"]=_t["[object Number]"]=_t["[object Object]"]=_t["[object RegExp]"]=_t["[object Set]"]=_t["[object String]"]=_t["[object WeakMap]"]=!1;var Nt="object"==typeof exports&&exports&&!exports.nodeType&&exports,kt=Nt&&"object"==typeof module&&module&&!module.nodeType&&module,At=kt&&kt.exports===Nt&&t.process,St=function(){try{var e=kt&&kt.require&&kt.require("util").types;return e||At&&At.binding&&At.binding("util")}catch(e){}}(),qt=St&&St.isTypedArray,Ot=qt?Et(qt):function(e){return d(e)&&st(e.length)&&!!_t[h(e)]},Ct=Object.prototype.hasOwnProperty;function Lt(e,t){var n=m(e),r=!n&&mt(e),i=!n&&!r&&wt(e),s=!n&&!r&&!i&&Ot(e),o=n||r||i||s,a=o?ht(e.length,String):[],l=a.length;for(var c in e)!t&&!Ct.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ue(c,l))||a.push(c);return a}function Tt(e,t){return function(n){return e(t(n))}}var Mt=Tt(Object.keys,Object),Rt=Object.prototype.hasOwnProperty;function It(e){if(!ut(e))return Mt(e);var t=[];for(var n in Object(e))Rt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jt(e){return ot(e)?Lt(e):It(e)}var Dt=Object.prototype.hasOwnProperty,Bt=lt((function(e,t){if(ut(t)||ot(t))tt(t,jt(t),e);else for(var n in t)Dt.call(t,n)&&et(e,n,t[n])}));var zt=Object.prototype.hasOwnProperty;function Ut(e){if(!A(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ut(e),n=[];for(var r in e)("constructor"!=r||!t&&zt.call(e,r))&&n.push(r);return n}function $t(e){return ot(e)?Lt(e,!0):Ut(e)}var Pt=lt((function(e,t){tt(t,$t(t),e)})),Ht=lt((function(e,t,n,r){tt(t,$t(t),e,r)})),Ft=lt((function(e,t,n,r){tt(t,jt(t),e,r)})),Wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kt=/^\w*$/;function Vt(e,t){if(m(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!f(e))||(Kt.test(e)||!Wt.test(e)||null!=t&&e in Object(t))}var Gt=Z(Object,"create");var Zt=Object.prototype.hasOwnProperty;var Qt=Object.prototype.hasOwnProperty;function Xt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yt(e,t){for(var n=e.length;n--;)if(Ye(e[n][0],t))return n;return-1}Xt.prototype.clear=function(){this.__data__=Gt?Gt(null):{},this.size=0},Xt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Xt.prototype.get=function(e){var t=this.__data__;if(Gt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Zt.call(t,e)?t[e]:void 0},Xt.prototype.has=function(e){var t=this.__data__;return Gt?void 0!==t[e]:Qt.call(t,e)},Xt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gt&&void 0===t?"__lodash_hash_undefined__":t,this};var Jt=Array.prototype.splice;function en(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}en.prototype.clear=function(){this.__data__=[],this.size=0},en.prototype.delete=function(e){var t=this.__data__,n=Yt(t,e);return!(n<0)&&(n==t.length-1?t.pop():Jt.call(t,n,1),--this.size,!0)},en.prototype.get=function(e){var t=this.__data__,n=Yt(t,e);return n<0?void 0:t[n][1]},en.prototype.has=function(e){return Yt(this.__data__,e)>-1},en.prototype.set=function(e,t){var n=this.__data__,r=Yt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var tn=Z(r,"Map");function nn(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Xt,map:new(tn||en),string:new Xt}},rn.prototype.delete=function(e){var t=nn(this,e).delete(e);return this.size-=t?1:0,t},rn.prototype.get=function(e){return nn(this,e).get(e)},rn.prototype.has=function(e){return nn(this,e).has(e)},rn.prototype.set=function(e,t){var n=nn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function sn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(sn.Cache||rn),n}sn.Cache=rn;var on=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,an=/\\(\\)?/g,ln=function(e){var t=sn(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(on,(function(e,n,r,i){t.push(r?i.replace(an,"$1"):n||e)})),t}));function cn(e){return null==e?"":y(e)}function un(e,t){return m(e)?e:Vt(e,t)?[e]:ln(cn(e))}function hn(e){if("string"==typeof e||f(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function dn(e,t){for(var n=0,r=(t=un(t,e)).length;null!=e&&n<r;)e=e[hn(t[n++])];return n&&n==r?e:void 0}function fn(e,t,n){var r=null==e?void 0:dn(e,t);return void 0===r?n:r}function pn(e,t){for(var n=-1,r=t.length,i=Array(r),s=null==e;++n<r;)i[n]=s?void 0:fn(e,t[n]);return i}function gn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var mn=i?i.isConcatSpreadable:void 0;function bn(e){return m(e)||mt(e)||!!(mn&&e&&e[mn])}function vn(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=bn),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?vn(a,t-1,n,r,i):gn(i,a):r||(i[i.length]=a)}return i}function yn(e){return(null==e?0:e.length)?vn(e,1):[]}function xn(e){return Oe(rt(e,void 0,yn),e+"")}var wn=xn(pn),_n=Tt(Object.getPrototypeOf,Object),En=Function.prototype,Nn=Object.prototype,kn=En.toString,An=Nn.hasOwnProperty,Sn=kn.call(Object);function qn(e){if(!d(e)||"[object Object]"!=h(e))return!1;var t=_n(e);if(null===t)return!0;var n=An.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&kn.call(n)==Sn}function On(e){if(!d(e))return!1;var t=h(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!qn(e)}var Cn=it((function(e,t){try{return ne(e,void 0,t)}catch(e){return On(e)?e:new Error(e)}}));function Ln(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=R(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var Tn=it((function(e,t,n){var r=1;if(n.length){var i=He(n,Be(Tn));r|=32}return Ze(e,r,t,n,i)}));Tn.placeholder={};var Mn=xn((function(e,t){return Ce(t,(function(t){t=hn(t),Xe(e,t,Tn(e[t],e))})),e})),Rn=it((function(e,t,n){var r=3;if(n.length){var i=He(n,Be(Rn));r|=32}return Ze(t,r,e,n,i)}));function In(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function jn(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:In(e,t,n)}Rn.placeholder={};var Dn=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Bn(e){return Dn.test(e)}var zn="\\ud800-\\udfff",Un="["+zn+"]",$n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pn="\\ud83c[\\udffb-\\udfff]",Hn="[^"+zn+"]",Fn="(?:\\ud83c[\\udde6-\\uddff]){2}",Wn="[\\ud800-\\udbff][\\udc00-\\udfff]",Kn="(?:"+$n+"|"+Pn+")"+"?",Vn="[\\ufe0e\\ufe0f]?",Gn=Vn+Kn+("(?:\\u200d(?:"+[Hn,Fn,Wn].join("|")+")"+Vn+Kn+")*"),Zn="(?:"+[Hn+$n+"?",$n,Fn,Wn,Un].join("|")+")",Qn=RegExp(Pn+"(?="+Pn+")|"+Zn+Gn,"g");function Xn(e){return Bn(e)?function(e){return e.match(Qn)||[]}(e):function(e){return e.split("")}(e)}function Yn(e){return function(t){var n=Bn(t=cn(t))?Xn(t):void 0,r=n?n[0]:t.charAt(0),i=n?jn(n,1).join(""):t.slice(1);return r[e]()+i}}var Jn=Yn("toUpperCase");function er(e){return Jn(cn(e).toLowerCase())}function tr(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function nr(e){return function(t){return null==e?void 0:e[t]}}var rr=nr({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),ir=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sr=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function or(e){return(e=cn(e))&&e.replace(ir,rr).replace(sr,"")}var ar=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var lr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var cr="\\ud800-\\udfff",ur="\\u2700-\\u27bf",hr="a-z\\xdf-\\xf6\\xf8-\\xff",dr="A-Z\\xc0-\\xd6\\xd8-\\xde",fr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pr="["+fr+"]",gr="\\d+",mr="["+ur+"]",br="["+hr+"]",vr="[^"+cr+fr+gr+ur+hr+dr+"]",yr="(?:\\ud83c[\\udde6-\\uddff]){2}",xr="[\\ud800-\\udbff][\\udc00-\\udfff]",wr="["+dr+"]",_r="(?:"+br+"|"+vr+")",Er="(?:"+wr+"|"+vr+")",Nr="(?:['’](?:d|ll|m|re|s|t|ve))?",kr="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ar="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Sr="[\\ufe0e\\ufe0f]?",qr=Sr+Ar+("(?:\\u200d(?:"+["[^"+cr+"]",yr,xr].join("|")+")"+Sr+Ar+")*"),Or="(?:"+[mr,yr,xr].join("|")+")"+qr,Cr=RegExp([wr+"?"+br+"+"+Nr+"(?="+[pr,wr,"$"].join("|")+")",Er+"+"+kr+"(?="+[pr,wr+_r,"$"].join("|")+")",wr+"?"+_r+"+"+Nr,wr+"+"+kr,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gr,Or].join("|"),"g");function Lr(e,t,n){return e=cn(e),void 0===(t=n?void 0:t)?function(e){return lr.test(e)}(e)?function(e){return e.match(Cr)||[]}(e):function(e){return e.match(ar)||[]}(e):e.match(t)||[]}var Tr=RegExp("['’]","g");function Mr(e){return function(t){return tr(Lr(or(t).replace(Tr,"")),e,"")}}var Rr=Mr((function(e,t,n){return t=t.toLowerCase(),e+(n?er(t):t)}));var Ir=r.isFinite,jr=Math.min;function Dr(e){var t=Math[e];return function(e,n){if(e=L(e),(n=null==n?0:jr(R(n),292))&&Ir(e)){var r=(cn(e)+"e").split("e");return+((r=(cn(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Br=Dr("ceil");function zr(e){var t=ve(e);return t.__chain__=!0,t}var Ur=Math.ceil,$r=Math.max;function Pr(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Hr(e){var t=this.__data__=new en(e);this.size=t.size}function Fr(e,t){return e&&tt(t,jt(t),e)}Hr.prototype.clear=function(){this.__data__=new en,this.size=0},Hr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hr.prototype.get=function(e){return this.__data__.get(e)},Hr.prototype.has=function(e){return this.__data__.has(e)},Hr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof en){var r=n.__data__;if(!tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new rn(r)}return n.set(e,t),this.size=n.size,this};var Wr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Kr=Wr&&"object"==typeof module&&module&&!module.nodeType&&module,Vr=Kr&&Kr.exports===Wr?r.Buffer:void 0,Gr=Vr?Vr.allocUnsafe:void 0;function Zr(e,t){if(t)return e.slice();var n=e.length,r=Gr?Gr(n):new e.constructor(n);return e.copy(r),r}function Qr(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function Xr(){return[]}var Yr=Object.prototype.propertyIsEnumerable,Jr=Object.getOwnPropertySymbols,ei=Jr?function(e){return null==e?[]:(e=Object(e),Qr(Jr(e),(function(t){return Yr.call(e,t)})))}:Xr;var ti=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)gn(t,ei(e)),e=_n(e);return t}:Xr;function ni(e,t,n){var r=t(e);return m(e)?r:gn(r,n(e))}function ri(e){return ni(e,jt,ei)}function ii(e){return ni(e,$t,ti)}var si=Z(r,"DataView"),oi=Z(r,"Promise"),ai=Z(r,"Set"),li="[object Map]",ci="[object Promise]",ui="[object Set]",hi="[object WeakMap]",di="[object DataView]",fi=$(si),pi=$(tn),gi=$(oi),mi=$(ai),bi=$(Q),vi=h;(si&&vi(new si(new ArrayBuffer(1)))!=di||tn&&vi(new tn)!=li||oi&&vi(oi.resolve())!=ci||ai&&vi(new ai)!=ui||Q&&vi(new Q)!=hi)&&(vi=function(e){var t=h(e),n="[object Object]"==t?e.constructor:void 0,r=n?$(n):"";if(r)switch(r){case fi:return di;case pi:return li;case gi:return ci;case mi:return ui;case bi:return hi}return t});var yi=vi,xi=Object.prototype.hasOwnProperty;var wi=r.Uint8Array;function _i(e){var t=new e.constructor(e.byteLength);return new wi(t).set(new wi(e)),t}var Ei=/\w*$/;var Ni=i?i.prototype:void 0,ki=Ni?Ni.valueOf:void 0;function Ai(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(e,t,n){var r,i=e.constructor;switch(t){case"[object ArrayBuffer]":return _i(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ai(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,Ei.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return r=e,ki?Object(ki.call(r)):{}}}function qi(e){return"function"!=typeof e.constructor||ut(e)?{}:ee(_n(e))}var Oi=St&&St.isMap,Ci=Oi?Et(Oi):function(e){return d(e)&&"[object Map]"==yi(e)};var Li=St&&St.isSet,Ti=Li?Et(Li):function(e){return d(e)&&"[object Set]"==yi(e)},Mi="[object Arguments]",Ri="[object Function]",Ii="[object Object]",ji={};function Di(e,t,n,r,i,s){var o,a=1&t,l=2&t,c=4&t;if(n&&(o=i?n(e,r,i,s):n(e)),void 0!==o)return o;if(!A(e))return e;var u=m(e);if(u){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&xi.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!a)return ge(e,o)}else{var h=yi(e),d=h==Ri||"[object GeneratorFunction]"==h;if(wt(e))return Zr(e,a);if(h==Ii||h==Mi||d&&!i){if(o=l||d?{}:qi(e),!a)return l?function(e,t){return tt(e,ti(e),t)}(e,function(e,t){return e&&tt(t,$t(t),e)}(o,e)):function(e,t){return tt(e,ei(e),t)}(e,Fr(o,e))}else{if(!ji[h])return i?e:{};o=Si(e,h,a)}}s||(s=new Hr);var f=s.get(e);if(f)return f;s.set(e,o),Ti(e)?e.forEach((function(r){o.add(Di(r,t,n,r,e,s))})):Ci(e)&&e.forEach((function(r,i){o.set(i,Di(r,t,n,i,e,s))}));var p=u?void 0:(c?l?ii:ri:l?$t:jt)(e);return Ce(p||e,(function(r,i){p&&(r=e[i=r]),et(o,i,Di(r,t,n,i,e,s))})),o}ji[Mi]=ji["[object Array]"]=ji["[object ArrayBuffer]"]=ji["[object DataView]"]=ji["[object Boolean]"]=ji["[object Date]"]=ji["[object Float32Array]"]=ji["[object Float64Array]"]=ji["[object Int8Array]"]=ji["[object Int16Array]"]=ji["[object Int32Array]"]=ji["[object Map]"]=ji["[object Number]"]=ji[Ii]=ji["[object RegExp]"]=ji["[object Set]"]=ji["[object String]"]=ji["[object Symbol]"]=ji["[object Uint8Array]"]=ji["[object Uint8ClampedArray]"]=ji["[object Uint16Array]"]=ji["[object Uint32Array]"]=!0,ji["[object Error]"]=ji[Ri]=ji["[object WeakMap]"]=!1;function Bi(e){return Di(e,5)}function zi(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new rn;++t<n;)this.add(e[t])}function Ui(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function $i(e,t){return e.has(t)}zi.prototype.add=zi.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},zi.prototype.has=function(e){return this.__data__.has(e)};function Pi(e,t,n,r,i,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&n?new zi:void 0;for(s.set(e,t),s.set(t,e);++h<a;){var p=e[h],g=t[h];if(r)var m=o?r(g,p,h,t,e,s):r(p,g,h,e,t,s);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!Ui(t,(function(e,t){if(!$i(f,t)&&(p===e||i(p,e,n,r,s)))return f.push(t)}))){d=!1;break}}else if(p!==g&&!i(p,g,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function Hi(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Fi(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Wi=i?i.prototype:void 0,Ki=Wi?Wi.valueOf:void 0;var Vi=Object.prototype.hasOwnProperty;var Gi="[object Arguments]",Zi="[object Array]",Qi="[object Object]",Xi=Object.prototype.hasOwnProperty;function Yi(e,t,n,r,i,s){var o=m(e),a=m(t),l=o?Zi:yi(e),c=a?Zi:yi(t),u=(l=l==Gi?Qi:l)==Qi,h=(c=c==Gi?Qi:c)==Qi,d=l==c;if(d&&wt(e)){if(!wt(t))return!1;o=!0,u=!1}if(d&&!u)return s||(s=new Hr),o||Ot(e)?Pi(e,t,n,r,i,s):function(e,t,n,r,i,s,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new wi(e),new wi(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ye(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Hi;case"[object Set]":var l=1&r;if(a||(a=Fi),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=Pi(a(e),a(t),r,i,s,o);return o.delete(e),u;case"[object Symbol]":if(Ki)return Ki.call(e)==Ki.call(t)}return!1}(e,t,l,n,r,i,s);if(!(1&n)){var f=u&&Xi.call(e,"__wrapped__"),p=h&&Xi.call(t,"__wrapped__");if(f||p){var g=f?e.value():e,b=p?t.value():t;return s||(s=new Hr),i(g,b,n,r,s)}}return!!d&&(s||(s=new Hr),function(e,t,n,r,i,s){var o=1&n,a=ri(e),l=a.length;if(l!=ri(t).length&&!o)return!1;for(var c=l;c--;){var u=a[c];if(!(o?u in t:Vi.call(t,u)))return!1}var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var f=!0;s.set(e,t),s.set(t,e);for(var p=o;++c<l;){var g=e[u=a[c]],m=t[u];if(r)var b=o?r(m,g,u,t,e,s):r(g,m,u,e,t,s);if(!(void 0===b?g===m||i(g,m,n,r,s):b)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,r,i,s))}function Ji(e,t,n,r,i){return e===t||(null==e||null==t||!d(e)&&!d(t)?e!=e&&t!=t:Yi(e,t,n,r,Ji,i))}function es(e,t,n,r){var i=n.length,s=i,o=!r;if(null==e)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){var l=(a=n[i])[0],c=e[l],u=a[1];if(o&&a[2]){if(void 0===c&&!(l in e))return!1}else{var h=new Hr;if(r)var d=r(c,u,l,e,t,h);if(!(void 0===d?Ji(u,c,3,r,h):d))return!1}}return!0}function ts(e){return e==e&&!A(e)}function ns(e){for(var t=jt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ts(i)]}return t}function rs(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function is(e){var t=ns(e);return 1==t.length&&t[0][2]?rs(t[0][0],t[0][1]):function(n){return n===e||es(n,e,t)}}function ss(e,t){return null!=e&&t in Object(e)}function os(e,t,n){for(var r=-1,i=(t=un(t,e)).length,s=!1;++r<i;){var o=hn(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&st(i)&&Ue(o,i)&&(m(e)||mt(e))}function as(e,t){return null!=e&&os(e,t,ss)}function ls(e,t){return Vt(e)&&ts(t)?rs(hn(e),t):function(n){var r=fn(n,e);return void 0===r&&r===t?as(n,e):Ji(t,r,3)}}function cs(e){return function(t){return null==t?void 0:t[e]}}function us(e){return Vt(e)?cs(hn(e)):function(e){return function(t){return dn(t,e)}}(e)}function hs(e){return"function"==typeof e?e:null==e?I:"object"==typeof e?m(e)?ls(e[0],e[1]):is(e):us(e)}function ds(e,t,n){var r=n.length;if(null==e)return!r;for(e=Object(e);r--;){var i=n[r],s=t[i],o=e[i];if(void 0===o&&!(i in e)||!s(o))return!1}return!0}function fs(e,t,n,r){for(var i=-1,s=null==e?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function ps(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}var gs=ps();function ms(e,t){return e&&gs(e,t,jt)}function bs(e,t){return function(n,r){if(null==n)return n;if(!ot(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}}var vs=bs(ms);function ys(e,t,n,r){return vs(e,(function(e,i,s){t(r,e,n(e),s)})),r}function xs(e,t){return function(n,r){var i=m(n)?fs:ys,s=t?t():{};return i(n,e,hs(r),s)}}var ws=Object.prototype.hasOwnProperty,_s=xs((function(e,t,n){ws.call(e,n)?++e[n]:Xe(e,n,1)}));function Es(e,t,n){var r=Ze(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Es.placeholder,r}Es.placeholder={};function Ns(e,t,n){var r=Ze(e,16,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=Ns.placeholder,r}Ns.placeholder={};var ks=function(){return r.Date.now()},As=Math.max,Ss=Math.min;function qs(e,t,n){var r,i,s,o,a,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=s}function g(){var e=ks();if(p(e))return m(e);a=setTimeout(g,function(e){var n=t-(e-l);return h?Ss(n,s-(e-c)):n}(e))}function m(e){return a=void 0,d&&r?f(e):(r=i=void 0,o)}function b(){var e=ks(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(g,t),u?f(e):o}(l);if(h)return clearTimeout(a),a=setTimeout(g,t),f(l)}return void 0===a&&(a=setTimeout(g,t)),o}return t=L(t)||0,A(n)&&(u=!!n.leading,s=(h="maxWait"in n)?As(L(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},b.flush=function(){return void 0===a?o:m(ks())},b}var Os=Object.prototype,Cs=Os.hasOwnProperty,Ls=it((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&at(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=$t(s),a=-1,l=o.length;++a<l;){var c=o[a],u=e[c];(void 0===u||Ye(u,Os[c])&&!Cs.call(e,c))&&(e[c]=s[c])}return e}));function Ts(e,t,n){(void 0!==n&&!Ye(e[t],n)||void 0===n&&!(t in e))&&Xe(e,t,n)}function Ms(e){return d(e)&&ot(e)}function Rs(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function Is(e){return tt(e,$t(e))}function js(e,t,n,r,i){e!==t&&gs(t,(function(s,o){if(i||(i=new Hr),A(s))!function(e,t,n,r,i,s,o){var a=Rs(e,n),l=Rs(t,n),c=o.get(l);if(c)Ts(e,n,c);else{var u=s?s(a,l,n+"",e,t,o):void 0,h=void 0===u;if(h){var d=m(l),f=!d&&wt(l),p=!d&&!f&&Ot(l);u=l,d||f||p?m(a)?u=a:Ms(a)?u=ge(a):f?(h=!1,u=Zr(l,!0)):p?(h=!1,u=Ai(l,!0)):u=[]:qn(l)||mt(l)?(u=a,mt(a)?u=Is(a):A(a)&&!j(a)||(u=qi(l))):h=!1}h&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),Ts(e,n,u)}}(e,t,o,n,js,r,i);else{var a=r?r(Rs(e,o),s,o+"",e,t,i):void 0;void 0===a&&(a=s),Ts(e,o,a)}}),$t)}function Ds(e,t,n,r,i,s){return A(e)&&A(t)&&(s.set(t,e),js(e,t,void 0,Ds,s),s.delete(t)),e}var Bs=lt((function(e,t,n,r){js(e,t,n,r)})),zs=it((function(e){return e.push(void 0,Ds),ne(Bs,void 0,e)}));function Us(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout((function(){e.apply(void 0,n)}),t)}var $s=it((function(e,t){return Us(e,1,t)})),Ps=it((function(e,t,n){return Us(e,L(t)||0,n)}));function Hs(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Fs(e,t,n,r){var i=-1,s=Re,o=!0,a=e.length,l=[],c=t.length;if(!a)return l;n&&(t=g(t,Et(n))),r?(s=Hs,o=!1):t.length>=200&&(s=$i,o=!1,t=new zi(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,o&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else s(t,h,r)||l.push(u)}return l}var Ws=it((function(e,t){return Ms(e)?Fs(e,vn(t,1,Ms,!0)):[]}));function Ks(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Vs=it((function(e,t){var n=Ks(t);return Ms(n)&&(n=void 0),Ms(e)?Fs(e,vn(t,1,Ms,!0),hs(n)):[]})),Gs=it((function(e,t){var n=Ks(t);return Ms(n)&&(n=void 0),Ms(e)?Fs(e,vn(t,1,Ms,!0),void 0,n):[]})),Zs=x((function(e,t){return e/t}),1);function Qs(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?In(e,r?0:s,r?s+1:i):In(e,r?s+1:0,r?i:s)}function Xs(e){return"function"==typeof e?e:I}function Ys(e,t){return(m(e)?Ce:vs)(e,Xs(t))}function Js(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}var eo=ps(!0);function to(e,t){return e&&eo(e,t,jt)}var no=bs(to,!0);function ro(e,t){return(m(e)?Js:no)(e,Xs(t))}function io(e){return function(t){var n=yi(t);return"[object Map]"==n?Hi(t):"[object Set]"==n?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return g(t,(function(t){return[t,e[t]]}))}(t,e(t))}}var so=io(jt),oo=io($t),ao=nr({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),lo=/[&<>"']/g,co=RegExp(lo.source);function uo(e){return(e=cn(e))&&co.test(e)?e.replace(lo,ao):e}var ho=/[\\^$.*+?()[\]{}|]/g,fo=RegExp(ho.source);function po(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function go(e,t){var n=!0;return vs(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mo(e){return e?Pr(R(e),0,4294967295):0}function bo(e,t){var n=[];return vs(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vo(e){return function(t,n,r){var i=Object(t);if(!ot(t)){var s=hs(n);t=jt(t),n=function(e){return s(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[s?t[o]:o]:void 0}}var yo=Math.max;function xo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:R(n);return i<0&&(i=yo(r+i,0)),Le(e,hs(t),i)}var wo=vo(xo);function _o(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}var Eo=Math.max,No=Math.min;function ko(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=R(n),i=n<0?Eo(r+i,0):No(i,r-1)),Le(e,hs(t),i,!0)}var Ao=vo(ko);function So(e){return e&&e.length?e[0]:void 0}function qo(e,t){var n=-1,r=ot(e)?Array(e.length):[];return vs(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Oo(e,t){return(m(e)?g:qo)(e,hs(t))}var Co=1/0;var Lo=1/0;var To=Dr("floor");function Mo(e){return xn((function(t){var n=t.length,r=n,i=pe.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new TypeError("Expected a function");if(i&&!o&&"wrapper"==fe(s))var o=new pe([],!0)}for(r=o?r:n;++r<n;){var a=fe(s=t[r]),l="wrapper"==a?ue(s):void 0;o=l&&ye(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?o[fe(l[0])].apply(o,l[3]):1==s.length&&ye(s)?o[a]():o.thru(s)}return function(){var e=arguments,r=e[0];if(o&&1==e.length&&m(r))return o.plant(r).value();for(var i=0,s=n?t[i].apply(this,e):r;++i<n;)s=t[i].call(this,s);return s}}))}var Ro=Mo(),Io=Mo(!0);function jo(e,t){return Qr(t,(function(t){return j(e[t])}))}var Do=Object.prototype.hasOwnProperty,Bo=xs((function(e,t,n){Do.call(e,n)?e[n].push(t):Xe(e,n,[t])}));function zo(e,t){return e>t}function Uo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=L(t),n=L(n)),e(t,n)}}var $o=Uo(zo),Po=Uo((function(e,t){return e>=t})),Ho=Object.prototype.hasOwnProperty;function Fo(e,t){return null!=e&&Ho.call(e,t)}var Wo=Math.max,Ko=Math.min;function Vo(e){return"string"==typeof e||!m(e)&&d(e)&&"[object String]"==h(e)}function Go(e,t){return g(t,(function(t){return e[t]}))}function Zo(e){return null==e?[]:Go(e,jt(e))}var Qo=Math.max;var Xo=Math.max;var Yo=Math.min;function Jo(e,t,n){for(var r=n?Hs:Re,i=e[0].length,s=e.length,o=s,a=Array(s),l=1/0,c=[];o--;){var u=e[o];o&&t&&(u=g(u,Et(t))),l=Yo(u.length,l),a[o]=!n&&(t||i>=120&&u.length>=120)?new zi(o&&u):void 0}u=e[0];var h=-1,d=a[0];e:for(;++h<i&&c.length<l;){var f=u[h],p=t?t(f):f;if(f=n||0!==f?f:0,!(d?$i(d,p):r(c,p,n))){for(o=s;--o;){var m=a[o];if(!(m?$i(m,p):r(e[o],p,n)))continue e}d&&d.push(p),c.push(f)}}return c}function ea(e){return Ms(e)?e:[]}var ta=it((function(e){var t=g(e,ea);return t.length&&t[0]===e[0]?Jo(t):[]})),na=it((function(e){var t=Ks(e),n=g(e,ea);return t===Ks(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?Jo(n,hs(t)):[]})),ra=it((function(e){var t=Ks(e),n=g(e,ea);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?Jo(n,void 0,t):[]}));function ia(e,t){return function(n,r){return function(e,t,n,r){return ms(e,(function(e,i,s){t(r,n(e),i,s)})),r}(n,e,t(r),{})}}var sa=Object.prototype.toString,oa=ia((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=sa.call(t)),e[t]=n}),Ae(I)),aa=Object.prototype,la=aa.hasOwnProperty,ca=aa.toString,ua=ia((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ca.call(t)),la.call(e,t)?e[t].push(n):e[t]=[n]}),hs);function ha(e,t){return t.length<2?e:dn(e,In(t,0,-1))}function da(e,t,n){var r=null==(e=ha(e,t=un(t,e)))?e:e[hn(Ks(t))];return null==r?void 0:ne(r,e,n)}var fa=it(da),pa=it((function(e,t,n){var r=-1,i="function"==typeof t,s=ot(e)?Array(e.length):[];return vs(e,(function(e){s[++r]=i?ne(t,e,n):da(e,t,n)})),s}));var ga=St&&St.isArrayBuffer,ma=ga?Et(ga):function(e){return d(e)&&"[object ArrayBuffer]"==h(e)};var ba=St&&St.isDate,va=ba?Et(ba):function(e){return d(e)&&"[object Date]"==h(e)};var ya=Object.prototype.hasOwnProperty;function xa(e,t){return Ji(e,t)}var wa=r.isFinite;function _a(e){return"number"==typeof e&&e==R(e)}function Ea(e){return"number"==typeof e||d(e)&&"[object Number]"==h(e)}var Na=B?j:bt;var ka=St&&St.isRegExp,Aa=ka?Et(ka):function(e){return d(e)&&"[object RegExp]"==h(e)},Sa=9007199254740991;var qa=Array.prototype.join;var Oa=Mr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ca=xs((function(e,t,n){Xe(e,n,t)}));var La=Math.max,Ta=Math.min;var Ma=Mr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ra=Yn("toLowerCase");function Ia(e,t){return e<t}var ja=Uo(Ia),Da=Uo((function(e,t){return e<=t}));function Ba(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],o=t(s);if(null!=o&&(void 0===a?o==o&&!f(o):n(o,a)))var a=o,l=s}return l}function za(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);void 0!==s&&(n=void 0===n?s:n+s)}return n}function Ua(e,t){var n=null==e?0:e.length;return n?za(e,t)/n:NaN}var $a=lt((function(e,t,n){js(e,t,n)})),Pa=it((function(e,t){return function(n){return da(n,e,t)}})),Ha=it((function(e,t){return function(n){return da(e,n,t)}}));function Fa(e,t,n){var r=jt(t),i=jo(t,r),s=!(A(n)&&"chain"in n&&!n.chain),o=j(e);return Ce(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__);return(n.__actions__=ge(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,gn([this.value()],arguments))})})),e}var Wa=x((function(e,t){return e*t}),1);function Ka(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var Va=i?i.iterator:void 0;function Ga(e){if(!e)return[];if(ot(e))return Vo(e)?Xn(e):ge(e);if(Va&&e[Va])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Va]());var t=yi(e);return("[object Map]"==t?Hi:"[object Set]"==t?Fi:Zo)(e)}function Za(e,t){var n=e.length;if(n)return Ue(t+=t<0?n:0,n)?e[t]:void 0}function Qa(e,t){return null==(e=ha(e,t=un(t,e)))||delete e[hn(Ks(t))]}function Xa(e){return qn(e)?void 0:e}var Ya=xn((function(e,t){var n={};if(null==e)return n;var r=!1;t=g(t,(function(t){return t=un(t,e),r||(r=t.length>1),t})),tt(e,ii(e),n),r&&(n=Di(n,7,Xa));for(var i=t.length;i--;)Qa(n,t[i]);return n}));function Ja(e,t,n,r){if(!A(e))return e;for(var i=-1,s=(t=un(t,e)).length,o=s-1,a=e;null!=a&&++i<s;){var l=hn(t[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var u=a[l];void 0===(c=r?r(u,l,a):void 0)&&(c=A(u)?u:Ue(t[i+1])?[]:{})}et(a,l,c),a=a[l]}return e}function el(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=dn(e,o);n(a,o)&&Ja(s,un(o,e),a)}return s}function tl(e,t){if(null==e)return{};var n=g(ii(e),(function(e){return[e]}));return t=hs(t),el(e,n,(function(e,n){return t(e,n[0])}))}function nl(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,s=f(e),o=void 0!==t,a=null===t,l=t==t,c=f(t);if(!a&&!c&&!s&&e>t||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&e<t||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function rl(e,t,n){t=t.length?g(t,(function(e){return m(e)?function(t){return dn(t,1===e.length?e[0]:e)}:e})):[I];var r=-1;t=g(t,Et(hs));var i=qo(e,(function(e,n,i){var s=g(t,(function(t){return t(e)}));return{criteria:s,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var l=nl(i[r],s[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function il(e){return xn((function(t){return t=g(t,Et(hs)),it((function(n){var r=this;return e(t,(function(e){return ne(e,r,n)}))}))}))}var sl=il(g),ol=it,al=Math.min,ll=ol((function(e,t){var n=(t=1==t.length&&m(t[0])?g(t[0],Et(hs)):g(vn(t,1),Et(hs))).length;return it((function(r){for(var i=-1,s=al(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return ne(e,this,r)}))})),cl=il(po),ul=il(Ui),hl=Math.floor;function dl(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=hl(t/2))&&(e+=e)}while(t);return n}var fl=cs("length"),pl="\\ud800-\\udfff",gl="["+pl+"]",ml="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",bl="\\ud83c[\\udffb-\\udfff]",vl="[^"+pl+"]",yl="(?:\\ud83c[\\udde6-\\uddff]){2}",xl="[\\ud800-\\udbff][\\udc00-\\udfff]",wl="(?:"+ml+"|"+bl+")"+"?",_l="[\\ufe0e\\ufe0f]?",El=_l+wl+("(?:\\u200d(?:"+[vl,yl,xl].join("|")+")"+_l+wl+")*"),Nl="(?:"+[vl+ml+"?",ml,yl,xl,gl].join("|")+")",kl=RegExp(bl+"(?="+bl+")|"+Nl+El,"g");function Al(e){return Bn(e)?function(e){for(var t=kl.lastIndex=0;kl.test(e);)++t;return t}(e):fl(e)}var Sl=Math.ceil;function ql(e,t){var n=(t=void 0===t?" ":y(t)).length;if(n<2)return n?dl(t,e):t;var r=dl(t,Sl(e/Al(t)));return Bn(t)?jn(Xn(r),0,e).join(""):r.slice(0,e)}var Ol=Math.ceil,Cl=Math.floor;var Ll=/^\s+/,Tl=r.parseInt;var Ml=it((function(e,t){return Ze(e,32,void 0,t,He(t,Be(Ml)))}));Ml.placeholder={};var Rl=it((function(e,t){return Ze(e,64,void 0,t,He(t,Be(Rl)))}));Rl.placeholder={};var Il=xs((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var jl=xn((function(e,t){return null==e?{}:function(e,t){return el(e,t,(function(t,n){return as(e,n)}))}(e,t)}));function Dl(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}var Bl=Array.prototype.splice;function zl(e,t,n,r){var i=r?Dl:Me,s=-1,o=t.length,a=e;for(e===t&&(t=ge(t)),n&&(a=g(e,Et(n)));++s<o;)for(var l=0,c=t[s],u=n?n(c):c;(l=i(a,u,l,r))>-1;)a!==e&&Bl.call(a,l,1),Bl.call(e,l,1);return e}function Ul(e,t){return e&&e.length&&t&&t.length?zl(e,t):e}var $l=it(Ul);var Pl=Array.prototype.splice;function Hl(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;Ue(i)?Pl.call(e,i,1):Qa(e,i)}}return e}var Fl=xn((function(e,t){var n=null==e?0:e.length,r=pn(e,t);return Hl(e,g(t,(function(e){return Ue(e,n)?+e:e})).sort(nl)),r})),Wl=Math.floor,Kl=Math.random;function Vl(e,t){return e+Wl(Kl()*(t-e+1))}var Gl=parseFloat,Zl=Math.min,Ql=Math.random;var Xl=Math.ceil,Yl=Math.max;function Jl(e){return function(t,n,r){return r&&"number"!=typeof r&&at(t,n,r)&&(n=r=void 0),t=M(t),void 0===n?(n=t,t=0):n=M(n),function(e,t,n,r){for(var i=-1,s=Yl(Xl((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}(t,n,r=void 0===r?t<n?1:-1:M(r),e)}}var ec=Jl(),tc=Jl(!0),nc=xn((function(e,t){return Ze(e,256,void 0,void 0,void 0,t)}));function rc(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n}function ic(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}var sc=Array.prototype.reverse;function oc(e){return null==e?e:sc.call(e)}var ac=Dr("round");function lc(e){var t=e.length;return t?e[Vl(0,t-1)]:void 0}function cc(e){return lc(Zo(e))}function uc(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var s=Vl(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function hc(e,t){return uc(ge(e),Pr(t,0,e.length))}function dc(e,t){var n=Zo(e);return uc(n,Pr(t,0,n.length))}function fc(e){return uc(ge(e))}function pc(e){return uc(Zo(e))}var gc=Mr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function mc(e,t){var n;return vs(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}var bc=it((function(e,t){if(null==e)return[];var n=t.length;return n>1&&at(e,t[0],t[1])?t=[]:n>2&&at(t[0],t[1],t[2])&&(t=[t[0]]),rl(e,vn(t,1),[])})),vc=Math.floor,yc=Math.min;function xc(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,a=null===t,l=f(t),c=void 0===t;i<s;){var u=vc((i+s)/2),h=n(e[u]),d=void 0!==h,p=null===h,g=h==h,m=f(h);if(o)var b=r||g;else b=c?g&&(r||d):a?g&&d&&(r||!p):l?g&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);b?i=u+1:s=u}return yc(s,4294967294)}function wc(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=e[s];null!==o&&!f(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return xc(e,t,I,n)}function _c(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Ye(a,l)){var l=a;s[i++]=0===o?0:o}}return s}var Ec=Math.max;var Nc=Mr((function(e,t,n){return e+(n?" ":"")+Jn(t)}));var kc=x((function(e,t){return e-t}),0);var Ac=Object.prototype,Sc=Ac.hasOwnProperty;function qc(e,t,n,r){return void 0===e||Ye(e,Ac[n])&&!Sc.call(r,n)?t:e}var Oc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Cc(e){return"\\"+Oc[e]}var Lc=/<%=([\s\S]+?)%>/g,Tc={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Lc,variable:"",imports:{_:{escape:uo}}},Mc=/\b__p \+= '';/g,Rc=/\b(__p \+=) '' \+/g,Ic=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jc=/[()=,{}\[\]\/\s]/,Dc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Bc=/($^)/,zc=/['\n\r\u2028\u2029\\]/g,Uc=Object.prototype.hasOwnProperty;function $c(e,t){return t(e)}var Pc=4294967295,Hc=Math.min;function Fc(e,t){var n=e;return n instanceof le&&(n=n.value()),tr(t,(function(e,t){return t.func.apply(t.thisArg,gn([e],t.args))}),n)}function Wc(){return Fc(this.__wrapped__,this.__actions__)}var Kc=9007199254740991;function Vc(e,t){for(var n=e.length;n--&&Me(t,e[n],0)>-1;);return n}function Gc(e,t){for(var n=-1,r=e.length;++n<r&&Me(t,e[n],0)>-1;);return n}var Zc=/^\s+/;var Qc=/\w*$/;var Xc=nr({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Yc=/&(?:amp|lt|gt|quot|#39);/g,Jc=RegExp(Yc.source);var eu=ai&&1/Fi(new ai([,-0]))[1]==1/0?function(e){return new ai(e)}:ce;function tu(e,t,n){var r=-1,i=Re,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=Hs;else if(s>=200){var c=t?null:eu(e);if(c)return Fi(c);o=!1,i=$i,l=new zi}else l=t?[]:a;e:for(;++r<s;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}var nu=it((function(e){return tu(vn(e,1,Ms,!0))})),ru=it((function(e){var t=Ks(e);return Ms(t)&&(t=void 0),tu(vn(e,1,Ms,!0),hs(t))})),iu=it((function(e){var t=Ks(e);return t="function"==typeof t?t:void 0,tu(vn(e,1,Ms,!0),void 0,t)}));var su=0;var ou=Math.max;function au(e){if(!e||!e.length)return[];var t=0;return e=Qr(e,(function(e){if(Ms(e))return t=ou(e.length,t),!0})),ht(t,(function(t){return g(e,cs(t))}))}function lu(e,t){if(!e||!e.length)return[];var n=au(e);return null==t?n:g(n,(function(e){return ne(t,void 0,e)}))}function cu(e,t,n,r){return Ja(e,t,n(dn(e,t)),r)}var uu=Mr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));var hu=it((function(e,t){return Ms(e)?Fs(e,t):[]}));var du=xn((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return pn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof le&&Ue(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:$c,args:[i],thisArg:void 0}),new pe(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));function fu(e,t,n){var r=e.length;if(r<2)return r?tu(e[0]):[];for(var i=-1,s=Array(r);++i<r;)for(var o=e[i],a=-1;++a<r;)a!=i&&(s[i]=Fs(s[i]||o,e[a],t,n));return tu(vn(s,1),t,n)}var pu=it((function(e){return fu(Qr(e,Ms))})),gu=it((function(e){var t=Ks(e);return Ms(t)&&(t=void 0),fu(Qr(e,Ms),hs(t))})),mu=it((function(e){var t=Ks(e);return t="function"==typeof t?t:void 0,fu(Qr(e,Ms),void 0,t)})),bu=it(au);function vu(e,t,n){for(var r=-1,i=e.length,s=t.length,o={};++r<i;){var a=r<s?t[r]:void 0;n(o,e[r],a)}return o}var yu=it((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,lu(e,n)})),xu={chunk:function(e,t,n){t=(n?at(e,t,n):void 0===t)?1:$r(R(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(Ur(r/t));i<r;)o[s++]=In(e,i,i+=t);return o},compact:function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i},concat:function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return gn(m(n)?ge(n):[n],vn(t,1))},difference:Ws,differenceBy:Vs,differenceWith:Gs,drop:function(e,t,n){var r=null==e?0:e.length;return r?In(e,(t=n||void 0===t?1:R(t))<0?0:t,r):[]},dropRight:function(e,t,n){var r=null==e?0:e.length;return r?In(e,0,(t=r-(t=n||void 0===t?1:R(t)))<0?0:t):[]},dropRightWhile:function(e,t){return e&&e.length?Qs(e,hs(t),!0,!0):[]},dropWhile:function(e,t){return e&&e.length?Qs(e,hs(t),!0):[]},fill:function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&at(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=R(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:R(r))<0&&(r+=i),r=n>r?0:mo(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},findIndex:xo,findLastIndex:ko,first:So,flatten:yn,flattenDeep:function(e){return(null==e?0:e.length)?vn(e,Lo):[]},flattenDepth:function(e,t){return(null==e?0:e.length)?vn(e,t=void 0===t?1:R(t)):[]},fromPairs:function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},head:So,indexOf:function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:R(n);return i<0&&(i=Xo(r+i,0)),Me(e,t,i)},initial:function(e){return(null==e?0:e.length)?In(e,0,-1):[]},intersection:ta,intersectionBy:na,intersectionWith:ra,join:function(e,t){return null==e?"":qa.call(e,t)},last:Ks,lastIndexOf:function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=R(n))<0?La(r+i,0):Ta(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Le(e,Te,i,!0)},nth:function(e,t){return e&&e.length?Za(e,R(t)):void 0},pull:$l,pullAll:Ul,pullAllBy:function(e,t,n){return e&&e.length&&t&&t.length?zl(e,t,hs(n)):e},pullAllWith:function(e,t,n){return e&&e.length&&t&&t.length?zl(e,t,void 0,n):e},pullAt:Fl,remove:function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],s=e.length;for(t=hs(t);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Hl(e,i),n},reverse:oc,slice:function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&at(e,t,n)?(t=0,n=r):(t=null==t?0:R(t),n=void 0===n?r:R(n)),In(e,t,n)):[]},sortedIndex:function(e,t){return wc(e,t)},sortedIndexBy:function(e,t,n){return xc(e,t,hs(n))},sortedIndexOf:function(e,t){var n=null==e?0:e.length;if(n){var r=wc(e,t);if(r<n&&Ye(e[r],t))return r}return-1},sortedLastIndex:function(e,t){return wc(e,t,!0)},sortedLastIndexBy:function(e,t,n){return xc(e,t,hs(n),!0)},sortedLastIndexOf:function(e,t){if(null==e?0:e.length){var n=wc(e,t,!0)-1;if(Ye(e[n],t))return n}return-1},sortedUniq:function(e){return e&&e.length?_c(e):[]},sortedUniqBy:function(e,t){return e&&e.length?_c(e,hs(t)):[]},tail:function(e){var t=null==e?0:e.length;return t?In(e,1,t):[]},take:function(e,t,n){return e&&e.length?In(e,0,(t=n||void 0===t?1:R(t))<0?0:t):[]},takeRight:function(e,t,n){var r=null==e?0:e.length;return r?In(e,(t=r-(t=n||void 0===t?1:R(t)))<0?0:t,r):[]},takeRightWhile:function(e,t){return e&&e.length?Qs(e,hs(t),!1,!0):[]},takeWhile:function(e,t){return e&&e.length?Qs(e,hs(t)):[]},union:nu,unionBy:ru,unionWith:iu,uniq:function(e){return e&&e.length?tu(e):[]},uniqBy:function(e,t){return e&&e.length?tu(e,hs(t)):[]},uniqWith:function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?tu(e,void 0,t):[]},unzip:au,unzipWith:lu,without:hu,xor:pu,xorBy:gu,xorWith:mu,zip:bu,zipObject:function(e,t){return vu(e||[],t||[],et)},zipObjectDeep:function(e,t){return vu(e||[],t||[],Ja)},zipWith:yu},wu={countBy:_s,each:Ys,eachRight:ro,every:function(e,t,n){var r=m(e)?po:go;return n&&at(e,t,n)&&(t=void 0),r(e,hs(t))},filter:function(e,t){return(m(e)?Qr:bo)(e,hs(t))},find:wo,findLast:Ao,flatMap:function(e,t){return vn(Oo(e,t),1)},flatMapDeep:function(e,t){return vn(Oo(e,t),Co)},flatMapDepth:function(e,t,n){return n=void 0===n?1:R(n),vn(Oo(e,t),n)},forEach:Ys,forEachRight:ro,groupBy:Bo,includes:function(e,t,n,r){e=ot(e)?e:Zo(e),n=n&&!r?R(n):0;var i=e.length;return n<0&&(n=Qo(i+n,0)),Vo(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Me(e,t,n)>-1},invokeMap:pa,keyBy:Ca,map:Oo,orderBy:function(e,t,n,r){return null==e?[]:(m(t)||(t=null==t?[]:[t]),m(n=r?void 0:n)||(n=null==n?[]:[n]),rl(e,t,n))},partition:Il,reduce:function(e,t,n){var r=m(e)?tr:rc,i=arguments.length<3;return r(e,hs(t),n,i,vs)},reduceRight:function(e,t,n){var r=m(e)?ic:rc,i=arguments.length<3;return r(e,hs(t),n,i,no)},reject:function(e,t){return(m(e)?Qr:bo)(e,Ka(hs(t)))},sample:function(e){return(m(e)?lc:cc)(e)},sampleSize:function(e,t,n){return t=(n?at(e,t,n):void 0===t)?1:R(t),(m(e)?hc:dc)(e,t)},shuffle:function(e){return(m(e)?fc:pc)(e)},size:function(e){if(null==e)return 0;if(ot(e))return Vo(e)?Al(e):e.length;var t=yi(e);return"[object Map]"==t||"[object Set]"==t?e.size:It(e).length},some:function(e,t,n){var r=m(e)?Ui:mc;return n&&at(e,t,n)&&(t=void 0),r(e,hs(t))},sortBy:bc},_u=ks,Eu={after:function(e,t){if("function"!=typeof t)throw new TypeError("Expected a function");return e=R(e),function(){if(--e<1)return t.apply(this,arguments)}},ary:Qe,before:Ln,bind:Tn,bindKey:Rn,curry:Es,curryRight:Ns,debounce:qs,defer:$s,delay:Ps,flip:function(e){return Ze(e,512)},memoize:sn,negate:Ka,once:function(e){return Ln(2,e)},overArgs:ll,partial:Ml,partialRight:Rl,rearg:nc,rest:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return it(e,t=void 0===t?t:R(t))},spread:function(e,t){if("function"!=typeof e)throw new TypeError("Expected a function");return t=null==t?0:Ec(R(t),0),it((function(n){var r=n[t],i=jn(n,0,t);return r&&gn(i,r),ne(e,this,i)}))},throttle:function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return A(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qs(e,t,{leading:r,maxWait:t,trailing:i})},unary:function(e){return Qe(e,1)},wrap:function(e,t){return Ml(Xs(t),e)}},Nu={castArray:function(){if(!arguments.length)return[];var e=arguments[0];return m(e)?e:[e]},clone:function(e){return Di(e,4)},cloneDeep:Bi,cloneDeepWith:function(e,t){return Di(e,5,t="function"==typeof t?t:void 0)},cloneWith:function(e,t){return Di(e,4,t="function"==typeof t?t:void 0)},conformsTo:function(e,t){return null==t||ds(e,t,jt(t))},eq:Ye,gt:$o,gte:Po,isArguments:mt,isArray:m,isArrayBuffer:ma,isArrayLike:ot,isArrayLikeObject:Ms,isBoolean:function(e){return!0===e||!1===e||d(e)&&"[object Boolean]"==h(e)},isBuffer:wt,isDate:va,isElement:function(e){return d(e)&&1===e.nodeType&&!qn(e)},isEmpty:function(e){if(null==e)return!0;if(ot(e)&&(m(e)||"string"==typeof e||"function"==typeof e.splice||wt(e)||Ot(e)||mt(e)))return!e.length;var t=yi(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(ut(e))return!It(e).length;for(var n in e)if(ya.call(e,n))return!1;return!0},isEqual:xa,isEqualWith:function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?Ji(e,t,void 0,n):!!r},isError:On,isFinite:function(e){return"number"==typeof e&&wa(e)},isFunction:j,isInteger:_a,isLength:st,isMap:Ci,isMatch:function(e,t){return e===t||es(e,t,ns(t))},isMatchWith:function(e,t,n){return n="function"==typeof n?n:void 0,es(e,t,ns(t),n)},isNaN:function(e){return Ea(e)&&e!=+e},isNative:function(e){if(Na(e))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return G(e)},isNil:function(e){return null==e},isNull:function(e){return null===e},isNumber:Ea,isObject:A,isObjectLike:d,isPlainObject:qn,isRegExp:Aa,isSafeInteger:function(e){return _a(e)&&e>=-9007199254740991&&e<=Sa},isSet:Ti,isString:Vo,isSymbol:f,isTypedArray:Ot,isUndefined:function(e){return void 0===e},isWeakMap:function(e){return d(e)&&"[object WeakMap]"==yi(e)},isWeakSet:function(e){return d(e)&&"[object WeakSet]"==h(e)},lt:ja,lte:Da,toArray:Ga,toFinite:M,toInteger:R,toLength:mo,toNumber:L,toPlainObject:Is,toSafeInteger:function(e){return e?Pr(R(e),-9007199254740991,Kc):0===e?e:0},toString:cn},ku={add:w,ceil:Br,divide:Zs,floor:To,max:function(e){return e&&e.length?Ba(e,I,zo):void 0},maxBy:function(e,t){return e&&e.length?Ba(e,hs(t),zo):void 0},mean:function(e){return Ua(e,I)},meanBy:function(e,t){return Ua(e,hs(t))},min:function(e){return e&&e.length?Ba(e,I,Ia):void 0},minBy:function(e,t){return e&&e.length?Ba(e,hs(t),Ia):void 0},multiply:Wa,round:ac,subtract:kc,sum:function(e){return e&&e.length?za(e,I):0},sumBy:function(e,t){return e&&e.length?za(e,hs(t)):0}},Au=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=L(n))==n?n:0),void 0!==t&&(t=(t=L(t))==t?t:0),Pr(L(e),t,n)},Su=function(e,t,n){return t=M(t),void 0===n?(n=t,t=0):n=M(n),function(e,t,n){return e>=Ko(t,n)&&e<Wo(t,n)}(e=L(e),t,n)},qu=function(e,t,n){if(n&&"boolean"!=typeof n&&at(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=M(e),void 0===t?(t=e,e=0):t=M(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Ql();return Zl(e+i*(t-e+Gl("1e-"+((i+"").length-1))),t)}return Vl(e,t)},Ou={assign:Bt,assignIn:Pt,assignInWith:Ht,assignWith:Ft,at:wn,create:function(e,t){var n=ee(e);return null==t?n:Fr(n,t)},defaults:Ls,defaultsDeep:zs,entries:so,entriesIn:oo,extend:Pt,extendWith:Ht,findKey:function(e,t){return _o(e,hs(t),ms)},findLastKey:function(e,t){return _o(e,hs(t),to)},forIn:function(e,t){return null==e?e:gs(e,Xs(t),$t)},forInRight:function(e,t){return null==e?e:eo(e,Xs(t),$t)},forOwn:function(e,t){return e&&ms(e,Xs(t))},forOwnRight:function(e,t){return e&&to(e,Xs(t))},functions:function(e){return null==e?[]:jo(e,jt(e))},functionsIn:function(e){return null==e?[]:jo(e,$t(e))},get:fn,has:function(e,t){return null!=e&&os(e,t,Fo)},hasIn:as,invert:oa,invertBy:ua,invoke:fa,keys:jt,keysIn:$t,mapKeys:function(e,t){var n={};return t=hs(t),ms(e,(function(e,r,i){Xe(n,t(e,r,i),e)})),n},mapValues:function(e,t){var n={};return t=hs(t),ms(e,(function(e,r,i){Xe(n,r,t(e,r,i))})),n},merge:$a,mergeWith:Bs,omit:Ya,omitBy:function(e,t){return tl(e,Ka(hs(t)))},pick:jl,pickBy:tl,result:function(e,t,n){var r=-1,i=(t=un(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var s=null==e?void 0:e[hn(t[r])];void 0===s&&(r=i,s=n),e=j(s)?s.call(e):s}return e},set:function(e,t,n){return null==e?e:Ja(e,t,n)},setWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Ja(e,t,n,r)},toPairs:so,toPairsIn:oo,transform:function(e,t,n){var r=m(e),i=r||wt(e)||Ot(e);if(t=hs(t),null==n){var s=e&&e.constructor;n=i?r?new s:[]:A(e)&&j(s)?ee(_n(e)):{}}return(i?Ce:ms)(e,(function(e,r,i){return t(n,e,r,i)})),n},unset:function(e,t){return null==e||Qa(e,t)},update:function(e,t,n){return null==e?e:cu(e,t,Xs(n))},updateWith:function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:cu(e,t,Xs(n),r)},values:Zo,valuesIn:function(e){return null==e?[]:Go(e,$t(e))}},Cu={at:du,chain:zr,commit:function(){return new pe(this.value(),this.__chain__)},lodash:ve,next:function(){void 0===this.__values__&&(this.__values__=Ga(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},plant:function(e){for(var t,n=this;n instanceof ae;){var r=me(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},reverse:function(){var e=this.__wrapped__;if(e instanceof le){var t=e;return this.__actions__.length&&(t=new le(this)),(t=t.reverse()).__actions__.push({func:$c,args:[oc],thisArg:void 0}),new pe(t,this.__chain__)}return this.thru(oc)},tap:function(e,t){return t(e),e},thru:$c,toIterator:function(){return this},toJSON:Wc,value:Wc,valueOf:Wc,wrapperChain:function(){return zr(this)}},Lu={camelCase:Rr,capitalize:er,deburr:or,endsWith:function(e,t,n){e=cn(e),t=y(t);var r=e.length,i=n=void 0===n?r:Pr(R(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},escape:uo,escapeRegExp:function(e){return(e=cn(e))&&fo.test(e)?e.replace(ho,"\\$&"):e},kebabCase:Oa,lowerCase:Ma,lowerFirst:Ra,pad:function(e,t,n){e=cn(e);var r=(t=R(t))?Al(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return ql(Cl(i),n)+e+ql(Ol(i),n)},padEnd:function(e,t,n){e=cn(e);var r=(t=R(t))?Al(e):0;return t&&r<t?e+ql(t-r,n):e},padStart:function(e,t,n){e=cn(e);var r=(t=R(t))?Al(e):0;return t&&r<t?ql(t-r,n)+e:e},parseInt:function(e,t,n){return n||null==t?t=0:t&&(t=+t),Tl(cn(e).replace(Ll,""),t||0)},repeat:function(e,t,n){return t=(n?at(e,t,n):void 0===t)?1:R(t),dl(cn(e),t)},replace:function(){var e=arguments,t=cn(e[0]);return e.length<3?t:t.replace(e[1],e[2])},snakeCase:gc,split:function(e,t,n){return n&&"number"!=typeof n&&at(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=cn(e))&&("string"==typeof t||null!=t&&!Aa(t))&&!(t=y(t))&&Bn(e)?jn(Xn(e),0,n):e.split(t,n):[]},startCase:Nc,startsWith:function(e,t,n){return e=cn(e),n=null==n?0:Pr(R(n),0,e.length),t=y(t),e.slice(n,n+t.length)==t},template:function(e,t,n){var r=Tc.imports._.templateSettings||Tc;n&&at(e,t,n)&&(t=void 0),e=cn(e),t=Ht({},t,r,qc);var i,s,o=Ht({},t.imports,r.imports,qc),a=jt(o),l=Go(o,a),c=0,u=t.interpolate||Bc,h="__p += '",d=RegExp((t.escape||Bc).source+"|"+u.source+"|"+(u===Lc?Dc:Bc).source+"|"+(t.evaluate||Bc).source+"|$","g"),f=Uc.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(d,(function(t,n,r,o,a,l){return r||(r=o),h+=e.slice(c,l).replace(zc,Cc),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),h+="';\n";var p=Uc.call(t,"variable")&&t.variable;if(p){if(jc.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(Mc,""):h).replace(Rc,"$1").replace(Ic,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Cn((function(){return Function(a,f+"return "+h).apply(void 0,l)}));if(g.source=h,On(g))throw g;return g},templateSettings:Tc,toLower:function(e){return cn(e).toLowerCase()},toUpper:function(e){return cn(e).toUpperCase()},trim:function(e,t,n){if((e=cn(e))&&(n||void 0===t))return k(e);if(!e||!(t=y(t)))return e;var r=Xn(e),i=Xn(t);return jn(r,Gc(r,i),Vc(r,i)+1).join("")},trimEnd:function(e,t,n){if((e=cn(e))&&(n||void 0===t))return e.slice(0,E(e)+1);if(!e||!(t=y(t)))return e;var r=Xn(e);return jn(r,0,Vc(r,Xn(t))+1).join("")},trimStart:function(e,t,n){if((e=cn(e))&&(n||void 0===t))return e.replace(Zc,"");if(!e||!(t=y(t)))return e;var r=Xn(e);return jn(r,Gc(r,Xn(t))).join("")},truncate:function(e,t){var n=30,r="...";if(A(t)){var i="separator"in t?t.separator:i;n="length"in t?R(t.length):n,r="omission"in t?y(t.omission):r}var s=(e=cn(e)).length;if(Bn(e)){var o=Xn(e);s=o.length}if(n>=s)return e;var a=n-Al(r);if(a<1)return r;var l=o?jn(o,0,a).join(""):e.slice(0,a);if(void 0===i)return l+r;if(o&&(a+=l.length-a),Aa(i)){if(e.slice(a).search(i)){var c,u=l;for(i.global||(i=RegExp(i.source,cn(Qc.exec(i))+"g")),i.lastIndex=0;c=i.exec(u);)var h=c.index;l=l.slice(0,void 0===h?a:h)}}else if(e.indexOf(y(i),a)!=a){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r},unescape:function(e){return(e=cn(e))&&Jc.test(e)?e.replace(Yc,Xc):e},upperCase:uu,upperFirst:Jn,words:Lr},Tu={attempt:Cn,bindAll:Mn,cond:function(e){var t=null==e?0:e.length,n=hs;return e=t?g(e,(function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[n(e[0]),e[1]]})):[],it((function(n){for(var r=-1;++r<t;){var i=e[r];if(ne(i[0],this,n))return ne(i[1],this,n)}}))},conforms:function(e){return function(e){var t=jt(e);return function(n){return ds(n,e,t)}}(Di(e,1))},constant:Ae,defaultTo:function(e,t){return null==e||e!=e?t:e},flow:Ro,flowRight:Io,identity:I,iteratee:function(e){return hs("function"==typeof e?e:Di(e,1))},matches:function(e){return is(Di(e,1))},matchesProperty:function(e,t){return ls(e,Di(t,1))},method:Pa,methodOf:Ha,mixin:Fa,noop:ce,nthArg:function(e){return e=R(e),it((function(t){return Za(t,e)}))},over:sl,overEvery:cl,overSome:ul,property:us,propertyOf:function(e){return function(t){return null==e?void 0:dn(e,t)}},range:ec,rangeRight:tc,stubArray:Xr,stubFalse:bt,stubObject:function(){return{}},stubString:function(){return""},stubTrue:function(){return!0},times:function(e,t){if((e=R(e))<1||e>9007199254740991)return[];var n=Pc,r=Hc(e,Pc);t=Xs(t),e-=Pc;for(var i=ht(r,t);++n<e;)t(n);return i},toPath:function(e){return m(e)?g(e,hn):f(e)?[e]:ge(ln(cn(e)))},uniqueId:function(e){var t=++su;return cn(e)+t}};var Mu=Math.max,Ru=Math.min;var Iu=Math.min;
/**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   */
var ju=4294967295,Du=Array.prototype,Bu=Object.prototype.hasOwnProperty,zu=i?i.iterator:void 0,Uu=Math.max,$u=Math.min,Pu=function(e){return function(t,n,r){if(null==r){var i=A(n),s=i&&jt(n),o=s&&s.length&&jo(n,s);(o?o.length:i)||(r=n,n=t,t=this)}return e(t,n,r)}}(Fa);ve.after=Eu.after,ve.ary=Eu.ary,ve.assign=Ou.assign,ve.assignIn=Ou.assignIn,ve.assignInWith=Ou.assignInWith,ve.assignWith=Ou.assignWith,ve.at=Ou.at,ve.before=Eu.before,ve.bind=Eu.bind,ve.bindAll=Tu.bindAll,ve.bindKey=Eu.bindKey,ve.castArray=Nu.castArray,ve.chain=Cu.chain,ve.chunk=xu.chunk,ve.compact=xu.compact,ve.concat=xu.concat,ve.cond=Tu.cond,ve.conforms=Tu.conforms,ve.constant=Tu.constant,ve.countBy=wu.countBy,ve.create=Ou.create,ve.curry=Eu.curry,ve.curryRight=Eu.curryRight,ve.debounce=Eu.debounce,ve.defaults=Ou.defaults,ve.defaultsDeep=Ou.defaultsDeep,ve.defer=Eu.defer,ve.delay=Eu.delay,ve.difference=xu.difference,ve.differenceBy=xu.differenceBy,ve.differenceWith=xu.differenceWith,ve.drop=xu.drop,ve.dropRight=xu.dropRight,ve.dropRightWhile=xu.dropRightWhile,ve.dropWhile=xu.dropWhile,ve.fill=xu.fill,ve.filter=wu.filter,ve.flatMap=wu.flatMap,ve.flatMapDeep=wu.flatMapDeep,ve.flatMapDepth=wu.flatMapDepth,ve.flatten=xu.flatten,ve.flattenDeep=xu.flattenDeep,ve.flattenDepth=xu.flattenDepth,ve.flip=Eu.flip,ve.flow=Tu.flow,ve.flowRight=Tu.flowRight,ve.fromPairs=xu.fromPairs,ve.functions=Ou.functions,ve.functionsIn=Ou.functionsIn,ve.groupBy=wu.groupBy,ve.initial=xu.initial,ve.intersection=xu.intersection,ve.intersectionBy=xu.intersectionBy,ve.intersectionWith=xu.intersectionWith,ve.invert=Ou.invert,ve.invertBy=Ou.invertBy,ve.invokeMap=wu.invokeMap,ve.iteratee=Tu.iteratee,ve.keyBy=wu.keyBy,ve.keys=jt,ve.keysIn=Ou.keysIn,ve.map=wu.map,ve.mapKeys=Ou.mapKeys,ve.mapValues=Ou.mapValues,ve.matches=Tu.matches,ve.matchesProperty=Tu.matchesProperty,ve.memoize=Eu.memoize,ve.merge=Ou.merge,ve.mergeWith=Ou.mergeWith,ve.method=Tu.method,ve.methodOf=Tu.methodOf,ve.mixin=Pu,ve.negate=Ka,ve.nthArg=Tu.nthArg,ve.omit=Ou.omit,ve.omitBy=Ou.omitBy,ve.once=Eu.once,ve.orderBy=wu.orderBy,ve.over=Tu.over,ve.overArgs=Eu.overArgs,ve.overEvery=Tu.overEvery,ve.overSome=Tu.overSome,ve.partial=Eu.partial,ve.partialRight=Eu.partialRight,ve.partition=wu.partition,ve.pick=Ou.pick,ve.pickBy=Ou.pickBy,ve.property=Tu.property,ve.propertyOf=Tu.propertyOf,ve.pull=xu.pull,ve.pullAll=xu.pullAll,ve.pullAllBy=xu.pullAllBy,ve.pullAllWith=xu.pullAllWith,ve.pullAt=xu.pullAt,ve.range=Tu.range,ve.rangeRight=Tu.rangeRight,ve.rearg=Eu.rearg,ve.reject=wu.reject,ve.remove=xu.remove,ve.rest=Eu.rest,ve.reverse=xu.reverse,ve.sampleSize=wu.sampleSize,ve.set=Ou.set,ve.setWith=Ou.setWith,ve.shuffle=wu.shuffle,ve.slice=xu.slice,ve.sortBy=wu.sortBy,ve.sortedUniq=xu.sortedUniq,ve.sortedUniqBy=xu.sortedUniqBy,ve.split=Lu.split,ve.spread=Eu.spread,ve.tail=xu.tail,ve.take=xu.take,ve.takeRight=xu.takeRight,ve.takeRightWhile=xu.takeRightWhile,ve.takeWhile=xu.takeWhile,ve.tap=Cu.tap,ve.throttle=Eu.throttle,ve.thru=$c,ve.toArray=Nu.toArray,ve.toPairs=Ou.toPairs,ve.toPairsIn=Ou.toPairsIn,ve.toPath=Tu.toPath,ve.toPlainObject=Nu.toPlainObject,ve.transform=Ou.transform,ve.unary=Eu.unary,ve.union=xu.union,ve.unionBy=xu.unionBy,ve.unionWith=xu.unionWith,ve.uniq=xu.uniq,ve.uniqBy=xu.uniqBy,ve.uniqWith=xu.uniqWith,ve.unset=Ou.unset,ve.unzip=xu.unzip,ve.unzipWith=xu.unzipWith,ve.update=Ou.update,ve.updateWith=Ou.updateWith,ve.values=Ou.values,ve.valuesIn=Ou.valuesIn,ve.without=xu.without,ve.words=Lu.words,ve.wrap=Eu.wrap,ve.xor=xu.xor,ve.xorBy=xu.xorBy,ve.xorWith=xu.xorWith,ve.zip=xu.zip,ve.zipObject=xu.zipObject,ve.zipObjectDeep=xu.zipObjectDeep,ve.zipWith=xu.zipWith,ve.entries=Ou.toPairs,ve.entriesIn=Ou.toPairsIn,ve.extend=Ou.assignIn,ve.extendWith=Ou.assignInWith,Pu(ve,ve),ve.add=ku.add,ve.attempt=Tu.attempt,ve.camelCase=Lu.camelCase,ve.capitalize=Lu.capitalize,ve.ceil=ku.ceil,ve.clamp=Au,ve.clone=Nu.clone,ve.cloneDeep=Nu.cloneDeep,ve.cloneDeepWith=Nu.cloneDeepWith,ve.cloneWith=Nu.cloneWith,ve.conformsTo=Nu.conformsTo,ve.deburr=Lu.deburr,ve.defaultTo=Tu.defaultTo,ve.divide=ku.divide,ve.endsWith=Lu.endsWith,ve.eq=Nu.eq,ve.escape=Lu.escape,ve.escapeRegExp=Lu.escapeRegExp,ve.every=wu.every,ve.find=wu.find,ve.findIndex=xu.findIndex,ve.findKey=Ou.findKey,ve.findLast=wu.findLast,ve.findLastIndex=xu.findLastIndex,ve.findLastKey=Ou.findLastKey,ve.floor=ku.floor,ve.forEach=wu.forEach,ve.forEachRight=wu.forEachRight,ve.forIn=Ou.forIn,ve.forInRight=Ou.forInRight,ve.forOwn=Ou.forOwn,ve.forOwnRight=Ou.forOwnRight,ve.get=Ou.get,ve.gt=Nu.gt,ve.gte=Nu.gte,ve.has=Ou.has,ve.hasIn=Ou.hasIn,ve.head=xu.head,ve.identity=I,ve.includes=wu.includes,ve.indexOf=xu.indexOf,ve.inRange=Su,ve.invoke=Ou.invoke,ve.isArguments=Nu.isArguments,ve.isArray=m,ve.isArrayBuffer=Nu.isArrayBuffer,ve.isArrayLike=Nu.isArrayLike,ve.isArrayLikeObject=Nu.isArrayLikeObject,ve.isBoolean=Nu.isBoolean,ve.isBuffer=Nu.isBuffer,ve.isDate=Nu.isDate,ve.isElement=Nu.isElement,ve.isEmpty=Nu.isEmpty,ve.isEqual=Nu.isEqual,ve.isEqualWith=Nu.isEqualWith,ve.isError=Nu.isError,ve.isFinite=Nu.isFinite,ve.isFunction=Nu.isFunction,ve.isInteger=Nu.isInteger,ve.isLength=Nu.isLength,ve.isMap=Nu.isMap,ve.isMatch=Nu.isMatch,ve.isMatchWith=Nu.isMatchWith,ve.isNaN=Nu.isNaN,ve.isNative=Nu.isNative,ve.isNil=Nu.isNil,ve.isNull=Nu.isNull,ve.isNumber=Nu.isNumber,ve.isObject=A,ve.isObjectLike=Nu.isObjectLike,ve.isPlainObject=Nu.isPlainObject,ve.isRegExp=Nu.isRegExp,ve.isSafeInteger=Nu.isSafeInteger,ve.isSet=Nu.isSet,ve.isString=Nu.isString,ve.isSymbol=Nu.isSymbol,ve.isTypedArray=Nu.isTypedArray,ve.isUndefined=Nu.isUndefined,ve.isWeakMap=Nu.isWeakMap,ve.isWeakSet=Nu.isWeakSet,ve.join=xu.join,ve.kebabCase=Lu.kebabCase,ve.last=Ks,ve.lastIndexOf=xu.lastIndexOf,ve.lowerCase=Lu.lowerCase,ve.lowerFirst=Lu.lowerFirst,ve.lt=Nu.lt,ve.lte=Nu.lte,ve.max=ku.max,ve.maxBy=ku.maxBy,ve.mean=ku.mean,ve.meanBy=ku.meanBy,ve.min=ku.min,ve.minBy=ku.minBy,ve.stubArray=Tu.stubArray,ve.stubFalse=Tu.stubFalse,ve.stubObject=Tu.stubObject,ve.stubString=Tu.stubString,ve.stubTrue=Tu.stubTrue,ve.multiply=ku.multiply,ve.nth=xu.nth,ve.noop=Tu.noop,ve.now=_u,ve.pad=Lu.pad,ve.padEnd=Lu.padEnd,ve.padStart=Lu.padStart,ve.parseInt=Lu.parseInt,ve.random=qu,ve.reduce=wu.reduce,ve.reduceRight=wu.reduceRight,ve.repeat=Lu.repeat,ve.replace=Lu.replace,ve.result=Ou.result,ve.round=ku.round,ve.sample=wu.sample,ve.size=wu.size,ve.snakeCase=Lu.snakeCase,ve.some=wu.some,ve.sortedIndex=xu.sortedIndex,ve.sortedIndexBy=xu.sortedIndexBy,ve.sortedIndexOf=xu.sortedIndexOf,ve.sortedLastIndex=xu.sortedLastIndex,ve.sortedLastIndexBy=xu.sortedLastIndexBy,ve.sortedLastIndexOf=xu.sortedLastIndexOf,ve.startCase=Lu.startCase,ve.startsWith=Lu.startsWith,ve.subtract=ku.subtract,ve.sum=ku.sum,ve.sumBy=ku.sumBy,ve.template=Lu.template,ve.times=Tu.times,ve.toFinite=Nu.toFinite,ve.toInteger=R,ve.toLength=Nu.toLength,ve.toLower=Lu.toLower,ve.toNumber=Nu.toNumber,ve.toSafeInteger=Nu.toSafeInteger,ve.toString=Nu.toString,ve.toUpper=Lu.toUpper,ve.trim=Lu.trim,ve.trimEnd=Lu.trimEnd,ve.trimStart=Lu.trimStart,ve.truncate=Lu.truncate,ve.unescape=Lu.unescape,ve.uniqueId=Tu.uniqueId,ve.upperCase=Lu.upperCase,ve.upperFirst=Lu.upperFirst,ve.each=wu.forEach,ve.eachRight=wu.forEachRight,ve.first=xu.head,Pu(ve,function(){var e={};return ms(ve,(function(t,n){Bu.call(ve.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),ve.VERSION="4.17.21",(ve.templateSettings=Lu.templateSettings).imports._=ve,Ce(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){ve[e].placeholder=ve})),Ce(["drop","take"],(function(e,t){le.prototype[e]=function(n){n=void 0===n?1:Uu(R(n),0);var r=this.__filtered__&&!t?new le(this):this.clone();return r.__filtered__?r.__takeCount__=$u(n,r.__takeCount__):r.__views__.push({size:$u(n,ju),type:e+(r.__dir__<0?"Right":"")}),r},le.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ce(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;le.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:hs(e),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ce(["head","last"],(function(e,t){var n="take"+(t?"Right":"");le.prototype[e]=function(){return this[n](1).value()[0]}})),Ce(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");le.prototype[e]=function(){return this.__filtered__?new le(this):this[n](1)}})),le.prototype.compact=function(){return this.filter(I)},le.prototype.find=function(e){return this.filter(e).head()},le.prototype.findLast=function(e){return this.reverse().find(e)},le.prototype.invokeMap=it((function(e,t){return"function"==typeof e?new le(this):this.map((function(n){return da(n,e,t)}))})),le.prototype.reject=function(e){return this.filter(Ka(hs(e)))},le.prototype.slice=function(e,t){e=R(e);var n=this;return n.__filtered__&&(e>0||t<0)?new le(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=R(t))<0?n.dropRight(-t):n.take(t-e)),n)},le.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},le.prototype.toArray=function(){return this.take(ju)},ms(le.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=ve[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(ve.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,a=t instanceof le,l=o[0],c=a||m(t),u=function(e){var t=i.apply(ve,gn([e],o));return r&&h?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(a=c=!1);var h=this.__chain__,d=!!this.__actions__.length,f=s&&!h,p=a&&!d;if(!s&&c){t=p?t:new le(this);var g=e.apply(t,o);return g.__actions__.push({func:$c,args:[u],thisArg:void 0}),new pe(g,h)}return f&&p?e.apply(this,o):(g=this.thru(u),f?r?g.value()[0]:g.value():g)})})),Ce(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Du[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);ve.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(m(i)?i:[],e)}return this[n]((function(n){return t.apply(m(n)?n:[],e)}))}})),ms(le.prototype,(function(e,t){var n=ve[t];if(n){var r=n.name+"";Bu.call(he,r)||(he[r]=[]),he[r].push({name:t,func:n})}})),he[Fe(void 0,2).name]=[{name:"wrapper",func:void 0}],le.prototype.clone=function(){var e=new le(this.__wrapped__);return e.__actions__=ge(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ge(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ge(this.__views__),e},le.prototype.reverse=function(){if(this.__filtered__){var e=new le(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},le.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=m(e),r=t<0,i=n?e.length:0,s=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Ru(t,e+o);break;case"takeRight":e=Mu(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=s.start,a=s.end,l=a-o,c=r?a:o-1,u=this.__iteratees__,h=u.length,d=0,f=Iu(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return Fc(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var g=-1,b=e[c+=t];++g<h;){var v=u[g],y=v.iteratee,x=v.type,w=y(b);if(2==x)b=w;else if(!w){if(1==x)continue e;break e}}p[d++]=b}return p},ve.prototype.at=Cu.at,ve.prototype.chain=Cu.wrapperChain,ve.prototype.commit=Cu.commit,ve.prototype.next=Cu.next,ve.prototype.plant=Cu.plant,ve.prototype.reverse=Cu.reverse,ve.prototype.toJSON=ve.prototype.valueOf=ve.prototype.value=Cu.value,ve.prototype.first=ve.prototype.head,zu&&(ve.prototype[zu]=Cu.toIterator);var Hu=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Hu||{});class Fu{constructor(e,t,n={}){this.attrName=e,this.keyName=t;const r=Hu.TYPE&Hu.ATTRIBUTE;this.scope=null!=n.scope?n.scope&Hu.LEVEL|r:Hu.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}static keys(e){return Array.from(e.attributes).map((e=>e.name))}add(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)}canAdd(e,t){return null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Wu extends Error{constructor(e){super(e="[Parchment] "+e),this.message=e,this.name=this.constructor.name}}const Ku=class e{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(null==e)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let n=null;try{n=e.parentNode}catch{return null}return this.find(n,t)}return null}create(t,n,r){const i=this.query(n);if(null==i)throw new Wu(`Unable to create ${n} blot`);const s=i,o=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:s.create(r),a=new s(t,o,r);return e.blots.set(a.domNode,a),a}find(t,n=!1){return e.find(t,n)}query(e,t=Hu.ANY){let n;return"string"==typeof e?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:"number"==typeof e?e&Hu.LEVEL&Hu.BLOCK?n=this.types.block:e&Hu.LEVEL&Hu.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some((e=>(n=this.classes[e],!!n))),n=n||this.tags[e.tagName]),null==n?null:"scope"in n&&t&Hu.LEVEL&n.scope&&t&Hu.TYPE&n.scope?n:null}register(...e){return e.map((e=>{const t="blotName"in e,n="attrName"in e;if(!t&&!n)throw new Wu("Invalid definition");if(t&&"abstract"===e.blotName)throw new Wu("Cannot register abstract class");const r=t?e.blotName:n?e.attrName:void 0;return this.types[r]=e,n?"string"==typeof e.keyName&&(this.attributes[e.keyName]=e):t&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map((e=>e.toUpperCase())):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach((t=>{(null==this.tags[t]||null==e.className)&&(this.tags[t]=e)})))),e}))}};Ku.blots=new WeakMap;let Vu=Ku;function Gu(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((e=>0===e.indexOf(`${t}-`)))}const Zu=class extends Fu{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map((e=>e.split("-").slice(0,-1).join("-")))}add(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0)}remove(e){Gu(e,this.keyName).forEach((t=>{e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")}value(e){const t=(Gu(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}};function Qu(e){const t=e.split("-"),n=t.slice(1).map((e=>e[0].toUpperCase()+e.slice(1))).join("");return t[0]+n}const Xu=class extends Fu{static keys(e){return(e.getAttribute("style")||"").split(";").map((e=>e.split(":")[0].trim()))}add(e,t){return!!this.canAdd(e,t)&&(e.style[Qu(this.keyName)]=t,!0)}remove(e){e.style[Qu(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Qu(this.keyName)];return this.canAdd(e,t)?t:""}};const Yu=class{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Vu.find(this.domNode);if(null==e)return;const t=Fu.keys(this.domNode),n=Zu.keys(this.domNode),r=Xu.keys(this.domNode);t.concat(n).concat(r).forEach((t=>{const n=e.scroll.query(t,Hu.ATTRIBUTE);n instanceof Fu&&(this.attributes[n.attrName]=n)}))}copy(e){Object.keys(this.attributes).forEach((t=>{const n=this.attributes[t].value(this.domNode);e.format(t,n)}))}move(e){this.copy(e),Object.keys(this.attributes).forEach((e=>{this.attributes[e].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e)),{})}},Ju=class{constructor(e,t){this.scroll=e,this.domNode=t,Vu.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(null==this.tagName)throw new Wu("Blot definition missing tagName");let t,n;return Array.isArray(this.tagName)?("string"==typeof e?(n=e.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):"number"==typeof e&&(n=e),t="number"==typeof n?document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?document.createElement(n):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){null!=this.parent&&this.parent.removeChild(this),Vu.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,n,r){const i=this.isolate(e,t);if(null!=this.scroll.query(n,Hu.BLOT)&&r)i.wrap(n,r);else if(null!=this.scroll.query(n,Hu.ATTRIBUTE)){const e=this.scroll.create(this.statics.scope);i.wrap(e),e.format(n,r)}}insertAt(e,t,n){const r=null==n?this.scroll.create("text",t):this.scroll.create(t,n),i=this.split(e);this.parent.insertBefore(r,i||void 0)}isolate(e,t){const n=this.split(e);if(null==n)throw new Error("Attempt to isolate at end");return n.split(t),n}length(){return 1}offset(e=this.parent){return null==this.parent||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const n="string"==typeof e?this.scroll.create(e,t):e;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(e,t){return 0===e?this:this.next}update(e,t){}wrap(e,t){const n="string"==typeof e?this.scroll.create(e,t):e;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!=typeof n.appendChild)throw new Wu(`Cannot wrap ${e}`);return n.appendChild(this),n}};Ju.blotName="abstract";let eh=Ju;const th=class extends eh{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};th.scope=Hu.INLINE_BLOT;const nh=th;class rh{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let n=t();for(;n&&e>0;)e-=1,n=t();return n}contains(e){const t=this.iterator();let n=t();for(;n;){if(n===e)return!0;n=t()}return!1}indexOf(e){const t=this.iterator();let n=t(),r=0;for(;n;){if(n===e)return r;r+=1,n=t()}return-1}insertBefore(e,t){null!=e&&(this.remove(e),e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,n=this.head;for(;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1}remove(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return null!=e&&(e=e.next),t}}find(e,t=!1){const n=this.iterator();let r=n();for(;r;){const i=r.length();if(e<i||t&&e===i&&(null==r.next||0!==r.next.length()))return[r,e];e-=i,r=n()}return[null,0]}forEach(e){const t=this.iterator();let n=t();for(;n;)e(n),n=t()}forEachAt(e,t,n){if(t<=0)return;const[r,i]=this.find(e);let s=e-i;const o=this.iterator(r);let a=o();for(;a&&s<e+t;){const r=a.length();e>s?n(a,e-s,Math.min(t,s+r-e)):n(a,0,Math.min(r,e+t-s)),s+=r,a=o()}}map(e){return this.reduce(((t,n)=>(t.push(e(n)),t)),[])}reduce(e,t){const n=this.iterator();let r=n();for(;r;)t=e(t,r),r=n();return t}}function ih(e,t){const n=t.find(e);if(n)return n;try{return t.create(e)}catch{const n=t.create(Hu.INLINE);return Array.from(e.childNodes).forEach((e=>{n.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach(),n}}const sh=class e extends eh{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach((e=>{e.attach()}))}attachUI(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,e.uiClass&&this.uiNode.classList.add(e.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new rh,Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)).reverse().forEach((e=>{try{const t=ih(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(e){if(e instanceof Wu)return;throw e}}))}deleteAt(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,((e,t,n)=>{e.deleteAt(t,n)}))}descendant(t,n=0){const[r,i]=this.children.find(n);return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,i]:r instanceof e?r.descendant(t,i):[null,-1]}descendants(t,n=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(n,r,((n,r,o)=>{(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&i.push(n),n instanceof e&&(i=i.concat(n.descendants(t,r,s))),s-=o})),i}detach(){this.children.forEach((e=>{e.detach()})),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach((n=>{t||this.statics.allowedChildren.some((e=>n instanceof e))||(n.statics.scope===Hu.BLOCK_BLOT?(null!=n.next&&this.splitAfter(n),null!=n.prev&&this.splitAfter(n.prev),n.parent.unwrap(),t=!0):n instanceof e?n.unwrap():n.remove())}))}formatAt(e,t,n,r){this.children.forEachAt(e,t,((e,t,i)=>{e.formatAt(t,i,n,r)}))}insertAt(e,t,n){const[r,i]=this.children.find(e);if(r)r.insertAt(i,t,n);else{const e=null==n?this.scroll.create("text",t):this.scroll.create(t,n);this.appendChild(e)}}insertBefore(e,t){null!=e.parent&&e.parent.children.remove(e);let n=null;this.children.insertBefore(e,t||null),e.parent=this,null!=t&&(n=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(e.domNode,n),e.attach()}length(){return this.children.reduce(((e,t)=>e+t.length()),0)}moveChildren(e,t){this.children.forEach((n=>{e.insertBefore(n,t)}))}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,n=!1){const[r,i]=this.children.find(t,n),s=[[this,t]];return r instanceof e?s.concat(r.path(i,n)):(null!=r&&s.push([r,i]),s)}removeChild(e){this.children.remove(e)}replaceWith(t,n){const r="string"==typeof t?this.scroll.create(t,n):t;return r instanceof e&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(0===e)return this;if(e===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),((e,r,i)=>{const s=e.split(r,t);null!=s&&n.appendChild(s)})),n}splitAfter(e){const t=this.clone();for(;null!=e.next;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const n=[],r=[];e.forEach((e=>{e.target===this.domNode&&"childList"===e.type&&(n.push(...e.addedNodes),r.push(...e.removedNodes))})),r.forEach((e=>{if(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const t=this.scroll.find(e);null!=t&&(null==t.domNode.parentNode||t.domNode.parentNode===this.domNode)&&t.detach()})),n.filter((e=>e.parentNode===this.domNode&&e!==this.uiNode)).sort(((e,t)=>e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((e=>{let t=null;null!=e.nextSibling&&(t=this.scroll.find(e.nextSibling));const n=ih(e,this.scroll);(n.next!==t||null==n.next)&&(null!=n.parent&&n.parent.removeChild(this),this.insertBefore(n,t||void 0))})),this.enforceAllowedChildren()}};sh.uiClass="";const oh=sh;const ah=class e extends oh{static create(e){return super.create(e)}static formats(t,n){const r=n.query(e.blotName);if(null==r||t.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Yu(this.domNode)}format(t,n){if(t!==this.statics.blotName||n){const e=this.scroll.query(t,Hu.INLINE);if(null==e)return;e instanceof Fu?this.attributes.attribute(e,n):n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n)}else this.children.forEach((t=>{t instanceof e||(t=t.wrap(e.blotName,!0)),this.attributes.copy(t)})),this.unwrap()}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,r){null!=this.formats()[n]||this.scroll.query(n,Hu.ATTRIBUTE)?this.isolate(e,t).format(n,r):super.formatAt(e,t,n,r)}optimize(t){super.optimize(t);const n=this.formats();if(0===Object.keys(n).length)return this.unwrap();const r=this.next;r instanceof e&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}(n,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}wrap(t,n){const r=super.wrap(t,n);return r instanceof e&&this.attributes.move(r),r}};ah.allowedChildren=[ah,nh],ah.blotName="inline",ah.scope=Hu.INLINE_BLOT,ah.tagName="SPAN";const lh=ah,ch=class e extends oh{static create(e){return super.create(e)}static formats(t,n){const r=n.query(e.blotName);if(null==r||t.tagName!==r.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Yu(this.domNode)}format(t,n){const r=this.scroll.query(t,Hu.BLOCK);null!=r&&(r instanceof Fu?this.attributes.attribute(r,n):t!==this.statics.blotName||n?n&&(t!==this.statics.blotName||this.formats()[t]!==n)&&this.replaceWith(t,n):this.replaceWith(e.blotName))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,n,r){null!=this.scroll.query(n,Hu.BLOCK)?this.format(n,r):super.formatAt(e,t,n,r)}insertAt(e,t,n){if(null==n||null!=this.scroll.query(t,Hu.INLINE))super.insertAt(e,t,n);else{const r=this.split(e);if(null==r)throw new Error("Attempt to insertAt after block boundaries");{const e=this.scroll.create(t,n);r.parent.insertBefore(e,r)}}}replaceWith(e,t){const n=super.replaceWith(e,t);return this.attributes.copy(n),n}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}};ch.blotName="block",ch.scope=Hu.BLOCK_BLOT,ch.tagName="P",ch.allowedChildren=[lh,ch,nh];const uh=ch,hh=class extends oh{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,n,r){super.formatAt(e,t,n,r),this.enforceAllowedChildren()}insertAt(e,t,n){super.insertAt(e,t,n),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};hh.blotName="container",hh.scope=Hu.BLOCK_BLOT;const dh=hh;const fh=class extends nh{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,n,r){0===e&&t===this.length()?this.format(n,r):super.formatAt(e,t,n,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}},ph={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},gh=class extends oh{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver((e=>{this.update(e)})),this.observer.observe(this.domNode,ph),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const n=this.registry.find(e,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null}query(e,t=Hu.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),0===e&&t===this.length()?this.children.forEach((e=>{e.remove()})):super.deleteAt(e,t)}formatAt(e,t,n,r){this.update(),super.formatAt(e,t,n,r)}insertAt(e,t,n){this.update(),super.insertAt(e,t,n)}optimize(e=[],t={}){super.optimize(t);const n=t.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)e.push(r.pop());const i=(e,t=!0)=>{null==e||e===this||null!=e.domNode.parentNode&&(n.has(e.domNode)||n.set(e.domNode,[]),t&&i(e.parent))},s=e=>{n.has(e.domNode)&&(e instanceof oh&&e.children.forEach(s),n.delete(e.domNode),e.optimize(t))};let o=e;for(let t=0;o.length>0;t+=1){if(t>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach((e=>{const t=this.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(i(this.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach((e=>{const t=this.find(e,!1);i(t,!1),t instanceof oh&&t.children.forEach((e=>{i(e,!1)}))}))):"attributes"===e.type&&i(t.prev)),i(t))})),this.children.forEach(s),o=Array.from(this.observer.takeRecords()),r=o.slice();r.length>0;)e.push(r.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const n=new WeakMap;e.map((e=>{const t=this.find(e.target,!0);return null==t?null:n.has(t.domNode)?(n.get(t.domNode).push(e),null):(n.set(t.domNode,[e]),t)})).forEach((e=>{null!=e&&e!==this&&n.has(e.domNode)&&e.update(n.get(e.domNode)||[],t)})),t.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),t),this.optimize(e,t)}};gh.blotName="scroll",gh.defaultChild=uh,gh.allowedChildren=[uh,dh],gh.scope=Hu.BLOCK_BLOT,gh.tagName="DIV";const mh=gh,bh=class e extends nh{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,n){null==n?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(0===e)return this;if(e===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(e,t){e.some((e=>"characterData"===e.type&&e.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};bh.blotName="text",bh.scope=Hu.INLINE_BLOT;const vh=bh;var yh=Object.freeze({__proto__:null,Attributor:Fu,AttributorStore:Yu,BlockBlot:uh,ClassAttributor:Zu,ContainerBlot:dh,EmbedBlot:fh,InlineBlot:lh,LeafBlot:nh,ParentBlot:oh,Registry:Vu,Scope:Hu,ScrollBlot:mh,StyleAttributor:Xu,TextBlot:vh}),xh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function wh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _h={},Eh={get exports(){return _h},set exports(e){_h=e}},Nh=-1;function kh(e,t,n,r,i){if(e===t)return e?[[0,e]]:[];if(null!=n){var s=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,s=e.length,o=t.length;if(0===r.length&&(null===i||0===i.length)){var a=r.index,l=e.slice(0,a),c=e.slice(a),u=i?i.index:null,h=a+o-s;if((null===u||u===h)&&!(h<0||h>o)){var d=t.slice(0,h);if((g=t.slice(h))===c){var f=Math.min(a,h);if((b=l.slice(0,f))===(y=d.slice(0,f)))return Uh(b,l.slice(f),d.slice(f),c)}}if(null===u||u===a){var p=a,g=(d=t.slice(0,p),t.slice(p));if(d===l){var m=Math.min(s-p,o-p);if((v=c.slice(c.length-m))===(x=g.slice(g.length-m)))return Uh(l,c.slice(0,c.length-m),g.slice(0,g.length-m),v)}}}if(r.length>0&&i&&0===i.length){var b=e.slice(0,r.index),v=e.slice(r.index+r.length);if(!(o<(f=b.length)+(m=v.length))){var y=t.slice(0,f),x=t.slice(o-m);if(b===y&&v===x)return Uh(b,e.slice(f,s-m),t.slice(f,o-m),v)}}return null}(e,t,n);if(s)return s}var o=Sh(e,t),a=e.substring(0,o);o=Oh(e=e.substring(o),t=t.substring(o));var l=e.substring(e.length-o),c=function(e,t){var n;if(!e)return[[1,t]];if(!t)return[[Nh,e]];var r=e.length>t.length?e:t,i=e.length>t.length?t:e,s=r.indexOf(i);if(-1!==s)return n=[[1,r.substring(0,s)],[0,i],[1,r.substring(s+i.length)]],e.length>t.length&&(n[0][0]=n[2][0]=Nh),n;if(1===i.length)return[[Nh,e],[1,t]];var o=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,s,o,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!==(l=t.indexOf(a,l+1));){var u=Sh(e.substring(n),t.substring(l)),h=Oh(e.substring(0,n),t.substring(0,l));c.length<h+u&&(c=t.substring(l-h,l)+t.substring(l,l+u),r=e.substring(0,n-h),i=e.substring(n+u),s=t.substring(0,l-h),o=t.substring(l+u))}return 2*c.length>=e.length?[r,i,s,o,c]:null}var s,o,a,l,c,u=i(n,r,Math.ceil(n.length/4)),h=i(n,r,Math.ceil(n.length/2));if(!u&&!h)return null;s=h?u&&u[4].length>h[4].length?u:h:u;e.length>t.length?(o=s[0],a=s[1],l=s[2],c=s[3]):(l=s[0],c=s[1],o=s[2],a=s[3]);var d=s[4];return[o,a,l,c,d]}(e,t);if(o){var a=o[0],l=o[1],c=o[2],u=o[3],h=o[4],d=kh(a,c),f=kh(l,u);return d.concat([[0,h]],f)}return function(e,t){for(var n=e.length,r=t.length,i=Math.ceil((n+r)/2),s=i,o=2*i,a=new Array(o),l=new Array(o),c=0;c<o;c++)a[c]=-1,l[c]=-1;a[s+1]=0,l[s+1]=0;for(var u=n-r,h=u%2!=0,d=0,f=0,p=0,g=0,m=0;m<i;m++){for(var b=-m+d;b<=m-f;b+=2){for(var v=s+b,y=(N=b===-m||b!==m&&a[v-1]<a[v+1]?a[v+1]:a[v-1]+1)-b;N<n&&y<r&&e.charAt(N)===t.charAt(y);)N++,y++;if(a[v]=N,N>n)f+=2;else if(y>r)d+=2;else if(h){if((_=s+u-b)>=0&&_<o&&-1!==l[_])if(N>=(w=n-l[_]))return Ah(e,t,N,y)}}for(var x=-m+p;x<=m-g;x+=2){for(var w,_=s+x,E=(w=x===-m||x!==m&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-x;w<n&&E<r&&e.charAt(n-w-1)===t.charAt(r-E-1);)w++,E++;if(l[_]=w,w>n)g+=2;else if(E>r)p+=2;else if(!h){if((v=s+u-x)>=0&&v<o&&-1!==a[v]){var N;y=s+(N=a[v])-v;if(N>=(w=n-w))return Ah(e,t,N,y)}}}}return[[Nh,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-o),t=t.substring(0,t.length-o));return a&&c.unshift([0,a]),l&&c.push([0,l]),Ih(c,i),r&&function(e){var t=!1,n=[],r=0,i=null,s=0,o=0,a=0,l=0,c=0;for(;s<e.length;)0==e[s][0]?(n[r++]=s,o=l,a=c,l=0,c=0,i=e[s][1]):(1==e[s][0]?l+=e[s][1].length:c+=e[s][1].length,i&&i.length<=Math.max(o,a)&&i.length<=Math.max(l,c)&&(e.splice(n[r-1],0,[Nh,i]),e[n[r-1]+1][0]=1,r--,s=--r>0?n[r-1]:-1,o=0,a=0,l=0,c=0,i=null,t=!0)),s++;t&&Ih(e);(function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),r=t.charAt(0),i=n.match(Ch),s=r.match(Ch),o=i&&n.match(Lh),a=s&&r.match(Lh),l=o&&n.match(Th),c=a&&r.match(Th),u=l&&e.match(Mh),h=c&&t.match(Rh);return u||h?5:l||c?4:i&&!o&&a?3:o||a?2:i||s?1:0}var n=1;for(;n<e.length-1;){if(0==e[n-1][0]&&0==e[n+1][0]){var r=e[n-1][1],i=e[n][1],s=e[n+1][1],o=Oh(r,i);if(o){var a=i.substring(i.length-o);r=r.substring(0,r.length-o),i=a+i.substring(0,i.length-o),s=a+s}for(var l=r,c=i,u=s,h=t(r,i)+t(i,s);i.charAt(0)===s.charAt(0);){r+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var d=t(r,i)+t(i,s);d>=h&&(h=d,l=r,c=i,u=s)}e[n-1][1]!=l&&(l?e[n-1][1]=l:(e.splice(n-1,1),n--),e[n][1]=c,u?e[n+1][1]=u:(e.splice(n+1,1),n--))}n++}})(e),s=1;for(;s<e.length;){if(e[s-1][0]==Nh&&1==e[s][0]){var u=e[s-1][1],h=e[s][1],d=qh(u,h),f=qh(h,u);d>=f?(d>=u.length/2||d>=h.length/2)&&(e.splice(s,0,[0,h.substring(0,d)]),e[s-1][1]=u.substring(0,u.length-d),e[s+1][1]=h.substring(d),s++):(f>=u.length/2||f>=h.length/2)&&(e.splice(s,0,[0,u.substring(0,f)]),e[s-1][0]=1,e[s-1][1]=h.substring(0,h.length-f),e[s+1][0]=Nh,e[s+1][1]=u.substring(f),s++),s++}s++}}(c),c}function Ah(e,t,n,r){var i=e.substring(0,n),s=t.substring(0,r),o=e.substring(n),a=t.substring(r),l=kh(i,s),c=kh(o,a);return l.concat(c)}function Sh(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,s=0;n<i;)e.substring(s,i)==t.substring(s,i)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return jh(e.charCodeAt(i-1))&&i--,i}function qh(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var s=0,o=1;;){var a=e.substring(i-o),l=t.indexOf(a);if(-1==l)return s;o+=l,0!=l&&e.substring(i-o)!=t.substring(0,o)||(s=o,o++)}}function Oh(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,s=0;n<i;)e.substring(e.length-i,e.length-s)==t.substring(t.length-i,t.length-s)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return Dh(e.charCodeAt(e.length-i))&&i--,i}var Ch=/[^a-zA-Z0-9]/,Lh=/\s/,Th=/[\r\n]/,Mh=/\n\r?\n$/,Rh=/^\r?\n\r?\n/;function Ih(e,t){e.push([0,""]);for(var n,r=0,i=0,s=0,o="",a="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:s++,a+=e[r][1],r++;break;case Nh:i++,o+=e[r][1],r++;break;case 0:var l=r-s-i-1;if(t){if(l>=0&&zh(e[l][1])){var c=e[l][1].slice(-1);if(e[l][1]=e[l][1].slice(0,-1),o=c+o,a=c+a,!e[l][1]){e.splice(l,1),r--;var u=l-1;e[u]&&1===e[u][0]&&(s++,a=e[u][1]+a,u--),e[u]&&e[u][0]===Nh&&(i++,o=e[u][1]+o,u--),l=u}}if(Bh(e[r][1])){c=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),o+=c,a+=c}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(o.length>0||a.length>0){o.length>0&&a.length>0&&(0!==(n=Sh(a,o))&&(l>=0?e[l][1]+=a.substring(0,n):(e.splice(0,0,[0,a.substring(0,n)]),r++),a=a.substring(n),o=o.substring(n)),0!==(n=Oh(a,o))&&(e[r][1]=a.substring(a.length-n)+e[r][1],a=a.substring(0,a.length-n),o=o.substring(0,o.length-n)));var h=s+i;0===o.length&&0===a.length?(e.splice(r-h,h),r-=h):0===o.length?(e.splice(r-h,h,[1,a]),r=r-h+1):0===a.length?(e.splice(r-h,h,[Nh,o]),r=r-h+1):(e.splice(r-h,h,[Nh,o],[1,a]),r=r-h+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,i=0,o="",a=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),d=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),d=!0)),r++;d&&Ih(e,t)}function jh(e){return e>=55296&&e<=56319}function Dh(e){return e>=56320&&e<=57343}function Bh(e){return Dh(e.charCodeAt(0))}function zh(e){return jh(e.charCodeAt(e.length-1))}function Uh(e,t,n,r){return zh(e)||Bh(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[Nh,t],[1,n],[0,r]])}function $h(e,t,n,r){return kh(e,t,n,r,!0)}$h.INSERT=1,$h.DELETE=Nh,$h.EQUAL=0;var Ph=$h,Hh={};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",s="[object Boolean]",o="[object Date]",a="[object Function]",l="[object GeneratorFunction]",c="[object Map]",u="[object Number]",h="[object Object]",d="[object Promise]",f="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",b="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",E="[object Int16Array]",N="[object Int32Array]",k="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",q="[object Uint32Array]",O=/\w*$/,C=/^\[object .+?Constructor\]$/,L=/^(?:0|[1-9]\d*)$/,T={};T[i]=T["[object Array]"]=T[v]=T[y]=T[s]=T[o]=T[x]=T[w]=T[_]=T[E]=T[N]=T[c]=T[u]=T[h]=T[f]=T[p]=T[g]=T[m]=T[k]=T[A]=T[S]=T[q]=!0,T["[object Error]"]=T[a]=T[b]=!1;var M="object"==typeof xh&&xh&&xh.Object===Object&&xh,R="object"==typeof self&&self&&self.Object===Object&&self,I=M||R||Function("return this")(),j=t&&!t.nodeType&&t,D=j&&e&&!e.nodeType&&e,B=D&&D.exports===j;function z(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function $(e,t,n,r){var i=-1,s=e?e.length:0;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function P(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function F(e,t){return function(n){return e(t(n))}}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var K=Array.prototype,V=Function.prototype,G=Object.prototype,Z=I["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),X=V.toString,Y=G.hasOwnProperty,J=G.toString,ee=RegExp("^"+X.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=B?I.Buffer:void 0,ne=I.Symbol,re=I.Uint8Array,ie=F(Object.getPrototypeOf,Object),se=Object.create,oe=G.propertyIsEnumerable,ae=K.splice,le=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,ue=F(Object.keys,Object),he=je(I,"DataView"),de=je(I,"Map"),fe=je(I,"Promise"),pe=je(I,"Set"),ge=je(I,"WeakMap"),me=je(Object,"create"),be=$e(he),ve=$e(de),ye=$e(fe),xe=$e(pe),we=$e(ge),_e=ne?ne.prototype:void 0,Ee=_e?_e.valueOf:void 0;function Ne(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){this.__data__=new ke(e)}function qe(e,t){var n=He(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Fe(e)}(e)&&Y.call(e,"callee")&&(!oe.call(e,"callee")||J.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,s=!!r;for(var o in e)!t&&!Y.call(e,o)||s&&("length"==o||ze(o,r))||n.push(o);return n}function Oe(e,t,n){var r=e[t];Y.call(e,t)&&Pe(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ce(e,t){for(var n=e.length;n--;)if(Pe(e[n][0],t))return n;return-1}function Le(e,t,n,r,d,b,C){var L;if(r&&(L=b?r(e,d,b,C):r(e)),void 0!==L)return L;if(!Ve(e))return e;var M=He(e);if(M){if(L=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&Y.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,L)}else{var R=Be(e),I=R==a||R==l;if(We(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(R==h||R==i||I&&!b){if(P(e))return b?e:{};if(L=function(e){return"function"!=typeof e.constructor||Ue(e)?{}:(t=ie(e),Ve(t)?se(t):{});var t}(I?{}:e),!t)return function(e,t){return Re(e,De(e),t)}(e,function(e,t){return e&&Re(t,Ge(t),e)}(L,e))}else{if(!T[R])return b?e:{};L=function(e,t,n,r){var i=e.constructor;switch(t){case v:return Me(e);case s:case o:return new i(+e);case y:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case x:case w:case _:case E:case N:case k:case A:case S:case q:return function(e,t){var n=t?Me(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case c:return function(e,t,n){var r=t?n(H(e),!0):H(e);return $(r,z,new e.constructor)}(e,r,n);case u:case g:return new i(e);case f:return function(e){var t=new e.constructor(e.source,O.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return function(e,t,n){var r=t?n(W(e),!0):W(e);return $(r,U,new e.constructor)}(e,r,n);case m:return a=e,Ee?Object(Ee.call(a)):{}}var a}(e,R,Le,t)}}C||(C=new Se);var j=C.get(e);if(j)return j;if(C.set(e,L),!M)var D=n?function(e){return function(e,t,n){var r=t(e);return He(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Ge,De)}(e):Ge(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(D||e,(function(i,s){D&&(i=e[s=i]),Oe(L,s,Le(i,t,n,r,s,e,C))})),L}function Te(e){return!(!Ve(e)||function(e){return!!Q&&Q in e}(e))&&(Ke(e)||P(e)?ee:C).test($e(e))}function Me(e){var t=new e.constructor(e.byteLength);return new re(t).set(new re(e)),t}function Re(e,t,n,r){n||(n={});for(var i=-1,s=t.length;++i<s;){var o=t[i],a=r?r(n[o],e[o],o,n,e):void 0;Oe(n,o,void 0===a?e[o]:a)}return n}function Ie(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function je(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(n)?n:void 0}Ne.prototype.clear=function(){this.__data__=me?me(null):{}},Ne.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ne.prototype.get=function(e){var t=this.__data__;if(me){var r=t[e];return r===n?void 0:r}return Y.call(t,e)?t[e]:void 0},Ne.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:Y.call(t,e)},Ne.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?n:t,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():ae.call(t,n,1),!0)},ke.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Ce(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=Ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new Ne,map:new(de||ke),string:new Ne}},Ae.prototype.delete=function(e){return Ie(this,e).delete(e)},Ae.prototype.get=function(e){return Ie(this,e).get(e)},Ae.prototype.has=function(e){return Ie(this,e).has(e)},Ae.prototype.set=function(e,t){return Ie(this,e).set(e,t),this},Se.prototype.clear=function(){this.__data__=new ke},Se.prototype.delete=function(e){return this.__data__.delete(e)},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!de||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ae(r)}return n.set(e,t),this};var De=le?F(le,Object):function(){return[]},Be=function(e){return J.call(e)};function ze(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||L.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||G)}function $e(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Pe(e,t){return e===t||e!=e&&t!=t}(he&&Be(new he(new ArrayBuffer(1)))!=y||de&&Be(new de)!=c||fe&&Be(fe.resolve())!=d||pe&&Be(new pe)!=p||ge&&Be(new ge)!=b)&&(Be=function(e){var t=J.call(e),n=t==h?e.constructor:void 0,r=n?$e(n):void 0;if(r)switch(r){case be:return y;case ve:return c;case ye:return d;case xe:return p;case we:return b}return t});var He=Array.isArray;function Fe(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!Ke(e)}var We=ce||function(){return!1};function Ke(e){var t=Ve(e)?J.call(e):"";return t==a||t==l}function Ve(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ge(e){return Fe(e)?qe(e):function(e){if(!Ue(e))return ue(e);var t=[];for(var n in Object(e))Y.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Le(e,!0,!0)}}({get exports(){return Hh},set exports(e){Hh=e}},Hh);var Fh={};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",s="[object Array]",o="[object Boolean]",a="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",h="[object Number]",d="[object Object]",f="[object Promise]",p="[object RegExp]",g="[object Set]",m="[object String]",b="[object Symbol]",v="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",w=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[i]=E[s]=E[y]=E[o]=E[x]=E[a]=E[l]=E[c]=E[u]=E[h]=E[d]=E[p]=E[g]=E[m]=E[v]=!1;var N="object"==typeof xh&&xh&&xh.Object===Object&&xh,k="object"==typeof self&&self&&self.Object===Object&&self,A=N||k||Function("return this")(),S=t&&!t.nodeType&&t,q=S&&e&&!e.nodeType&&e,O=q&&q.exports===S,C=O&&N.process,L=function(){try{return C&&C.binding&&C.binding("util")}catch(e){}}(),T=L&&L.isTypedArray;function M(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function R(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function I(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var j=Array.prototype,D=Function.prototype,B=Object.prototype,z=A["__core-js_shared__"],U=D.toString,$=B.hasOwnProperty,P=function(){var e=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),H=B.toString,F=RegExp("^"+U.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=O?A.Buffer:void 0,K=A.Symbol,V=A.Uint8Array,G=B.propertyIsEnumerable,Z=j.splice,Q=K?K.toStringTag:void 0,X=Object.getOwnPropertySymbols,Y=W?W.isBuffer:void 0,J=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),ee=qe(A,"DataView"),te=qe(A,"Map"),ne=qe(A,"Promise"),re=qe(A,"Set"),ie=qe(A,"WeakMap"),se=qe(Object,"create"),oe=Te(ee),ae=Te(te),le=Te(ne),ce=Te(re),ue=Te(ie),he=K?K.prototype:void 0,de=he?he.valueOf:void 0;function fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function me(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ge;++t<n;)this.add(e[t])}function be(e){var t=this.__data__=new pe(e);this.size=t.size}function ve(e,t){var n=Ie(e),r=!n&&Re(e),i=!n&&!r&&je(e),s=!n&&!r&&!i&&$e(e),o=n||r||i||s,a=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=a.length;for(var c in e)!t&&!$.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Le(c,l))||a.push(c);return a}function ye(e,t){for(var n=e.length;n--;)if(Me(e[n][0],t))return n;return-1}function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=$.call(e,Q),n=e[Q];try{e[Q]=void 0;var r=!0}catch(e){}var i=H.call(e);r&&(t?e[Q]=n:delete e[Q]);return i}(e):function(e){return H.call(e)}(e)}function we(e){return Ue(e)&&xe(e)==i}function _e(e,t,n,r,c){return e===t||(null==e||null==t||!Ue(e)&&!Ue(t)?e!=e&&t!=t:function(e,t,n,r,c,f){var v=Ie(e),w=Ie(t),_=v?s:Ce(e),E=w?s:Ce(t),N=(_=_==i?d:_)==d,k=(E=E==i?d:E)==d,A=_==E;if(A&&je(e)){if(!je(t))return!1;v=!0,N=!1}if(A&&!N)return f||(f=new be),v||$e(e)?ke(e,t,n,r,c,f):function(e,t,n,r,i,s,c){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!s(new V(e),new V(t)));case o:case a:case h:return Me(+e,+t);case l:return e.name==t.name&&e.message==t.message;case p:case m:return e==t+"";case u:var d=R;case g:var f=1&r;if(d||(d=I),e.size!=t.size&&!f)return!1;var v=c.get(e);if(v)return v==t;r|=2,c.set(e,t);var w=ke(d(e),d(t),r,i,s,c);return c.delete(e),w;case b:if(de)return de.call(e)==de.call(t)}return!1}(e,t,_,n,r,c,f);if(!(1&n)){var S=N&&$.call(e,"__wrapped__"),q=k&&$.call(t,"__wrapped__");if(S||q){var O=S?e.value():e,C=q?t.value():t;return f||(f=new be),c(O,C,n,r,f)}}if(!A)return!1;return f||(f=new be),function(e,t,n,r,i,s){var o=1&n,a=Ae(e),l=a.length,c=Ae(t),u=c.length;if(l!=u&&!o)return!1;var h=l;for(;h--;){var d=a[h];if(!(o?d in t:$.call(t,d)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var p=!0;s.set(e,t),s.set(t,e);var g=o;for(;++h<l;){var m=e[d=a[h]],b=t[d];if(r)var v=o?r(b,m,d,t,e,s):r(m,b,d,e,t,s);if(!(void 0===v?m===b||i(m,b,n,r,s):v)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var y=e.constructor,x=t.constructor;y==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,r,c,f)}(e,t,n,r,_e,c))}function Ee(e){return!(!ze(e)||function(e){return!!P&&P in e}(e))&&(De(e)?F:w).test(Te(e))}function Ne(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||B,t!==r)return J(e);var t,n,r,i=[];for(var s in Object(e))$.call(e,s)&&"constructor"!=s&&i.push(s);return i}function ke(e,t,n,r,i,s){var o=1&n,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var u=-1,h=!0,d=2&n?new me:void 0;for(s.set(e,t),s.set(t,e);++u<a;){var f=e[u],p=t[u];if(r)var g=o?r(p,f,u,t,e,s):r(f,p,u,e,t,s);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!M(t,(function(e,t){if(o=t,!d.has(o)&&(f===e||i(f,e,n,r,s)))return d.push(t);var o}))){h=!1;break}}else if(f!==p&&!i(f,p,n,r,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function Ae(e){return function(e,t,n){var r=t(e);return Ie(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Pe,Oe)}function Se(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function qe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ee(n)?n:void 0}fe.prototype.clear=function(){this.__data__=se?se(null):{},this.size=0},fe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},fe.prototype.get=function(e){var t=this.__data__;if(se){var r=t[e];return r===n?void 0:r}return $.call(t,e)?t[e]:void 0},fe.prototype.has=function(e){var t=this.__data__;return se?void 0!==t[e]:$.call(t,e)},fe.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=se&&void 0===t?n:t,this},pe.prototype.clear=function(){this.__data__=[],this.size=0},pe.prototype.delete=function(e){var t=this.__data__,n=ye(t,e);return!(n<0)&&(n==t.length-1?t.pop():Z.call(t,n,1),--this.size,!0)},pe.prototype.get=function(e){var t=this.__data__,n=ye(t,e);return n<0?void 0:t[n][1]},pe.prototype.has=function(e){return ye(this.__data__,e)>-1},pe.prototype.set=function(e,t){var n=this.__data__,r=ye(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ge.prototype.clear=function(){this.size=0,this.__data__={hash:new fe,map:new(te||pe),string:new fe}},ge.prototype.delete=function(e){var t=Se(this,e).delete(e);return this.size-=t?1:0,t},ge.prototype.get=function(e){return Se(this,e).get(e)},ge.prototype.has=function(e){return Se(this,e).has(e)},ge.prototype.set=function(e,t){var n=Se(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},me.prototype.add=me.prototype.push=function(e){return this.__data__.set(e,n),this},me.prototype.has=function(e){return this.__data__.has(e)},be.prototype.clear=function(){this.__data__=new pe,this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},be.prototype.get=function(e){return this.__data__.get(e)},be.prototype.has=function(e){return this.__data__.has(e)},be.prototype.set=function(e,t){var n=this.__data__;if(n instanceof pe){var r=n.__data__;if(!te||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ge(r)}return n.set(e,t),this.size=n.size,this};var Oe=X?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}(X(e),(function(t){return G.call(e,t)})))}:function(){return[]},Ce=xe;function Le(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}function Te(e){if(null!=e){try{return U.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Me(e,t){return e===t||e!=e&&t!=t}(ee&&Ce(new ee(new ArrayBuffer(1)))!=x||te&&Ce(new te)!=u||ne&&Ce(ne.resolve())!=f||re&&Ce(new re)!=g||ie&&Ce(new ie)!=v)&&(Ce=function(e){var t=xe(e),n=t==d?e.constructor:void 0,r=n?Te(n):"";if(r)switch(r){case oe:return x;case ae:return u;case le:return f;case ce:return g;case ue:return v}return t});var Re=we(function(){return arguments}())?we:function(e){return Ue(e)&&$.call(e,"callee")&&!G.call(e,"callee")},Ie=Array.isArray;var je=Y||function(){return!1};function De(e){if(!ze(e))return!1;var t=xe(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function ze(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ue(e){return null!=e&&"object"==typeof e}var $e=T?function(e){return function(t){return e(t)}}(T):function(e){return Ue(e)&&Be(e.length)&&!!E[xe(e)]};function Pe(e){return null!=(t=e)&&Be(t.length)&&!De(t)?ve(e):Ne(e);var t}e.exports=function(e,t){return _e(e,t)}}({get exports(){return Fh},set exports(e){Fh=e}},Fh);var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});const Kh=Hh,Vh=Fh;var Gh;!function(e){e.compose=function(e={},t={},n=!1){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});let r=Kh(t);n||(r=Object.keys(r).reduce(((e,t)=>(null!=r[t]&&(e[t]=r[t]),e)),{}));for(const n in e)void 0!==e[n]&&void 0===t[n]&&(r[n]=e[n]);return Object.keys(r).length>0?r:void 0},e.diff=function(e={},t={}){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});const n=Object.keys(e).concat(Object.keys(t)).reduce(((n,r)=>(Vh(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n)),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e={},t={}){e=e||{};const n=Object.keys(t).reduce(((n,r)=>(t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n)),{});return Object.keys(e).reduce(((n,r)=>(e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n)),n)},e.transform=function(e,t,n=!1){if("object"!=typeof e)return t;if("object"!=typeof t)return;if(!n)return t;const r=Object.keys(t).reduce(((n,r)=>(void 0===e[r]&&(n[r]=t[r]),n)),{});return Object.keys(r).length>0?r:void 0}}(Gh||(Gh={})),Wh.default=Gh;var Zh,Qh={};Object.defineProperty(Qh,"__esModule",{value:!0}),function(e){e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"object"==typeof e.retain&&null!==e.retain?1:"string"==typeof e.insert?e.insert.length:1}}(Zh||(Zh={})),Qh.default=Zh;var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});const Yh=Qh;Xh.default=class{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const n=this.offset,r=Yh.default.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};{const r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"object"==typeof t.retain&&null!==t.retain?r.retain=t.retain:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?Yh.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?"number"==typeof e.delete?"delete":"number"==typeof e.retain||"object"==typeof e.retain&&null!==e.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}}return[]}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const n=Ph,r=Hh,i=Fh,s=Wh;t.AttributeMap=s.default;const o=Qh;t.Op=o.default;const a=Xh;t.OpIterator=a.default;const l=String.fromCharCode(0),c=(e,t)=>{if("object"!=typeof e||null===e)throw new Error("cannot retain a "+typeof e);if("object"!=typeof t||null===t)throw new Error("cannot retain a "+typeof t);const n=Object.keys(e)[0];if(!n||n!==Object.keys(t)[0])throw new Error(`embed types not matched: ${n} != ${Object.keys(t)[0]}`);return[n,e[n],t[n]]};class u{constructor(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}static registerEmbed(e,t){this.handlers[e]=t}static unregisterEmbed(e){delete this.handlers[e]}static getHandler(e){const t=this.handlers[e];if(!t)throw new Error(`no handlers for embed type "${e}"`);return t}insert(e,t){const n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))}delete(e){return e<=0?this:this.push({delete:e})}retain(e,t){if("number"==typeof e&&e<=0)return this;const n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)}push(e){let t=this.ops.length,n=this.ops[t-1];if(e=r(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,n=this.ops[t-1],"object"!=typeof n))return this.ops.unshift(e),this;if(i(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this}chop(){const e=this.ops[this.ops.length-1];return e&&"number"==typeof e.retain&&!e.attributes&&this.ops.pop(),this}filter(e){return this.ops.filter(e)}forEach(e){this.ops.forEach(e)}map(e){return this.ops.map(e)}partition(e){const t=[],n=[];return this.forEach((r=>{(e(r)?t:n).push(r)})),[t,n]}reduce(e,t){return this.ops.reduce(e,t)}changeLength(){return this.reduce(((e,t)=>t.insert?e+o.default.length(t):t.delete?e-t.delete:e),0)}length(){return this.reduce(((e,t)=>e+o.default.length(t)),0)}slice(e=0,t=1/0){const n=[],r=new a.default(this.ops);let i=0;for(;i<t&&r.hasNext();){let s;i<e?s=r.next(e-i):(s=r.next(t-i),n.push(s)),i+=o.default.length(s)}return new u(n)}compose(e){const t=new a.default(this.ops),n=new a.default(e.ops),r=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){let e=o.retain;for(;"insert"===t.peekType()&&t.peekLength()<=e;)e-=t.peekLength(),r.push(t.next());o.retain-e>0&&n.next(o.retain-e)}const l=new u(r);for(;t.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===t.peekType())l.push(t.next());else{const e=Math.min(t.peekLength(),n.peekLength()),r=t.next(e),o=n.next(e);if(o.retain){const a={};if("number"==typeof r.retain)a.retain="number"==typeof o.retain?e:o.retain;else if("number"==typeof o.retain)null==r.retain?a.insert=r.insert:a.retain=r.retain;else{const e=null==r.retain?"insert":"retain",[t,n,i]=c(r[e],o.retain),s=u.getHandler(t);a[e]={[t]:s.compose(n,i,"retain"===e)}}const h=s.default.compose(r.attributes,o.attributes,"number"==typeof r.retain);if(h&&(a.attributes=h),l.push(a),!n.hasNext()&&i(l.ops[l.ops.length-1],a)){const e=new u(t.rest());return l.concat(e).chop()}}else"number"==typeof o.delete&&("number"==typeof r.retain||"object"==typeof r.retain&&null!==r.retain)&&l.push(o)}return l.chop()}concat(e){const t=new u(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t}diff(e,t){if(this.ops===e.ops)return new u;const r=[this,e].map((t=>t.map((n=>{if(null!=n.insert)return"string"==typeof n.insert?n.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join(""))),o=new u,c=n(r[0],r[1],t,!0),h=new a.default(this.ops),d=new a.default(e.ops);return c.forEach((e=>{let t=e[1].length;for(;t>0;){let r=0;switch(e[0]){case n.INSERT:r=Math.min(d.peekLength(),t),o.push(d.next(r));break;case n.DELETE:r=Math.min(t,h.peekLength()),h.next(r),o.delete(r);break;case n.EQUAL:r=Math.min(h.peekLength(),d.peekLength(),t);const e=h.next(r),a=d.next(r);i(e.insert,a.insert)?o.retain(r,s.default.diff(e.attributes,a.attributes)):o.push(a).delete(r)}t-=r}})),o.chop()}eachLine(e,t="\n"){const n=new a.default(this.ops);let r=new u,i=0;for(;n.hasNext();){if("insert"!==n.peekType())return;const s=n.peek(),a=o.default.length(s)-n.peekLength(),l="string"==typeof s.insert?s.insert.indexOf(t,a)-a:-1;if(l<0)r.push(n.next());else if(l>0)r.push(n.next(l));else{if(!1===e(r,n.next(1).attributes||{},i))return;i+=1,r=new u}}r.length()>0&&e(r,{},i)}invert(e){const t=new u;return this.reduce(((n,r)=>{if(r.insert)t.delete(o.default.length(r));else{if("number"==typeof r.retain&&null==r.attributes)return t.retain(r.retain),n+r.retain;if(r.delete||"number"==typeof r.retain){const i=r.delete||r.retain;return e.slice(n,n+i).forEach((e=>{r.delete?t.push(e):r.retain&&r.attributes&&t.retain(o.default.length(e),s.default.invert(r.attributes,e.attributes))})),n+i}if("object"==typeof r.retain&&null!==r.retain){const i=e.slice(n,n+1),o=new a.default(i.ops).next(),[l,h,d]=c(r.retain,o.insert),f=u.getHandler(l);return t.retain({[l]:f.invert(h,d)},s.default.invert(r.attributes,o.attributes)),n+1}}return n}),0),t.chop()}transform(e,t=!1){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);const n=e,r=new a.default(this.ops),i=new a.default(n.ops),l=new u;for(;r.hasNext()||i.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())l.push(i.next());else{const e=Math.min(r.peekLength(),i.peekLength()),n=r.next(e),o=i.next(e);if(n.delete)continue;if(o.delete)l.push(o);else{const r=n.retain,i=o.retain;let a="object"==typeof i&&null!==i?i:e;if("object"==typeof r&&null!==r&&"object"==typeof i&&null!==i){const e=Object.keys(r)[0];if(e===Object.keys(i)[0]){const n=u.getHandler(e);n&&(a={[e]:n.transform(r[e],i[e],t)})}}l.retain(a,s.default.transform(n.attributes,o.attributes,t))}}else l.retain(o.default.length(r.next()));return l.chop()}transformPosition(e,t=!1){t=!!t;const n=new a.default(this.ops);let r=0;for(;n.hasNext()&&r<=e;){const i=n.peekLength(),s=n.peekType();n.next(),"delete"!==s?("insert"===s&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e}}u.Op=o.default,u.OpIterator=a.default,u.AttributeMap=s.default,u.handlers={},t.default=u,e.exports=u,e.exports.default=u}(Eh,_h);var Jh=wh(_h);let ed=class extends fh{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}};ed.blotName="break",ed.tagName="BR";let td=class extends vh{};const nd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function rd(e){return e.replace(/[&<>"']/g,(e=>nd[e]))}class id extends lh{static allowedChildren=[id,ed,fh,td];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const n=id.order.indexOf(e),r=id.order.indexOf(t);return n>=0||r>=0?n-r:e===t?0:e<t?-1:1}formatAt(e,t,n,r){if(id.compare(this.statics.blotName,n)<0&&this.scroll.query(n,Hu.BLOT)){const i=this.isolate(e,t);r&&i.wrap(n,r)}else super.formatAt(e,t,n,r)}optimize(e){if(super.optimize(e),this.parent instanceof id&&id.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}let sd=class extends uh{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=ad(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,n,r){t<=0||(this.scroll.query(n,Hu.BLOCK)?e+t===this.length()&&this.format(n,r):super.formatAt(e,Math.min(t,this.length()-e-1),n,r),this.cache={})}insertAt(e,t,n){if(null!=n)return super.insertAt(e,t,n),void(this.cache={});if(0===t.length)return;const r=t.split("\n"),i=r.shift();i.length>0&&(e<this.length()-1||null==this.children.tail?super.insertAt(Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});let s=this;r.reduce(((e,t)=>(s=s.split(e,!0),s.insertAt(0,t),t.length)),e+i.length)}insertBefore(e,t){const{head:n}=this.children;super.insertBefore(e,t),n instanceof ed&&n.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){const t=this.clone();return 0===e?(this.parent.insertBefore(t,this),this):(this.parent.insertBefore(t,this.next),t)}const n=super.split(e,t);return this.cache={},n}};sd.blotName="block",sd.tagName="P",sd.defaultChild=ed,sd.allowedChildren=[ed,id,fh,td];let od=class extends fh{attach(){super.attach(),this.attributes=new Yu(this.domNode)}delta(){return(new Jh).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const n=this.scroll.query(e,Hu.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}formatAt(e,t,n,r){this.format(n,r)}insertAt(e,t,n){if(null!=n)return void super.insertAt(e,t,n);const r=t.split("\n"),i=r.pop(),s=r.map((e=>{const t=this.scroll.create(sd.blotName);return t.insertAt(0,e),t})),o=this.split(e);s.forEach((e=>{this.parent.insertBefore(e,o)})),i&&this.parent.insertBefore(this.scroll.create("text",i),o)}};function ad(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.descendants(nh).reduce(((e,n)=>0===n.length()?e:e.insert(n.value(),ld(n,{},t))),new Jh).insert("\n",ld(e))}function ld(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==e?t:("formats"in e&&"function"==typeof e.formats&&(t={...t,...e.formats()},n&&delete t["code-token"]),null==e.parent||"scroll"===e.parent.statics.blotName||e.parent.statics.scope!==e.statics.scope?t:ld(e.parent,t,n))}od.scope=Hu.BLOCK_BLOT;class cd extends fh{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(e,t,n){super(e,t),this.selection=n,this.textNode=document.createTextNode(cd.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(e,t){if(0!==this.savedLength)return void super.format(e,t);let n=this,r=0;for(;null!=n&&n.statics.scope!==Hu.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=cd.CONTENTS.length,n.optimize(),n.formatAt(r,cd.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const e=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof td?this.prev:null,n=t?t.length():0,r=this.next instanceof td?this.next:null,i=r?r.text:"",{textNode:s}=this,o=s.data.split(cd.CONTENTS).join("");let a;if(s.data=cd.CONTENTS,t)a=t,(o||r)&&(t.insertAt(t.length(),o+i),r&&r.remove());else if(r)a=r,r.insertAt(0,o);else{const e=document.createTextNode(o);a=this.scroll.create(e),this.parent.insertBefore(a,this)}if(this.remove(),e){const i=(e,i)=>t&&e===t.domNode?i:e===s?n+i-1:r&&e===r.domNode?n+o.length+i:null,l=i(e.start.node,e.start.offset),c=i(e.end.node,e.end.offset);if(null!==l&&null!==c)return{startNode:a.domNode,startOffset:l,endNode:a.domNode,endOffset:c}}return null}update(e,t){if(e.some((e=>"characterData"===e.type&&e.target===this.textNode))){const e=this.restore();e&&(t.range=e)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if("A"===t.domNode.tagName){this.savedLength=cd.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var ud={};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,o),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var d,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(d=1,l=new Array(h-1);d<h;d++)l[d-1]=arguments[d];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}({get exports(){return ud},set exports(e){ud=e}});var hd=new WeakMap;const dd=["error","warn","log","info"];let fd="warn";function pd(e){if(fd&&dd.indexOf(e)<=dd.indexOf(fd)){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console[e](...n)}}function gd(e){return dd.reduce(((t,n)=>(t[n]=pd.bind(console,n,e),t)),{})}gd.level=e=>{fd=e},pd.level=gd.level;const md=gd("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((e=>{document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach((e=>{const n=hd.get(e);n&&n.emitter&&n.emitter.handleDOM(...t)}))}))}));class bd extends ud{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",md.error)}emit(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return md.log.call(md,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.domListeners[e.type]||[]).forEach((t=>{let{node:r,handler:i}=t;(e.target===r||r.contains(e.target))&&i(e,...n)}))}listenDOM(e,t,n){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:n})}}const vd=gd("quill:selection");class yd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=e,this.length=t}}class xd{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new yd(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,bd.sources.USER),1)})),this.emitter.on(bd.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const e=this.getNativeRange();null!=e&&e.start.node!==this.cursor.textNode&&this.emitter.once(bd.events.SCROLL_UPDATE,((t,n)=>{try{this.root.contains(e.start.node)&&this.root.contains(e.end.node)&&this.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset);const r=n.some((e=>"characterData"===e.type||"childList"===e.type||"attributes"===e.type&&e.target===this.root));this.update(r?bd.sources.SILENT:t)}catch(e){}}))})),this.emitter.on(bd.events.SCROLL_OPTIMIZE,((e,t)=>{if(t.range){const{startNode:e,startOffset:n,endNode:r,endOffset:i}=t.range;this.setNativeRange(e,n,r,i),this.update(bd.sources.SILENT)}})),this.update(bd.sources.SILENT)}handleComposition(){this.emitter.on(bd.events.COMPOSITION_BEFORE_START,(()=>{this.composing=!0})),this.emitter.on(bd.events.COMPOSITION_END,(()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout((()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(bd.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(e,Hu.BLOCK)){if(n.start.node!==this.cursor.textNode){const e=this.scroll.find(n.start.node,!1);if(null==e)return;if(e instanceof nh){const t=e.split(n.start.offset);e.parent.insertBefore(this.cursor,t)}else e.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.scroll.length();let r;e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;let[i,s]=this.scroll.leaf(e);if(null==i)return null;if(t>0&&s===i.length()){const[t]=this.scroll.leaf(e+1);if(t){const[n]=this.scroll.line(e),[r]=this.scroll.line(e+1);n===r&&(i=t,s=0)}}[r,s]=i.position(s,!0);const o=document.createRange();if(t>0)return o.setStart(r,s),[i,s]=this.scroll.leaf(e+t),null==i?null:([r,s]=i.position(s,!0),o.setEnd(r,s),o.getBoundingClientRect());let a,l="left";if(r instanceof Text){if(!r.data.length)return null;s<r.data.length?(o.setStart(r,s),o.setEnd(r,s+1)):(o.setStart(r,s-1),o.setEnd(r,s),l="right"),a=o.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;a=i.domNode.getBoundingClientRect(),s>0&&(l="right")}return{bottom:a.top+a.height,height:a.height,left:a[l],right:a[l],top:a.top,width:0}}getNativeRange(){const e=document.getSelection();if(null==e||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(null==t)return null;const n=this.normalizeNative(t);return vd.info("getNativeRange",n),n}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();if(null==t)return[null,null];return[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&wd(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const n=t.map((e=>{const[t,n]=e,r=this.scroll.find(t,!0),i=r.offset(this.scroll);return 0===n?i:r instanceof nh?i+r.index(t,n):i+r.length()})),r=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(r,...n);return new yd(i,r-i)}normalizeNative(e){if(!wd(this.root,e.startContainer)||!e.collapsed&&!wd(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((e=>{let{node:t,offset:n}=e;for(;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;t=t.lastChild,n=t instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}rangeToNative(e){const t=this.scroll.length(),n=(e,n)=>{e=Math.min(t-1,e);const[r,i]=this.scroll.leaf(e);return r?r.position(i,n):[null,-1]};return[...n(e.index,!1),...n(e.index+e.length,!0)]}setNativeRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(vd.info("setNativeRange",e,t,n,r),null!=e&&(null==this.root.parentNode||null==e.parentNode||null==n.parentNode))return;const s=document.getSelection();if(null!=s)if(null!=e){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(null==o||i||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||r!==o.endOffset){e instanceof Element&&"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),n instanceof Element&&"BR"===n.tagName&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const i=document.createRange();i.setStart(e,t),i.setEnd(n,r),s.removeAllRanges(),s.addRange(i)}}else s.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bd.sources.API;if("string"==typeof t&&(n=t,t=!1),vd.info("setRange",e),null!=e){const n=this.rangeToNative(e);this.setNativeRange(...n,t)}else this.setNativeRange(null);this.update(n)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bd.sources.USER;const t=this.lastRange,[n,r]=this.getRange();if(this.lastRange=n,this.lastNative=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!xa(t,this.lastRange)){if(!this.composing&&null!=r&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const e=this.cursor.restore();e&&this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}const n=[bd.events.SELECTION_CHANGE,Bi(this.lastRange),Bi(t),e];this.emitter.emit(bd.events.EDITOR_CHANGE,...n),e!==bd.sources.SILENT&&this.emitter.emit(...n)}}}function wd(e,t){try{t.parentNode}catch(e){return!1}return e.contains(t)}const _d=/^[ -~]*$/;class Ed{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const n=qd(e),r=new Jh,i=function(e){const t=[];return e.forEach((e=>{if("string"==typeof e.insert){e.insert.split("\n").forEach(((n,r)=>{r&&t.push({insert:"\n",attributes:e.attributes}),n&&t.push({insert:n,attributes:e.attributes})}))}else t.push(e)})),t}(n.ops.slice());return i.reduce(((e,n)=>{const i=_h.Op.length(n);let s=n.attributes||{},o=!1,a=!1;if(null!=n.insert){if(r.retain(i),"string"==typeof n.insert){const r=n.insert;a=!r.endsWith("\n")&&(t<=e||!!this.scroll.descendant(od,e)[0]),this.scroll.insertAt(e,r);const[i,o]=this.scroll.line(e);let l=$a({},ld(i));if(i instanceof sd){const[e]=i.descendant(nh,o);e&&(l=$a(l,ld(e)))}s=_h.AttributeMap.diff(l,s)||{}}else if("object"==typeof n.insert){const r=Object.keys(n.insert)[0];if(null==r)return e;const i=null!=this.scroll.query(r,Hu.INLINE);if(i)(t<=e||this.scroll.descendant(od,e)[0])&&(a=!0);else if(e>0){const[t,n]=this.scroll.descendant(nh,e-1);if(t instanceof td){"\n"!==t.value()[n]&&(o=!0)}else t instanceof fh&&t.statics.scope===Hu.INLINE_BLOT&&(o=!0)}if(this.scroll.insertAt(e,r,n.insert[r]),i){const[t]=this.scroll.descendant(nh,e);if(t){const e=$a({},ld(t));s=_h.AttributeMap.diff(e,s)||{}}}}t+=i}else if(r.push(n),null!==n.retain&&"object"==typeof n.retain){const t=Object.keys(n.retain)[0];if(null==t)return e;this.scroll.updateEmbedAt(e,t,n.retain[t])}Object.keys(s).forEach((t=>{this.scroll.formatAt(e,i,t,s[t])}));const l=o?1:0,c=a?1:0;return t+=l+c,r.retain(l),r.delete(c),e+i+l+c}),0),r.reduce(((e,t)=>"number"==typeof t.delete?(this.scroll.deleteAt(e,t.delete),e):e+_h.Op.length(t)),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update((new Jh).retain(e).delete(t))}formatLine(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach((r=>{this.scroll.lines(e,Math.max(t,1)).forEach((e=>{e.format(r,n[r])}))})),this.scroll.optimize();const r=(new Jh).retain(e).retain(t,Bi(n));return this.update(r)}formatText(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(n).forEach((r=>{this.scroll.formatAt(e,t,r,n[r])}));const r=(new Jh).retain(e).retain(t,Bi(n));return this.update(r)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce(((e,t)=>e.concat(t.delta())),new Jh)}getFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach((e=>{const[t]=e;t instanceof sd?n.push(t):t instanceof nh&&r.push(t)})):(n=this.scroll.lines(e,t),r=this.scroll.descendants(nh,e,t));const[i,s]=[n,r].map((e=>{const t=e.shift();if(null==t)return{};let n=ld(t);for(;Object.keys(n).length>0;){const t=e.shift();if(null==t)return n;n=Ad(ld(t),n)}return n}));return{...i,...s}}getHTML(e,t){const[n,r]=this.scroll.line(e);if(n){const i=n.length();return!(n.length()>=r+t)||0===r&&t===i?kd(this.scroll,e,t,!0):kd(n,r,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter((e=>"string"==typeof e.insert)).map((e=>e.insert)).join("")}insertContents(e,t){const n=qd(t),r=(new Jh).retain(e).concat(n);return this.scroll.insertContents(e,n),this.update(r)}insertEmbed(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new Jh).retain(e).insert({[t]:n}))}insertText(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((r=>{this.scroll.formatAt(e,t.length,r,n[r])})),this.update((new Jh).retain(e).insert(t,Bi(n)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==sd.blotName)return!1;const t=e;return!(t.children.length>1)&&t.children.head instanceof ed}removeFormat(e,t){const n=this.getText(e,t),[r,i]=this.scroll.line(e+t);let s=0,o=new Jh;null!=r&&(s=r.length()-i,o=r.delta().slice(i,i+s-1).insert("\n"));const a=this.getContents(e,t+s).diff((new Jh).insert(n).concat(o)),l=(new Jh).retain(e).concat(a);return this.applyDelta(l)}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(_d)&&this.scroll.find(t[0].target)){const i=this.scroll.find(t[0].target),s=ld(i),o=i.offset(this.scroll),a=t[0].oldValue.replace(cd.CONTENTS,""),l=(new Jh).insert(a),c=(new Jh).insert(i.value()),u=n&&{oldRange:Od(n.oldRange,-o),newRange:Od(n.newRange,-o)};e=(new Jh).retain(o).concat(l.diff(c,u)).reduce(((e,t)=>t.insert?e.insert(t.insert,s):e.push(t)),new Jh),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&xa(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}function Nd(e,t,n){if(0===e.length){const[e]=Sd(n.pop());return t<=0?`</li></${e}>`:`</li></${e}>${Nd([],t-1,n)}`}const[{child:r,offset:i,length:s,indent:o,type:a},...l]=e,[c,u]=Sd(a);if(o>t)return n.push(a),o===t+1?`<${c}><li${u}>${kd(r,i,s)}${Nd(l,o,n)}`:`<${c}><li>${Nd(e,t+1,n)}`;const h=n[n.length-1];if(o===t&&a===h)return`</li><li${u}>${kd(r,i,s)}${Nd(l,o,n)}`;const[d]=Sd(n.pop());return`</li></${d}>${Nd(e,t-1,n)}`}function kd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in e&&"function"==typeof e.html)return e.html(t,n);if(e instanceof td){return rd(e.value().slice(t,t+n)).replaceAll(" ","&nbsp;")}if(e instanceof oh){if("list-container"===e.statics.blotName){const r=[];return e.children.forEachAt(t,n,((e,t,n)=>{const i="formats"in e&&"function"==typeof e.formats?e.formats():{};r.push({child:e,offset:t,length:n,indent:i.indent||0,type:i.list})})),Nd(r,-1,[])}const i=[];if(e.children.forEachAt(t,n,((e,t,n)=>{i.push(kd(e,t,n))})),r||"list"===e.statics.blotName)return i.join("");const{outerHTML:s,innerHTML:o}=e.domNode,[a,l]=s.split(`>${o}<`);return"<table"===a?`<table style="border: 1px solid #000;">${i.join("")}<${l}`:`${a}>${i.join("")}<${l}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function Ad(e,t){return Object.keys(t).reduce(((n,r)=>{if(null==e[r])return n;const i=t[r];return i===e[r]?n[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?n[r]=i.concat([e[r]]):n[r]=i:n[r]=[i,e[r]],n}),{})}function Sd(e){const t="ordered"===e?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function qd(e){return e.reduce(((e,t)=>{if("string"==typeof t.insert){const n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new Jh)}function Od(e,t){let{index:n,length:r}=e;return new yd(n+t,r)}let Cd=class{static DEFAULTS={};constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=e,this.options=t}};const Ld="\ufeff";class Td extends fh{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((e=>{this.contentNode.appendChild(e)})),this.leftGuard=document.createTextNode(Ld),this.rightGuard=document.createTextNode(Ld),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t,n=null;const r=e.data.split(Ld).join("");if(e===this.leftGuard)if(this.prev instanceof td){const e=this.prev.length();this.prev.insertAt(e,r),n={startNode:this.prev.domNode,startOffset:e+r.length}}else t=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(t),this),n={startNode:t,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof td?(this.next.insertAt(0,r),n={startNode:this.next.domNode,startOffset:r.length}):(t=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(t),this.next),n={startNode:t,startOffset:r.length}));return e.data=Ld,n}update(e,t){e.forEach((e=>{if("characterData"===e.type&&(e.target===this.leftGuard||e.target===this.rightGuard)){const n=this.restore(e.target);n&&(t.range=n)}}))}}class Md{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(e=>{this.isComposing||this.handleCompositionStart(e)})),this.scroll.domNode.addEventListener("compositionend",(e=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(e)}))}))}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;!t||t instanceof Td||(this.emitter.emit(bd.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(bd.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(bd.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(bd.events.COMPOSITION_END,e),this.isComposing=!1}}class Rd{static DEFAULTS={modules:{}};static themes={default:Rd};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach((e=>{null==this.modules[e]&&this.addModule(e)}))}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const Id=e=>{const t=e.getBoundingClientRect(),n="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*n,bottom:t.top+e.clientHeight*r,left:t.left}},jd=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},Dd=(e,t,n,r,i,s)=>e<n&&t>r?0:e<n?-(n-e+i):t>r?t-e>r-n?e+i-n:t-r+s:0,Bd=["block","break","cursor","inline","scroll","text"],zd=gd("quill"),Ud=new Vu;oh.uiClass="ql-ui";class $d{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ud,theme:"default"};static events=bd.events;static sources=bd.sources;static version="2.0.3";static imports={delta:Jh,parchment:yh,"core/module":Cd,"core/theme":Rd};static debug(e){!0===e&&(e="log"),gd.level(e)}static find(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return hd.get(e)||Ud.find(e,t)}static import(e){return null==this.imports[e]&&zd.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const e=arguments.length<=0?void 0:arguments[0],t=!!(arguments.length<=1?void 0:arguments[1]),n="attrName"in e?e.attrName:e.blotName;"string"==typeof n?this.register(`formats/${n}`,e,t):Object.keys(e).forEach((n=>{this.register(n,e[n],t)}))}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[e]||n||zd.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&"boolean"!=typeof t&&"abstract"!==t.blotName&&Ud.register(t),"function"==typeof t.register&&t.register(Ud)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(e,t){const n=Pd(e);if(!n)throw new Error("Invalid Quill container");const r=!t.theme||t.theme===$d.DEFAULTS.theme,i=r?Rd:$d.import(`themes/${t.theme}`);if(!i)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:s,...o}=$d.DEFAULTS,{modules:a,...l}=i.DEFAULTS;let c=Hd(t.modules);null!=c&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const u=$a({},Hd(s),Hd(a),c),h={...o,...Fd(l),...Fd(t)};let d=t.registry;d?t.formats&&zd.warn('Ignoring "formats" option because "registry" is specified'):d=t.formats?((e,t,n)=>{const r=new Vu;return Bd.forEach((e=>{const n=t.query(e);n&&r.register(n)})),e.forEach((e=>{let i=t.query(e);i||n.error(`Cannot register "${e}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;i;)if(r.register(i),i="blotName"in i?i.requiredContainer??null:null,s+=1,s>100){n.error(`Cycle detected in registering blot requiredContainer: "${e}"`);break}})),r})(t.formats,h.registry,zd):h.registry;return{...h,registry:d,container:n,theme:i,modules:Object.entries(u).reduce(((e,t)=>{let[n,r]=t;if(!r)return e;const i=$d.import(`modules/${n}`);return null==i?(zd.error(`Cannot load ${n} module. Are you sure you registered it?`),e):{...e,[n]:$a({},i.DEFAULTS||{},r)}}),{}),bounds:Pd(h.bounds)}}(e,t),this.container=this.options.container,null==this.container)return void zd.error("Invalid Quill container",e);this.options.debug&&$d.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",hd.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new bd;const r=mh.blotName,i=this.options.registry.query(r);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Ed(this.scroll),this.selection=new xd(this.scroll,this.emitter),this.composition=new Md(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(bd.events.EDITOR_CHANGE,(e=>{e===bd.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(bd.events.SCROLL_UPDATE,((e,t)=>{const n=this.selection.lastRange,[r]=this.selection.getRange(),i=n&&r?{oldRange:n,newRange:r}:void 0;Wd.call(this,(()=>this.editor.update(null,t,i)),e)})),this.emitter.on(bd.events.SCROLL_EMBED_UPDATE,((e,t)=>{const n=this.selection.lastRange,[r]=this.selection.getRange(),i=n&&r?{oldRange:n,newRange:r}:void 0;Wd.call(this,(()=>{const n=(new Jh).retain(e.offset(this)).retain({[e.statics.blotName]:t});return this.editor.update(n,[],i)}),$d.sources.USER)})),n){const e=this.clipboard.convert({html:`${n}<p><br></p>`,text:"\n"});this.setContents(e)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){const t=e;(e=document.createElement("div")).classList.add(t)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,n){return[e,t,,n]=Kd(e,t,n),Wd.call(this,(()=>this.editor.deleteText(e,t)),n,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bd.sources.API;return Wd.call(this,(()=>{const n=this.getSelection(!0);let r=new Jh;if(null==n)return r;if(this.scroll.query(e,Hu.BLOCK))r=this.editor.formatLine(n.index,n.length,{[e]:t});else{if(0===n.length)return this.selection.format(e,t),r;r=this.editor.formatText(n.index,n.length,{[e]:t})}return this.setSelection(n,bd.sources.SILENT),r}),n)}formatLine(e,t,n,r,i){let s;return[e,t,s,i]=Kd(e,t,n,r,i),Wd.call(this,(()=>this.editor.formatLine(e,t,s)),i,e,0)}formatText(e,t,n,r,i){let s;return[e,t,s,i]=Kd(e,t,n,r,i),Wd.call(this,(()=>this.editor.formatText(e,t,s)),i,e,0)}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null;if(n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length),!n)return null;const r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}getContents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e;return[e,t]=Kd(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof e&&(t=t??this.getLength()-e),[e,t]=Kd(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof e&&(t=t??this.getLength()-e),[e,t]=Kd(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$d.sources.API;return Wd.call(this,(()=>this.editor.insertEmbed(e,t,n)),r,e)}insertText(e,t,n,r,i){let s;return[e,,s,i]=Kd(e,0,n,r,i),Wd.call(this,(()=>this.editor.insertText(e,t,s)),i,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,n){return[e,t,,n]=Kd(e,t,n),Wd.call(this,(()=>this.editor.removeFormat(e,t)),n,e)}scrollRectIntoView(e){((e,t)=>{const n=e.ownerDocument;let r=t,i=e;for(;i;){const e=i===n.body,t=e?{top:0,right:window.visualViewport?.width??n.documentElement.clientWidth,bottom:window.visualViewport?.height??n.documentElement.clientHeight,left:0}:Id(i),o=getComputedStyle(i),a=Dd(r.left,r.right,t.left,t.right,jd(o.scrollPaddingLeft),jd(o.scrollPaddingRight)),l=Dd(r.top,r.bottom,t.top,t.bottom,jd(o.scrollPaddingTop),jd(o.scrollPaddingBottom));if(a||l)if(e)n.defaultView?.scrollBy(a,l);else{const{scrollLeft:e,scrollTop:t}=i;l&&(i.scrollTop+=l),a&&(i.scrollLeft+=a);const n=i.scrollLeft-e,s=i.scrollTop-t;r={left:r.left-n,top:r.top-s,right:r.right-n,bottom:r.bottom-s}}i=e||"fixed"===o.position?null:(s=i).parentElement||s.getRootNode().host||null}var s})(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bd.sources.API;return Wd.call(this,(()=>{e=new Jh(e);const t=this.getLength(),n=this.editor.deleteText(0,t),r=this.editor.insertContents(0,e),i=this.editor.deleteText(this.getLength()-1,1);return n.compose(r).compose(i)}),t)}setSelection(e,t,n){null==e?this.selection.setRange(null,t||$d.sources.API):([e,t,,n]=Kd(e,t,n),this.selection.setRange(new yd(Math.max(0,e),t),n),n!==bd.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bd.sources.API;const n=(new Jh).insert(e);return this.setContents(n,t)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bd.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bd.sources.API;return Wd.call(this,(()=>(e=new Jh(e),this.editor.applyDelta(e))),t,!0)}}function Pd(e){return"string"==typeof e?document.querySelector(e):e}function Hd(e){return Object.entries(e??{}).reduce(((e,t)=>{let[n,r]=t;return{...e,[n]:!0===r?{}:r}}),{})}function Fd(e){return Object.fromEntries(Object.entries(e).filter((e=>void 0!==e[1])))}function Wd(e,t,n,r){if(!this.isEnabled()&&t===bd.sources.USER&&!this.allowReadOnlyEdits)return new Jh;let i=null==n?null:this.getSelection();const s=this.editor.delta,o=e();if(null!=i&&(!0===n&&(n=i.index),null==r?i=Vd(i,o,t):0!==r&&(i=Vd(i,n,r,t)),this.setSelection(i,bd.sources.SILENT)),o.length()>0){const e=[bd.events.TEXT_CHANGE,o,s,t];this.emitter.emit(bd.events.EDITOR_CHANGE,...e),t!==bd.sources.SILENT&&this.emitter.emit(...e)}return o}function Kd(e,t,n,r,i){let s={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=r,r=n,n=t,t=0),"object"==typeof n?(s=n,i=r):"string"==typeof n&&(null!=r?s[n]=r:i=n),[e,t,s,i=i||bd.sources.API]}function Vd(e,t,n,r){const i="number"==typeof n?n:0;if(null==e)return null;let s,o;return t&&"function"==typeof t.transformPosition?[s,o]=[e.index,e.index+e.length].map((e=>t.transformPosition(e,r!==bd.sources.USER))):[s,o]=[e.index,e.index+e.length].map((e=>e<t||e===t&&r===bd.sources.USER?e:i>=0?e+i:Math.max(t,e+i))),new yd(s,o-s)}let Gd=class extends dh{};function Zd(e){return e instanceof sd||e instanceof od}function Qd(e){return"function"==typeof e.updateContent}function Xd(e,t,n){n.reduce(((t,n)=>{const r=_h.Op.length(n);let i=n.attributes||{};if(null!=n.insert)if("string"==typeof n.insert){const r=n.insert;e.insertAt(t,r);const[s]=e.descendant(nh,t),o=ld(s);i=_h.AttributeMap.diff(o,i)||{}}else if("object"==typeof n.insert){const r=Object.keys(n.insert)[0];if(null==r)return t;e.insertAt(t,r,n.insert[r]);if(null!=e.scroll.query(r,Hu.INLINE)){const[n]=e.descendant(nh,t),r=ld(n);i=_h.AttributeMap.diff(r,i)||{}}}return Object.keys(i).forEach((n=>{e.formatAt(t,r,n,i[n])})),t+r}),t)}const Yd={scope:Hu.BLOCK,whitelist:["right","center","justify"]},Jd=new Fu("align","align",Yd),ef=new Zu("align","ql-align",Yd),tf=new Xu("align","text-align",Yd);class nf extends Xu{value(e){let t=super.value(e);if(!t.startsWith("rgb("))return t;t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");return`#${t.split(",").map((e=>`00${parseInt(e,10).toString(16)}`.slice(-2))).join("")}`}}const rf=new Zu("color","ql-color",{scope:Hu.INLINE}),sf=new nf("color","color",{scope:Hu.INLINE}),of=new Zu("background","ql-bg",{scope:Hu.INLINE}),af=new nf("background","background-color",{scope:Hu.INLINE});class lf extends Gd{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map((e=>e.length()<=1?"":e.domNode.innerText)).join("\n").slice(e,e+t)}html(e,t){return`<pre>\n${rd(this.code(e,t))}\n</pre>`}}let cf=class extends sd{static TAB="  ";static register(){$d.register(lf)}};class uf extends id{}uf.blotName="code",uf.tagName="CODE",cf.blotName="code-block",cf.className="ql-code-block",cf.tagName="DIV",lf.blotName="code-block-container",lf.className="ql-code-block-container",lf.tagName="DIV",lf.allowedChildren=[cf],cf.allowedChildren=[td,ed,cd],cf.requiredContainer=lf;const hf={scope:Hu.BLOCK,whitelist:["rtl"]},df=new Fu("direction","dir",hf),ff=new Zu("direction","ql-direction",hf),pf=new Xu("direction","direction",hf),gf={scope:Hu.INLINE,whitelist:["serif","monospace"]},mf=new Zu("font","ql-font",gf);const bf=new class extends Xu{value(e){return super.value(e).replace(/["']/g,"")}}("font","font-family",gf),vf=new Zu("size","ql-size",{scope:Hu.INLINE,whitelist:["small","large","huge"]}),yf=new Xu("size","font-size",{scope:Hu.INLINE,whitelist:["10px","18px","32px"]}),xf=gd("quill:keyboard"),wf=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class _f extends Cd{static match(e,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some((n=>!!t[n]!==e[n]&&null!==t[n]))&&(t.key===e.key||t.key===e.which)}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach((e=>{this.options.bindings[e]&&this.addBinding(this.options.bindings[e])})),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(e){if("string"==typeof e||"number"==typeof e)e={key:e};else{if("object"!=typeof e)return null;e=Bi(e)}e.shortKey&&(e[wf]=e.shortKey,delete e.shortKey);return e}(e);if(null==r)return void xf.warn("Attempted to add invalid keyboard binding",r);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n});(Array.isArray(r.key)?r.key:[r.key]).forEach((e=>{const i={...r,key:e,...t,...n};this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}))}listen(){this.quill.root.addEventListener("keydown",(e=>{if(e.defaultPrevented||e.isComposing)return;if(229===e.keyCode&&("Enter"===e.key||"Backspace"===e.key))return;const t=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter((t=>_f.match(e,t)));if(0===t.length)return;const n=$d.find(e.target,!0);if(n&&n.scroll!==this.quill.scroll)return;const r=this.quill.getSelection();if(null==r||!this.quill.hasFocus())return;const[i,s]=this.quill.getLine(r.index),[o,a]=this.quill.getLeaf(r.index),[l,c]=0===r.length?[o,a]:this.quill.getLeaf(r.index+r.length),u=o instanceof vh?o.value().slice(0,a):"",h=l instanceof vh?l.value().slice(c):"",d={collapsed:0===r.length,empty:0===r.length&&i.length()<=1,format:this.quill.getFormat(r),line:i,offset:s,prefix:u,suffix:h,event:e};t.some((e=>{if(null!=e.collapsed&&e.collapsed!==d.collapsed)return!1;if(null!=e.empty&&e.empty!==d.empty)return!1;if(null!=e.offset&&e.offset!==d.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((e=>null==d.format[e])))return!1}else if("object"==typeof e.format&&!Object.keys(e.format).every((t=>!0===e.format[t]?null!=d.format[t]:!1===e.format[t]?null==d.format[t]:xa(e.format[t],d.format[t]))))return!1;return!(null!=e.prefix&&!e.prefix.test(d.prefix))&&(!(null!=e.suffix&&!e.suffix.test(d.suffix))&&!0!==e.handler.call(this,r,d,e))}))&&e.preventDefault()}))}handleBackspace(e,t){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(0===e.index||this.quill.getLength()<=1)return;let r={};const[i]=this.quill.getLine(e.index);let s=(new Jh).retain(e.index-n).delete(n);if(0===t.offset){const[t]=this.quill.getLine(e.index-1);if(t){if(!("block"===t.statics.blotName&&t.length()<=1)){const t=i.formats(),n=this.quill.getFormat(e.index-1,1);if(r=_h.AttributeMap.diff(t,n)||{},Object.keys(r).length>0){const t=(new Jh).retain(e.index+i.length()-2).retain(1,r);s=s.compose(t)}}}}this.quill.updateContents(s,$d.sources.USER),this.quill.focus()}handleDelete(e,t){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-n)return;let r={};const[i]=this.quill.getLine(e.index);let s=(new Jh).retain(e.index).delete(n);if(t.offset>=i.length()-1){const[t]=this.quill.getLine(e.index+1);if(t){const n=i.formats(),o=this.quill.getFormat(e.index,1);r=_h.AttributeMap.diff(n,o)||{},Object.keys(r).length>0&&(s=s.retain(t.length()-1).retain(1,r))}}this.quill.updateContents(s,$d.sources.USER),this.quill.focus()}handleDeleteRange(e){qf({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const n=Object.keys(t.format).reduce(((e,n)=>(this.quill.scroll.query(n,Hu.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e)),{}),r=(new Jh).retain(e.index).delete(e.length).insert("\n",n);this.quill.updateContents(r,$d.sources.USER),this.quill.setSelection(e.index+1,$d.sources.SILENT),this.quill.focus()}}const Ef={bindings:{bold:Af("bold"),italic:Af("italic"),underline:Af("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",$d.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",$d.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){null!=t.format.indent?this.quill.format("indent","-1",$d.sources.USER):null!=t.format.list&&this.quill.format("list",!1,$d.sources.USER)}},"indent code-block":Nf(!0),"outdent code-block":Nf(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,$d.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const n=(new Jh).retain(e.index).delete(e.length).insert("\t");return this.quill.updateContents(n,$d.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,$d.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,$d.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,$d.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,n]=this.quill.getLine(e.index),r={...t.formats(),list:"checked"},i=(new Jh).retain(e.index).insert("\n",r).retain(t.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,$d.sources.USER),this.quill.setSelection(e.index+1,$d.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[n,r]=this.quill.getLine(e.index),i=(new Jh).retain(e.index).insert("\n",t.format).retain(n.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,$d.sources.USER),this.quill.setSelection(e.index+1,$d.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[n,r,i,s]=t.getTable(e),o=function(e,t,n,r){if(null==t.prev&&null==t.next)return null==n.prev&&null==n.next?0===r?-1:1:null==n.prev?-1:1;if(null==t.prev)return-1;if(null==t.next)return 1;return null}(0,r,i,s);if(null==o)return;let a=n.offset();if(o<0){const t=(new Jh).retain(a).insert("\n");this.quill.updateContents(t,$d.sources.USER),this.quill.setSelection(e.index+1,e.length,$d.sources.SILENT)}else if(o>0){a+=n.length();const e=(new Jh).retain(a).insert("\n");this.quill.updateContents(e,$d.sources.USER),this.quill.setSelection(a,$d.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:n,line:r}=t,i=r.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,$d.sources.USER):this.quill.setSelection(i+r.length(),$d.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(null==this.quill.scroll.query("list"))return!0;const{length:n}=t.prefix,[r,i]=this.quill.getLine(e.index);if(i>n)return!0;let s;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",$d.sources.USER),this.quill.history.cutoff();const o=(new Jh).retain(e.index-i).delete(n+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(o,$d.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,$d.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,n]=this.quill.getLine(e.index);let r=2,i=t;for(;null!=i&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const r=(new Jh).retain(e.index+t.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(r,$d.sources.USER),this.quill.setSelection(e.index-1,$d.sources.SILENT),!1}return!0}},"embed left":kf("ArrowLeft",!1),"embed left shift":kf("ArrowLeft",!0),"embed right":kf("ArrowRight",!1),"embed right shift":kf("ArrowRight",!0),"table down":Sf(!1),"table up":Sf(!0)}};function Nf(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,n){let{event:r}=n;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(0===t.length&&!r.shiftKey)return this.quill.insertText(t.index,s,$d.sources.USER),void this.quill.setSelection(t.index+s.length,$d.sources.SILENT);const o=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:a,length:l}=t;o.forEach(((t,n)=>{e?(t.insertAt(0,s),0===n?a+=s.length:l+=s.length):t.domNode.textContent.startsWith(s)&&(t.deleteAt(0,s.length),0===n?a-=s.length:l-=s.length)})),this.quill.update($d.sources.USER),this.quill.setSelection(a,l,$d.sources.SILENT)}}}function kf(e,t){const n="ArrowLeft"===e?"prefix":"suffix";return{key:e,shiftKey:t,altKey:null,[n]:/^$/,handler(n){let{index:r}=n;"ArrowRight"===e&&(r+=n.length+1);const[i]=this.quill.getLeaf(r);return!(i instanceof fh)||("ArrowLeft"===e?t?this.quill.setSelection(n.index-1,n.length+1,$d.sources.USER):this.quill.setSelection(n.index-1,$d.sources.USER):t?this.quill.setSelection(n.index,n.length+1,$d.sources.USER):this.quill.setSelection(n.index+n.length+1,$d.sources.USER),!1)}}}function Af(e){return{key:e[0],shortKey:!0,handler(t,n){this.quill.format(e,!n.format[e],$d.sources.USER)}}}function Sf(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,n){const r=e?"prev":"next",i=n.line,s=i.parent[r];if(null!=s){if("table-row"===s.statics.blotName){let e=s.children.head,t=i;for(;null!=t.prev;)t=t.prev,e=e.next;const r=e.offset(this.quill.scroll)+Math.min(n.offset,e.length()-1);this.quill.setSelection(r,0,$d.sources.USER)}}else{const t=i.table()[r];null!=t&&(e?this.quill.setSelection(t.offset(this.quill.scroll)+t.length()-1,0,$d.sources.USER):this.quill.setSelection(t.offset(this.quill.scroll),0,$d.sources.USER))}return!1}}}function qf(e){let{quill:t,range:n}=e;const r=t.getLines(n);let i={};if(r.length>1){const e=r[0].formats(),t=r[r.length-1].formats();i=_h.AttributeMap.diff(t,e)||{}}t.deleteText(n,$d.sources.USER),Object.keys(i).length>0&&t.formatLine(n.index,1,i,$d.sources.USER),t.setSelection(n.index,$d.sources.SILENT)}_f.DEFAULTS=Ef;const Of=/font-weight:\s*normal/,Cf=["P","OL","UL"],Lf=e=>e&&Cf.includes(e.tagName);const Tf=/\bmso-list:[^;]*ignore/i,Mf=/\bmso-list:[^;]*\bl(\d+)/i,Rf=/\bmso-list:[^;]*\blevel(\d+)/i,If=e=>{const t=Array.from(e.querySelectorAll("[style*=mso-list]")),n=[],r=[];t.forEach((e=>{(e.getAttribute("style")||"").match(Tf)?n.push(e):r.push(e)})),n.forEach((e=>e.parentNode?.removeChild(e)));const i=e.documentElement.innerHTML,s=r.map((e=>((e,t)=>{const n=e.getAttribute("style"),r=n?.match(Mf);if(!r)return null;const i=Number(r[1]),s=n?.match(Rf),o=s?Number(s[1]):1,a=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=t.match(a);return{id:i,indent:o,type:l&&"bullet"===l[1]?"bullet":"ordered",element:e}})(e,i))).filter((e=>e));for(;s.length;){const e=[];let t=s.shift();for(;t;)e.push(t),t=s.length&&s[0]?.element===t.element.nextElementSibling&&s[0].id===t.id?s.shift():null;const n=document.createElement("ul");e.forEach((e=>{const t=document.createElement("li");t.setAttribute("data-list",e.type),e.indent>1&&t.setAttribute("class","ql-indent-"+(e.indent-1)),t.innerHTML=e.element.innerHTML,n.appendChild(t)}));const r=e[0]?.element,{parentNode:i}=r??{};r&&i?.replaceChild(n,r),e.slice(1).forEach((e=>{let{element:t}=e;i?.removeChild(t)}))}};const jf=[function(e){"urn:schemas-microsoft-com:office:word"===e.documentElement.getAttribute("xmlns:w")&&If(e)},function(e){e.querySelector('[id^="docs-internal-guid-"]')&&((e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter((e=>e.getAttribute("style")?.match(Of))).forEach((t=>{const n=e.createDocumentFragment();n.append(...t.childNodes),t.parentNode?.replaceChild(n,t)}))})(e),(e=>{Array.from(e.querySelectorAll("br")).filter((e=>Lf(e.previousElementSibling)&&Lf(e.nextElementSibling))).forEach((e=>{e.parentNode?.removeChild(e)}))})(e))}],Df=gd("quill:clipboard"),Bf=[[Node.TEXT_NODE,function(e,t,n){let r=e.data;if("O:P"===e.parentElement?.tagName)return t.insert(r.trim());if(!Wf(e)){if(0===r.trim().length&&r.includes("\n")&&!function(e,t){return e.previousElementSibling&&e.nextElementSibling&&!Hf(e.previousElementSibling,t)&&!Hf(e.nextElementSibling,t)}(e,n))return t;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(null==e.previousSibling&&null!=e.parentElement&&Hf(e.parentElement,n)||e.previousSibling instanceof Element&&Hf(e.previousSibling,n))&&(r=r.replace(/^ /,"")),(null==e.nextSibling&&null!=e.parentElement&&Hf(e.parentElement,n)||e.nextSibling instanceof Element&&Hf(e.nextSibling,n))&&(r=r.replace(/ $/,"")),r=r.replaceAll(" "," ")}return t.insert(r)}],[Node.TEXT_NODE,Gf],["br",function(e,t){Pf(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,Gf],[Node.ELEMENT_NODE,function(e,t,n){const r=n.query(e);if(null==r)return t;if(r.prototype instanceof fh){const t={},i=r.value(e);if(null!=i)return t[r.blotName]=i,(new Jh).insert(t,r.formats(e,n))}else if(r.prototype instanceof uh&&!Pf(t,"\n")&&t.insert("\n"),"blotName"in r&&"formats"in r&&"function"==typeof r.formats)return $f(t,r.blotName,r.formats(e,n),n);return t}],[Node.ELEMENT_NODE,function(e,t,n){const r=Fu.keys(e),i=Zu.keys(e),s=Xu.keys(e),o={};return r.concat(i).concat(s).forEach((t=>{let r=n.query(t,Hu.ATTRIBUTE);null!=r&&(o[r.attrName]=r.value(e),o[r.attrName])||(r=zf[t],null==r||r.attrName!==t&&r.keyName!==t||(o[r.attrName]=r.value(e)||void 0),r=Uf[t],null==r||r.attrName!==t&&r.keyName!==t||(r=Uf[t],o[r.attrName]=r.value(e)||void 0))})),Object.entries(o).reduce(((e,t)=>{let[r,i]=t;return $f(e,r,i,n)}),t)}],[Node.ELEMENT_NODE,function(e,t,n){const r={},i=e.style||{};"italic"===i.fontStyle&&(r.italic=!0);"underline"===i.textDecoration&&(r.underline=!0);"line-through"===i.textDecoration&&(r.strike=!0);(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0);if(t=Object.entries(r).reduce(((e,t)=>{let[r,i]=t;return $f(e,r,i,n)}),t),parseFloat(i.textIndent||0)>0)return(new Jh).insert("\t").concat(t);return t}],["li",function(e,t,n){const r=n.query(e);if(null==r||"list"!==r.blotName||!Pf(t,"\n"))return t;let i=-1,s=e.parentNode;for(;null!=s;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?t:t.reduce(((e,t)=>t.insert?t.attributes&&"number"==typeof t.attributes.indent?e.push(t):e.insert(t.insert,{indent:i,...t.attributes||{}}):e),new Jh)}],["ol, ul",function(e,t,n){const r=e;let i="OL"===r.tagName?"ordered":"bullet";const s=r.getAttribute("data-checked");s&&(i="true"===s?"checked":"unchecked");return $f(t,"list",i,n)}],["pre",function(e,t,n){const r=n.query("code-block"),i=!r||!("formats"in r)||"function"!=typeof r.formats||r.formats(e,n);return $f(t,"code-block",i,n)}],["tr",function(e,t,n){const r="TABLE"===e.parentElement?.tagName?e.parentElement:e.parentElement?.parentElement;if(null!=r){return $f(t,"table",Array.from(r.querySelectorAll("tr")).indexOf(e)+1,n)}return t}],["b",Vf("bold")],["i",Vf("italic")],["strike",Vf("strike")],["style",function(){return new Jh}]],zf=[Jd,df].reduce(((e,t)=>(e[t.keyName]=t,e)),{}),Uf=[tf,af,sf,pf,bf,yf].reduce(((e,t)=>(e[t.keyName]=t,e)),{});function $f(e,t,n,r){return r.query(t)?e.reduce(((e,r)=>{if(!r.insert)return e;if(r.attributes&&r.attributes[t])return e.push(r);const i=n?{[t]:n}:{};return e.insert(r.insert,{...i,...r.attributes})}),new Jh):e}function Pf(e,t){let n="";for(let r=e.ops.length-1;r>=0&&n.length<t.length;--r){const t=e.ops[r];if("string"!=typeof t.insert)break;n=t.insert+n}return n.slice(-1*t.length)===t}function Hf(e,t){if(!(e instanceof Element))return!1;const n=t.query(e);return!(n&&n.prototype instanceof fh)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}const Ff=new WeakMap;function Wf(e){return null!=e&&(Ff.has(e)||("PRE"===e.tagName?Ff.set(e,!0):Ff.set(e,Wf(e.parentNode))),Ff.get(e))}function Kf(e,t,n,r,i){return t.nodeType===t.TEXT_NODE?r.reduce(((n,r)=>r(t,n,e)),new Jh):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce(((s,o)=>{let a=Kf(e,o,n,r,i);return o.nodeType===t.ELEMENT_NODE&&(a=n.reduce(((t,n)=>n(o,t,e)),a),a=(i.get(o)||[]).reduce(((t,n)=>n(o,t,e)),a)),s.concat(a)}),new Jh):new Jh}function Vf(e){return(t,n,r)=>$f(n,e,!0,r)}function Gf(e,t,n){if(!Pf(t,"\n")){if(Hf(e,n)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert("\n");if(t.length()>0&&e.nextSibling){let r=e.nextSibling;for(;null!=r;){if(Hf(r,n))return t.insert("\n");const e=n.query(r);if(e&&e.prototype instanceof od)return t.insert("\n");r=r.firstChild}}}return t}function Zf(e,t){let n=t;for(let t=e.length-1;t>=0;t-=1){const r=e[t];e[t]={delta:n.transform(r.delta,!0),range:r.range&&Qf(r.range,n)},n=r.delta.transform(n),0===e[t].delta.length()&&e.splice(t,1)}}function Qf(e,t){if(!e)return e;const n=t.transformPosition(e.index);return{index:n,length:t.transformPosition(e.index+e.length)-n}}class Xf extends Cd{constructor(e,t){super(e,t),e.root.addEventListener("drop",(t=>{t.preventDefault();let n=null;if(document.caretRangeFromPoint)n=document.caretRangeFromPoint(t.clientX,t.clientY);else if(document.caretPositionFromPoint){const e=document.caretPositionFromPoint(t.clientX,t.clientY);n=document.createRange(),n.setStart(e.offsetNode,e.offset),n.setEnd(e.offsetNode,e.offset)}const r=n&&e.selection.normalizeNative(n);if(r){const n=e.selection.normalizedToRange(r);t.dataTransfer?.files&&this.upload(n,t.dataTransfer.files)}}))}upload(e,t){const n=[];Array.from(t).forEach((e=>{e&&this.options.mimetypes?.includes(e.type)&&n.push(e)})),n.length>0&&this.options.handler.call(this,e,n)}}Xf.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const n=t.map((e=>new Promise((t=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.readAsDataURL(e)}))));Promise.all(n).then((t=>{const n=t.reduce(((e,t)=>e.insert({image:t})),(new Jh).retain(e.index).delete(e.length));this.quill.updateContents(n,bd.sources.USER),this.quill.setSelection(e.index+t.length,bd.sources.SILENT)}))}};const Yf=["insertText","insertReplacementText"];const Jf=/Mac/i.test(navigator.platform);$d.register({"blots/block":sd,"blots/block/embed":od,"blots/break":ed,"blots/container":Gd,"blots/cursor":cd,"blots/embed":Td,"blots/inline":id,"blots/scroll":class extends mh{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=sd;static allowedChildren=[sd,od,Gd];constructor(e,t,n){let{emitter:r}=n;super(e,t),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(e=>this.handleDragStart(e)))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(bd.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(bd.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(bd.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[n,r]=this.line(e),[i]=this.line(e+t);if(super.deleteAt(e,t),null!=i&&n!==i&&r>0){if(n instanceof od||i instanceof od)return void this.optimize();const e=i.children.head instanceof ed?null:i.children.head;n.moveChildren(i,e),n.remove()}this.optimize()}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,n,r){super.formatAt(e,t,n,r),this.optimize()}insertAt(e,t,n){if(e>=this.length())if(null==n||null==this.scroll.query(t,Hu.BLOCK)){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e),null==n&&t.endsWith("\n")?e.insertAt(0,t.slice(0,-1),n):e.insertAt(0,t,n)}else{const e=this.scroll.create(t,n);this.appendChild(e)}else super.insertAt(e,t,n);this.optimize()}insertBefore(e,t){if(e.statics.scope===Hu.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),super.insertBefore(n,t)}else super.insertBefore(e,t)}insertContents(e,t){const n=this.deltaToRenderBlocks(t.concat((new Jh).insert("\n"))),r=n.pop();if(null==r)return;this.batchStart();const i=n.shift();if(i){const t="block"===i.type&&(0===i.delta.length()||!this.descendant(od,e)[0]&&e<this.length()),n="block"===i.type?i.delta:(new Jh).insert({[i.key]:i.value});Xd(this,e,n);const r="block"===i.type?1:0,s=e+n.length()+r;t&&this.insertAt(s-1,"\n");const o=ld(this.line(e)[0]),a=_h.AttributeMap.diff(o,i.attributes)||{};Object.keys(a).forEach((e=>{this.formatAt(s-1,1,e,a[e])})),e=s}let[s,o]=this.children.find(e);if(n.length&&(s&&(s=s.split(o),o=0),n.forEach((e=>{if("block"===e.type){Xd(this.createBlock(e.attributes,s||void 0),0,e.delta)}else{const t=this.create(e.key,e.value);this.insertBefore(t,s||void 0),Object.keys(e.attributes).forEach((n=>{t.format(n,e.attributes[n])}))}}))),"block"===r.type&&r.delta.length()){Xd(this,s?s.offset(s.scroll)+o:this.length(),r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[n,r]=t;return n instanceof nh?[n,r]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Zd,e)}lines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;const n=(e,t,r)=>{let i=[],s=r;return e.children.forEachAt(t,r,((e,t,r)=>{Zd(e)?i.push(e):e instanceof dh&&(i=i.concat(n(e,t,s))),s-=r})),i};return n(this,e,t)}optimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(bd.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch)return void(Array.isArray(e)&&(this.batch=this.batch.concat(e)));let t=bd.sources.USER;"string"==typeof e&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),(e=e.filter((e=>{let{target:t}=e;const n=this.find(t,!0);return n&&!Qd(n)}))).length>0&&this.emitter.emit(bd.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(bd.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,n){const[r]=this.descendant((e=>e instanceof od),e);r&&r.statics.blotName===t&&Qd(r)&&r.updateContent(n)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let n=new Jh;return e.forEach((e=>{const r=e?.insert;if(r)if("string"==typeof r){const i=r.split("\n");i.slice(0,-1).forEach((r=>{n.insert(r,e.attributes),t.push({type:"block",delta:n,attributes:e.attributes??{}}),n=new Jh}));const s=i[i.length-1];s&&n.insert(s,e.attributes)}else{const i=Object.keys(r)[0];if(!i)return;this.query(i,Hu.INLINE)?n.push(e):(n.length()&&t.push({type:"block",delta:n,attributes:{}}),n=new Jh,t.push({type:"blockEmbed",key:i,value:r[i],attributes:e.attributes??{}}))}})),n.length()&&t.push({type:"block",delta:n,attributes:{}}),t}createBlock(e,t){let n;const r={};Object.entries(e).forEach((e=>{let[t,i]=e;null!=this.query(t,Hu.BLOCK&Hu.BLOT)?n=t:r[t]=i}));const i=this.create(n||this.statics.defaultChild.blotName,n?e[n]:void 0);this.insertBefore(i,t||void 0);const s=i.length();return Object.entries(r).forEach((e=>{let[t,n]=e;i.formatAt(0,s,t,n)})),i}},"blots/text":td,"modules/clipboard":class extends Cd{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",(e=>this.onCaptureCopy(e,!1))),this.quill.root.addEventListener("cut",(e=>this.onCaptureCopy(e,!0))),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Bf.concat(this.options.matchers??[]).forEach((e=>{let[t,n]=e;this.addMatcher(t,n)}))}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:n}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r[cf.blotName])return(new Jh).insert(n||"",{[cf.blotName]:r[cf.blotName]});if(!t)return(new Jh).insert(n||"",r);const i=this.convertHTML(t);return Pf(i,"\n")&&(null==i.ops[i.ops.length-1].attributes||r.table)?i.compose((new Jh).retain(i.length()-1).delete(1)):i}normalizeHTML(e){(e=>{e.documentElement&&jf.forEach((t=>{t(e)}))})(e)}convertHTML(e){const t=(new DOMParser).parseFromString(e,"text/html");this.normalizeHTML(t);const n=t.body,r=new WeakMap,[i,s]=this.prepareMatching(n,r);return Kf(this.quill.scroll,n,i,s,r)}dangerouslyPasteHTML(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$d.sources.API;if("string"==typeof e){const n=this.convert({html:e,text:""});this.quill.setContents(n,t),this.quill.setSelection(0,$d.sources.SILENT)}else{const r=this.convert({html:t,text:""});this.quill.updateContents((new Jh).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),$d.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.defaultPrevented)return;e.preventDefault();const[n]=this.quill.selection.getRange();if(null==n)return;const{html:r,text:i}=this.onCopy(n,t);e.clipboardData?.setData("text/plain",i),e.clipboardData?.setData("text/html",r),t&&qf({range:n,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter((e=>"#"!==e[0])).join("\n")}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(null==t)return;const n=e.clipboardData?.getData("text/html");let r=e.clipboardData?.getData("text/plain");if(!n&&!r){const t=e.clipboardData?.getData("text/uri-list");t&&(r=this.normalizeURIList(t))}const i=Array.from(e.clipboardData?.files||[]);if(!n&&i.length>0)this.quill.uploader.upload(t,i);else{if(n&&i.length>0){const e=(new DOMParser).parseFromString(n,"text/html");if(1===e.body.childElementCount&&"IMG"===e.body.firstElementChild?.tagName)return void this.quill.uploader.upload(t,i)}this.onPaste(t,{html:n,text:r})}}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:n,html:r}=t;const i=this.quill.getFormat(e.index),s=this.convert({text:n,html:r},i);Df.log("onPaste",s,{text:n,html:r});const o=(new Jh).retain(e.index).delete(e.length).concat(s);this.quill.updateContents(o,$d.sources.USER),this.quill.setSelection(o.length()-e.length,$d.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const n=[],r=[];return this.matchers.forEach((i=>{const[s,o]=i;switch(s){case Node.TEXT_NODE:r.push(o);break;case Node.ELEMENT_NODE:n.push(o);break;default:Array.from(e.querySelectorAll(s)).forEach((e=>{if(t.has(e)){const n=t.get(e);n?.push(o)}else t.set(e,[o])}))}})),[n,r]}},"modules/history":class extends Cd{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on($d.events.EDITOR_CHANGE,((e,t,n,r)=>{e===$d.events.SELECTION_CHANGE?t&&r!==$d.sources.SILENT&&(this.currentRange=t):e===$d.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&r!==$d.sources.USER?this.transform(t):this.record(t,n)),this.currentRange=Qf(this.currentRange,t))})),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(e=>{"historyUndo"===e.inputType?(this.undo(),e.preventDefault()):"historyRedo"===e.inputType&&(this.redo(),e.preventDefault())}))}change(e,t){if(0===this.stack[e].length)return;const n=this.stack[e].pop();if(!n)return;const r=this.quill.getContents(),i=n.delta.invert(r);this.stack[t].push({delta:i,range:Qf(n.range,i)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n.delta,$d.sources.USER),this.ignoreChange=!1,this.restoreSelection(n)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(0===e.ops.length)return;this.stack.redo=[];let n=e.invert(t),r=this.currentRange;const i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){const e=this.stack.undo.pop();e&&(n=n.compose(e.delta),r=e.range)}else this.lastRecorded=i;0!==n.length()&&(this.stack.undo.push({delta:n,range:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Zf(this.stack.undo,e),Zf(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,$d.sources.USER);else{const t=function(e,t){const n=t.reduce(((e,t)=>e+(t.delete||0)),0);let r=t.length()-n;(function(e,t){const n=t.ops[t.ops.length-1];if(null==n)return!1;if(null!=n.insert)return"string"==typeof n.insert&&n.insert.endsWith("\n");if(null!=n.attributes)return Object.keys(n.attributes).some((t=>null!=e.query(t,Hu.BLOCK)));return!1})(e,t)&&(r-=1);return r}(this.quill.scroll,e.delta);this.quill.setSelection(t,$d.sources.USER)}}},"modules/keyboard":_f,"modules/uploader":Xf,"modules/input":class extends Cd{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",(e=>{this.handleBeforeInput(e)})),/Android/i.test(navigator.userAgent)||e.on($d.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}deleteRange(e){qf({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===e.length)return!1;if(t){const n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents((new Jh).retain(e.index).insert(t,n),$d.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,$d.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!Yf.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||!0===t.collapsed)return;const n=function(e){if("string"==typeof e.data)return e.data;if(e.dataTransfer?.types.includes("text/plain"))return e.dataTransfer.getData("text/plain");return null}(e);if(null==n)return;const r=this.quill.selection.normalizeNative(t),i=r?this.quill.selection.normalizedToRange(r):null;i&&this.replaceText(i,n)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}},"modules/uiNode":class extends Cd{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:n,event:r}=t;if(!(n instanceof oh&&n.uiNode))return!0;const i="rtl"===getComputedStyle(n.domNode).direction;return!!(i&&"ArrowRight"!==r.key||!i&&"ArrowLeft"!==r.key)||(this.quill.setSelection(e.index-1,e.length+(r.shiftKey?1:0),$d.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(e=>{!e.defaultPrevented&&(e=>"ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||"Home"===e.key||!(!Jf||"a"!==e.key||!0!==e.ctrlKey))(e)&&this.ensureListeningToSelectionChange()}))}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+100,this.isListening)return;this.isListening=!0;document.addEventListener("selectionchange",(()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()}),{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(!0!==t.collapsed||0!==t.startOffset)return;const n=this.quill.scroll.find(t.startContainer);if(!(n instanceof oh&&n.uiNode))return;const r=document.createRange();r.setStartAfter(n.uiNode),r.setEndAfter(n.uiNode),e.removeAllRanges(),e.addRange(r)}}});const ep=new class extends Zu{add(e,t){let n=0;if("+1"===t||"-1"===t){const r=this.value(e)||0;n="+1"===t?r+1:r-1}else"number"==typeof t&&(n=t);return 0===n?(this.remove(e),!0):super.add(e,n.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}("indent","ql-indent",{scope:Hu.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class tp extends Gd{}tp.blotName="list-container",tp.tagName="OL";let np=class extends sd{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){$d.register(tp)}constructor(e,t){super(e,t);const n=t.ownerDocument.createElement("span"),r=n=>{if(!e.isEnabled())return;const r=this.statics.formats(t,e);"checked"===r?(this.format("list","unchecked"),n.preventDefault()):"unchecked"===r&&(this.format("list","checked"),n.preventDefault())};n.addEventListener("mousedown",r),n.addEventListener("touchstart",r),this.attachUI(n)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}};np.blotName="list",np.tagName="LI",tp.allowedChildren=[np],np.requiredContainer=tp;class rp extends id{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class ip extends id{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return sp(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("href",this.constructor.sanitize(t)):super.format(e,t)}}function sp(e,t){const n=document.createElement("a");n.href=e;const r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}const op=["alt","height","width"];const ap=["height","width"];const lp=new Zu("code-token","hljs",{scope:Hu.INLINE});class cp extends id{static formats(e,t){for(;null!=e&&e!==t.domNode;){if(e.classList&&e.classList.contains(cf.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,n){super(e,t,n),lp.add(this.domNode,n)}format(e,t){e!==cp.blotName?super.format(e,t):t?lp.add(this.domNode,t):(lp.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),lp.value(this.domNode)||this.unwrap()}}cp.blotName="code-token",cp.className="ql-token";class up extends cf{static create(e){const t=super.create(e);return"string"==typeof e&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),cp.blotName,!1),super.replaceWith(e,t)}}class hp extends lf{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===up.blotName&&(this.forceNext=!0,this.children.forEach((n=>{n.format(e,t)})))}formatAt(e,t,n,r){n===up.blotName&&(this.forceNext=!0),super.formatAt(e,t,n,r)}highlight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const n=`${Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)).map((e=>e.textContent)).join("\n")}\n`,r=up.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==n){if(n.trim().length>0||null==this.cachedText){const t=this.children.reduce(((e,t)=>e.concat(ad(t,!1))),new Jh),i=e(n,r);t.diff(i).reduce(((e,t)=>{let{retain:n,attributes:r}=t;return n?(r&&Object.keys(r).forEach((t=>{[up.blotName,cp.blotName].includes(t)&&this.formatAt(e,n,t,r[t])})),e+n):e}),0)}this.cachedText=n,this.forceNext=!1}}html(e,t){const[n]=this.children.find(e);return`<pre data-language="${n?up.formats(n.domNode):"plain"}">\n${rd(this.code(e,t))}\n</pre>`}optimize(e){if(super.optimize(e),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const e=up.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}hp.allowedChildren=[up],up.requiredContainer=hp,up.allowedChildren=[cp,cd,td,ed];class dp extends Cd{static register(){$d.register(cp,!0),$d.register(up,!0),$d.register(hp,!0)}constructor(e,t){if(super(e,t),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce(((e,t)=>{let{key:n}=t;return e[n]=!0,e}),{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on($d.events.SCROLL_BLOT_MOUNT,(e=>{if(!(e instanceof hp))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((e=>{let{key:n,label:r}=e;const i=t.ownerDocument.createElement("option");i.textContent=r,i.setAttribute("value",n),t.appendChild(i)})),t.addEventListener("change",(()=>{e.format(up.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)})),null==e.uiNode&&(e.attachUI(t),e.children.head&&(t.value=up.formats(e.children.head.domNode)))}))}initTimer(){let e=null;this.quill.on($d.events.SCROLL_OPTIMIZE,(()=>{e&&clearTimeout(e),e=setTimeout((()=>{this.highlight(),e=null}),this.options.interval)}))}highlight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update($d.sources.USER);const n=this.quill.getSelection();(null==e?this.quill.scroll.descendants(hp):[e]).forEach((e=>{e.highlight(this.highlightBlot,t)})),this.quill.update($d.sources.SILENT),null!=n&&this.quill.setSelection(n,$d.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(t=this.languages[t]?t:"plain","plain"===t)return rd(e).split("\n").reduce(((e,n,r)=>(0!==r&&e.insert("\n",{[cf.blotName]:t}),e.insert(n))),new Jh);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(cf.className),n.innerHTML=((e,t,n)=>{if("string"==typeof e.versionString){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(n,{language:t}).value}return e.highlight(t,n).value})(this.options.hljs,t,e),Kf(this.quill.scroll,n,[(e,t)=>{const n=lp.value(e);return n?t.compose((new Jh).retain(t.length(),{[cp.blotName]:n})):t}],[(e,n)=>e.data.split("\n").reduce(((e,n,r)=>(0!==r&&e.insert("\n",{[cf.blotName]:t}),e.insert(n))),n)],new WeakMap)}}dp.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};let fp=class e extends sd{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",bp()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,n){t===e.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(t,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}},pp=class extends Gd{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const e=this.children.head.formats(),t=this.children.tail.formats(),n=this.next.children.head.formats(),r=this.next.children.tail.formats();return e.table===t.table&&e.table===n.table&&e.table===r.table}return!1}optimize(e){super.optimize(e),this.children.forEach((e=>{if(null==e.next)return;const t=e.formats(),n=e.next.formats();if(t.table!==n.table){const t=this.splitAfter(e);t&&t.optimize(),this.prev&&this.prev.optimize()}}))}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}},gp=class extends Gd{static blotName="table-body";static tagName="TBODY"},mp=class extends Gd{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(pp),t=e.reduce(((e,t)=>Math.max(t.children.length,e)),0);e.forEach((e=>{new Array(t-e.children.length).fill(0).forEach((()=>{let t;null!=e.children.head&&(t=fp.formats(e.children.head.domNode));const n=this.scroll.create(fp.blotName,t);e.appendChild(n),n.optimize()}))}))}cells(e){return this.rows().map((t=>t.children.at(e)))}deleteColumn(e){const[t]=this.descendant(gp);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const n=t.children.at(e);null!=n&&n.remove()}))}insertColumn(e){const[t]=this.descendant(gp);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const n=t.children.at(e),r=fp.formats(t.children.head.domNode),i=this.scroll.create(fp.blotName,r);t.insertBefore(i,n)}))}insertRow(e){const[t]=this.descendant(gp);if(null==t||null==t.children.head)return;const n=bp(),r=this.scroll.create(pp.blotName);t.children.head.children.forEach((()=>{const e=this.scroll.create(fp.blotName,n);r.appendChild(e)}));const i=t.children.at(e);t.insertBefore(r,i)}rows(){const e=this.children.head;return null==e?[]:e.children.map((e=>e))}};function bp(){return`row-${Math.random().toString(36).slice(2,6)}`}mp.allowedChildren=[gp],gp.requiredContainer=mp,gp.allowedChildren=[pp],pp.requiredContainer=gp,pp.allowedChildren=[fp],fp.requiredContainer=pp;const vp=gd("quill:toolbar");let yp=class extends Cd{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const t=document.createElement("div");t.setAttribute("role","toolbar"),function(e,t){Array.isArray(t[0])||(t=[t]);t.forEach((t=>{const n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((e=>{if("string"==typeof e)xp(n,e);else{const t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){const r=document.createElement("select");r.classList.add(`ql-${t}`),n.forEach((e=>{const t=document.createElement("option");!1!==e?t.setAttribute("value",String(e)):t.setAttribute("selected","selected"),r.appendChild(t)})),e.appendChild(r)}(n,t,r):xp(n,t,r)}})),e.appendChild(n)}))}(t,this.options.container),e.container?.parentNode?.insertBefore(t,e.container),this.container=t}else"string"==typeof this.options.container?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach((e=>{const t=this.options.handlers?.[e];t&&this.addHandler(e,t)})),Array.from(this.container.querySelectorAll("button, select")).forEach((e=>{this.attach(e)})),this.quill.on($d.events.EDITOR_CHANGE,(()=>{const[e]=this.quill.selection.getRange();this.update(e)}))):vp.error("Container required for toolbar",this.options)}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find((e=>0===e.indexOf("ql-")));if(!t)return;if(t=t.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[t]&&null==this.quill.scroll.query(t))return void vp.warn("ignoring attaching to nonexistent format",t,e);const n="SELECT"===e.tagName?"change":"click";e.addEventListener(n,(n=>{let r;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;const t=e.options[e.selectedIndex];r=!t.hasAttribute("selected")&&(t.value||!1)}else r=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),n.preventDefault();this.quill.focus();const[i]=this.quill.selection.getRange();if(null!=this.handlers[t])this.handlers[t].call(this,r);else if(this.quill.scroll.query(t).prototype instanceof fh){if(r=prompt(`Enter ${t}`),!r)return;this.quill.updateContents((new Jh).retain(i.index).delete(i.length).insert({[t]:r}),$d.sources.USER)}else this.quill.format(t,r,$d.sources.USER);this.update(i)})),this.controls.push([t,e])}update(e){const t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((n=>{const[r,i]=n;if("SELECT"===i.tagName){let n=null;if(null==e)n=null;else if(null==t[r])n=i.querySelector("option[selected]");else if(!Array.isArray(t[r])){let e=t[r];"string"==typeof e&&(e=e.replace(/"/g,'\\"')),n=i.querySelector(`option[value="${e}"]`)}null==n?(i.value="",i.selectedIndex=-1):n.selected=!0}else if(null==e)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const e=t[r],n=e===i.getAttribute("value")||null!=e&&e.toString()===i.getAttribute("value")||null==e&&!i.getAttribute("value");i.classList.toggle("ql-active",n),i.setAttribute("aria-pressed",n.toString())}else{const e=null!=t[r];i.classList.toggle("ql-active",e),i.setAttribute("aria-pressed",e.toString())}}))}};function xp(e,t,n){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${t}`),r.setAttribute("aria-pressed","false"),null!=n?(r.value=n,r.setAttribute("aria-label",`${t}: ${n}`)):r.setAttribute("aria-label",t),e.appendChild(r)}yp.DEFAULTS={},yp.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(null!=e)if(0===e.length){const e=this.quill.getFormat();Object.keys(e).forEach((e=>{null!=this.quill.scroll.query(e,Hu.INLINE)&&this.quill.format(e,!1,$d.sources.USER)}))}else this.quill.removeFormat(e.index,e.length,$d.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();"rtl"===e&&null==t?this.quill.format("align","right",$d.sources.USER):e||"right"!==t||this.quill.format("align",!1,$d.sources.USER),this.quill.format("direction",e,$d.sources.USER)},indent(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0,10);if("+1"===e||"-1"===e){let t="+1"===e?1:-1;"rtl"===n.direction&&(t*=-1),this.quill.format("indent",r+t,$d.sources.USER)}},link(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,$d.sources.USER)},list(e){const t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,$d.sources.USER):this.quill.format("list","unchecked",$d.sources.USER):this.quill.format("list",e,$d.sources.USER)}}};const wp='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var _p={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:wp,"code-block":wp,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let Ep=0;function Np(e,t){e.setAttribute(t,`${!("true"===e.getAttribute(t))}`)}class kp{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(()=>{this.togglePicker()})),this.label.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Np(this.label,"aria-expanded"),Np(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const n=e.getAttribute("value");return n&&t.setAttribute("data-value",n),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",(()=>{this.selectItem(t,!0)})),t.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.selectItem(t,!0),e.preventDefault();break;case"Escape":this.escape(),e.preventDefault()}})),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Ep}`,Ep+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach((t=>{const n=this.buildItem(t);e.appendChild(n),!0===t.selected&&this.selectItem(n)})),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach((e=>{this.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.container.querySelector(".ql-selected");e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);const t=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class Ap extends kp{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((e=>{e.classList.add("ql-primary")}))}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const n=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=r:n.style.fill=r)}}class Sp extends kp{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((e=>{e.innerHTML=t[e.getAttribute("data-value")||""]})),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const n=e||this.defaultItem;if(null!=n){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}class qp{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(e=>{const{overflowY:t}=getComputedStyle(e,null);return"visible"!==t&&"clip"!==t})(this.quill.root)&&this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"})),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let s=0;if(i.right>r.right&&(s=r.right-i.right,this.root.style.left=`${t+s}px`),i.left<r.left&&(s=r.left-i.left,this.root.style.left=`${t+s}px`),i.bottom>r.bottom){const t=i.bottom-i.top,r=e.bottom-e.top+t;this.root.style.top=n-r+"px",this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Op=[!1,"center","right","justify"],Cp=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Lp=[!1,"serif","monospace"],Tp=["1","2","3",!1],Mp=["small",!1,"large","huge"];class Rp extends Rd{constructor(e,t){super(e,t);const n=t=>{document.body.contains(e.root)?(null==this.tooltip||this.tooltip.root.contains(t.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach((e=>{e.container.contains(t.target)||e.close()}))):document.body.removeEventListener("click",n)};e.emitter.listenDOM("click",document.body,n)}addModule(e){const t=super.addModule(e);return"toolbar"===e&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach((e=>{(e.getAttribute("class")||"").split(/\s+/).forEach((n=>{if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{const r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}}))}))}buildPickers(e,t){this.pickers=Array.from(e).map((e=>{if(e.classList.contains("ql-align")&&(null==e.querySelector("option")&&jp(e,Op),"object"==typeof t.align))return new Sp(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){const n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&jp(e,Cp,"background"===n?"#ffffff":"#000000"),new Ap(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?jp(e,Lp):e.classList.contains("ql-header")?jp(e,Tp):e.classList.contains("ql-size")&&jp(e,Mp)),new kp(e)}));this.quill.on(bd.events.EDITOR_CHANGE,(()=>{this.pickers.forEach((e=>{e.update()}))}))}}Rp.DEFAULTS=$a({},Rd.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",(()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""})),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Ip extends qp{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(e=>{"Enter"===e.key?(this.save(),e.preventDefault()):"Escape"===e.key&&(this.cancel(),e.preventDefault())}))}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);null!=n&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,bd.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,bd.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=function(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(t)return`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`;if(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`;return e}(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(null!=t){const n=t.index+t.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,bd.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",bd.sources.USER),this.quill.setSelection(n+2,bd.sources.USER)}break}}this.textbox.value="",this.hide()}}function jp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((t=>{const r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",String(t)),e.appendChild(r)}))}const Dp=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Bp extends Ip{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(bd.events.EDITOR_CHANGE,((e,t,n,r)=>{if(e===bd.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===bd.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const e=this.quill.getLines(t.index,t.length);if(1===e.length){const e=this.quill.getBounds(t);null!=e&&this.position(e)}else{const n=e[e.length-1],r=this.quill.getIndex(n),i=Math.min(n.length()-1,t.index+t.length-r),s=this.quill.getBounds(new yd(r,i));null!=s&&this.position(s)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()}))}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")})),this.quill.on(bd.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(null!=e){const t=this.quill.getBounds(e);null!=t&&this.position(t)}}),1)}))}cancel(){this.show()}position(e){const t=super.position(e),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",0!==t&&(n.style.marginLeft=-1*t-n.offsetWidth/2+"px"),t}}class zp extends Rp{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=Dp),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Bp(this.quill,this.options.bounds),null!=e.container&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),_p),this.buildPickers(e.container.querySelectorAll("select"),_p))}}zp.DEFAULTS=$a({},Rp.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,$d.sources.USER)}}}}});const Up=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class $p extends Ip{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(e=>{if(null!=this.linkRange){const e=this.linkRange;this.restoreFocus(),this.quill.formatText(e,"link",!1,bd.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()})),this.quill.on(bd.events.SELECTION_CHANGE,((e,t,n)=>{if(null!=e){if(0===e.length&&n===bd.sources.USER){const[t,n]=this.quill.scroll.descendant(ip,e.index);if(null!=t){this.linkRange=new yd(e.index-n,t.length());const r=ip.formats(t.domNode);this.preview.textContent=r,this.preview.setAttribute("href",r),this.show();const i=this.quill.getBounds(this.linkRange);return void(null!=i&&this.position(i))}}else delete this.linkRange;this.hide()}}))}show(){super.show(),this.root.removeAttribute("data-mode")}}class Pp extends Rp{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=Up),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){null!=e.container&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),_p),this.buildPickers(e.container.querySelectorAll("select"),_p),this.tooltip=new $p(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},((t,n)=>{e.handlers.link.call(e,!n.format.link)})))}}Pp.DEFAULTS=$a({},Rp.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const e=this.quill.getSelection();if(null==e||0===e.length)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&0!==t.indexOf("mailto:")&&(t=`mailto:${t}`);const{tooltip:n}=this.quill.theme;n.edit("link",t)}else this.quill.format("link",!1,$d.sources.USER)}}}}}),$d.register({"attributors/attribute/direction":df,"attributors/class/align":ef,"attributors/class/background":of,"attributors/class/color":rf,"attributors/class/direction":ff,"attributors/class/font":mf,"attributors/class/size":vf,"attributors/style/align":tf,"attributors/style/background":af,"attributors/style/color":sf,"attributors/style/direction":pf,"attributors/style/font":bf,"attributors/style/size":yf},!0),$d.register({"formats/align":ef,"formats/direction":ff,"formats/indent":ep,"formats/background":af,"formats/color":sf,"formats/font":mf,"formats/size":vf,"formats/blockquote":class extends sd{static blotName="blockquote";static tagName="blockquote"},"formats/code-block":cf,"formats/header":class extends sd{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}},"formats/list":np,"formats/bold":rp,"formats/code":uf,"formats/italic":class extends rp{static blotName="italic";static tagName=["EM","I"]},"formats/link":ip,"formats/script":class extends id{static blotName="script";static tagName=["SUB","SUP"];static create(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):super.create(e)}static formats(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}},"formats/strike":class extends rp{static blotName="strike";static tagName=["S","STRIKE"]},"formats/underline":class extends id{static blotName="underline";static tagName="U"},"formats/formula":class extends Td{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return"string"==typeof e&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}},"formats/image":class extends fh{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return"string"==typeof e&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return op.reduce(((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t)),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return sp(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){op.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}},"formats/video":class extends od{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return ap.reduce(((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t)),{})}static sanitize(e){return ip.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){ap.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}},"modules/syntax":dp,"modules/table":class extends Cd{static register(){$d.register(fp),$d.register(pp),$d.register(gp),$d.register(mp)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(mp).forEach((e=>{e.balanceCells()}))}deleteColumn(){const[e,,t]=this.getTable();null!=t&&(e.deleteColumn(t.cellOffset()),this.quill.update($d.sources.USER))}deleteRow(){const[,e]=this.getTable();null!=e&&(e.remove(),this.quill.update($d.sources.USER))}deleteTable(){const[e]=this.getTable();if(null==e)return;const t=e.offset();e.remove(),this.quill.update($d.sources.USER),this.quill.setSelection(t,$d.sources.SILENT)}getTable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==e)return[null,null,null,-1];const[t,n]=this.quill.getLine(e.index);if(null==t||t.statics.blotName!==fp.blotName)return[null,null,null,-1];const r=t.parent;return[r.parent.parent,r,t,n]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[n,r,i]=this.getTable(t);if(null==i)return;const s=i.cellOffset();n.insertColumn(s+e),this.quill.update($d.sources.USER);let o=r.rowOffset();0===e&&(o+=1),this.quill.setSelection(t.index+o,t.length,$d.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[n,r,i]=this.getTable(t);if(null==i)return;const s=r.rowOffset();n.insertRow(s+e),this.quill.update($d.sources.USER),e>0?this.quill.setSelection(t,$d.sources.SILENT):this.quill.setSelection(t.index+r.children.length,t.length,$d.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const n=this.quill.getSelection();if(null==n)return;const r=new Array(e).fill(0).reduce((e=>{const n=new Array(t).fill("\n").join("");return e.insert(n,{table:bp()})}),(new Jh).retain(n.index));this.quill.updateContents(r,$d.sources.USER),this.quill.setSelection(n.index,$d.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on($d.events.SCROLL_OPTIMIZE,(e=>{e.some((e=>!!["TD","TR","TBODY","TABLE"].includes(e.target.tagName)&&(this.quill.once($d.events.TEXT_CHANGE,((e,t,n)=>{n===$d.sources.USER&&this.balanceTables()})),!0)))}))}},"modules/toolbar":yp,"themes/bubble":zp,"themes/snow":Pp,"ui/icons":_p,"ui/picker":kp,"ui/icon-picker":Sp,"ui/color-picker":Ap,"ui/tooltip":qp},!0);var Hp=-1;function Fp(e,t,n,r){if(e===t)return e?[[0,e]]:[];if(null!=n){var i=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,i="number"==typeof n?null:n.newRange,s=e.length,o=t.length;if(0===r.length&&(null===i||0===i.length)){var a=r.index,l=e.slice(0,a),c=e.slice(a),u=i?i.index:null,h=a+o-s;if((null===u||u===h)&&!(h<0||h>o)){var d=t.slice(0,h);if((g=t.slice(h))===c){var f=Math.min(a,h);if((b=l.slice(0,f))===(y=d.slice(0,f)))return Jp(b,l.slice(f),d.slice(f),c)}}if(null===u||u===a){var p=a,g=(d=t.slice(0,p),t.slice(p));if(d===l){var m=Math.min(s-p,o-p);if((v=c.slice(c.length-m))===(x=g.slice(g.length-m)))return Jp(l,c.slice(0,c.length-m),g.slice(0,g.length-m),v)}}}if(r.length>0&&i&&0===i.length){var b=e.slice(0,r.index),v=e.slice(r.index+r.length);if(!(o<(f=b.length)+(m=v.length))){var y=t.slice(0,f),x=t.slice(o-m);if(b===y&&v===x)return Jp(b,e.slice(f,s-m),t.slice(f,o-m),v)}}return null}(e,t,n);if(i)return i}var s=Kp(e,t),o=e.substring(0,s);s=Vp(e=e.substring(s),t=t.substring(s));var a=e.substring(e.length-s),l=function(e,t){var n;if(!e)return[[1,t]];if(!t)return[[Hp,e]];var r=e.length>t.length?e:t,i=e.length>t.length?t:e,s=r.indexOf(i);if(-1!==s)return n=[[1,r.substring(0,s)],[0,i],[1,r.substring(s+i.length)]],e.length>t.length&&(n[0][0]=n[2][0]=Hp),n;if(1===i.length)return[[Hp,e],[1,t]];var o=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function i(e,t,n){for(var r,i,s,o,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!==(l=t.indexOf(a,l+1));){var u=Kp(e.substring(n),t.substring(l)),h=Vp(e.substring(0,n),t.substring(0,l));c.length<h+u&&(c=t.substring(l-h,l)+t.substring(l,l+u),r=e.substring(0,n-h),i=e.substring(n+u),s=t.substring(0,l-h),o=t.substring(l+u))}return 2*c.length>=e.length?[r,i,s,o,c]:null}var s,o,a,l,c,u=i(n,r,Math.ceil(n.length/4)),h=i(n,r,Math.ceil(n.length/2));if(!u&&!h)return null;s=h?u&&u[4].length>h[4].length?u:h:u;e.length>t.length?(o=s[0],a=s[1],l=s[2],c=s[3]):(l=s[0],c=s[1],o=s[2],a=s[3]);var d=s[4];return[o,a,l,c,d]}(e,t);if(o){var a=o[0],l=o[1],c=o[2],u=o[3],h=o[4],d=Fp(a,c),f=Fp(l,u);return d.concat([[0,h]],f)}return function(e,t){for(var n=e.length,r=t.length,i=Math.ceil((n+r)/2),s=i,o=2*i,a=new Array(o),l=new Array(o),c=0;c<o;c++)a[c]=-1,l[c]=-1;a[s+1]=0,l[s+1]=0;for(var u=n-r,h=u%2!=0,d=0,f=0,p=0,g=0,m=0;m<i;m++){for(var b=-m+d;b<=m-f;b+=2){for(var v=s+b,y=(N=b===-m||b!==m&&a[v-1]<a[v+1]?a[v+1]:a[v-1]+1)-b;N<n&&y<r&&e.charAt(N)===t.charAt(y);)N++,y++;if(a[v]=N,N>n)f+=2;else if(y>r)d+=2;else if(h){if((_=s+u-b)>=0&&_<o&&-1!==l[_])if(N>=(w=n-l[_]))return Wp(e,t,N,y)}}for(var x=-m+p;x<=m-g;x+=2){for(var w,_=s+x,E=(w=x===-m||x!==m&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-x;w<n&&E<r&&e.charAt(n-w-1)===t.charAt(r-E-1);)w++,E++;if(l[_]=w,w>n)g+=2;else if(E>r)p+=2;else if(!h){if((v=s+u-x)>=0&&v<o&&-1!==a[v]){var N;y=s+(N=a[v])-v;if(N>=(w=n-w))return Wp(e,t,N,y)}}}}return[[Hp,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-s),t=t.substring(0,t.length-s));return o&&l.unshift([0,o]),a&&l.push([0,a]),Gp(l,r),l}function Wp(e,t,n,r){var i=e.substring(0,n),s=t.substring(0,r),o=e.substring(n),a=t.substring(r),l=Fp(i,s),c=Fp(o,a);return l.concat(c)}function Kp(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,s=0;n<i;)e.substring(s,i)==t.substring(s,i)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return Zp(e.charCodeAt(i-1))&&i--,i}function Vp(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,s=0;n<i;)e.substring(e.length-i,e.length-s)==t.substring(t.length-i,t.length-s)?s=n=i:r=i,i=Math.floor((r-n)/2+n);return Qp(e.charCodeAt(e.length-i))&&i--,i}function Gp(e,t){e.push([0,""]);for(var n,r=0,i=0,s=0,o="",a="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:s++,a+=e[r][1],r++;break;case Hp:i++,o+=e[r][1],r++;break;case 0:var l=r-s-i-1;if(t){if(l>=0&&Yp(e[l][1])){var c=e[l][1].slice(-1);if(e[l][1]=e[l][1].slice(0,-1),o=c+o,a=c+a,!e[l][1]){e.splice(l,1),r--;var u=l-1;e[u]&&1===e[u][0]&&(s++,a=e[u][1]+a,u--),e[u]&&e[u][0]===Hp&&(i++,o=e[u][1]+o,u--),l=u}}if(Xp(e[r][1])){c=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),o+=c,a+=c}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(o.length>0||a.length>0){o.length>0&&a.length>0&&(0!==(n=Kp(a,o))&&(l>=0?e[l][1]+=a.substring(0,n):(e.splice(0,0,[0,a.substring(0,n)]),r++),a=a.substring(n),o=o.substring(n)),0!==(n=Vp(a,o))&&(e[r][1]=a.substring(a.length-n)+e[r][1],a=a.substring(0,a.length-n),o=o.substring(0,o.length-n)));var h=s+i;0===o.length&&0===a.length?(e.splice(r-h,h),r-=h):0===o.length?(e.splice(r-h,h,[1,a]),r=r-h+1):0===a.length?(e.splice(r-h,h,[Hp,o]),r=r-h+1):(e.splice(r-h,h,[Hp,o],[1,a]),r=r-h+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,i=0,o="",a=""}""===e[e.length-1][1]&&e.pop();var d=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),d=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),d=!0)),r++;d&&Gp(e,t)}function Zp(e){return e>=55296&&e<=56319}function Qp(e){return e>=56320&&e<=57343}function Xp(e){return Qp(e.charCodeAt(0))}function Yp(e){return Zp(e.charCodeAt(e.length-1))}function Jp(e,t,n,r){return Yp(e)||Xp(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[Hp,t],[1,n],[0,r]])}function eg(e,t,n){return Fp(e,t,n,!0)}eg.INSERT=1,eg.DELETE=Hp,eg.EQUAL=0;var tg=eg,ng={},rg=xh&&xh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ng,"__esModule",{value:!0});var ig,sg=rg(Hh),og=rg(Fh);!function(e){e.compose=function(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=sg.default(t);for(var i in n||(r=Object.keys(r).reduce((function(e,t){return null!=r[t]&&(e[t]=r[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},e.diff=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return og.default(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},e.invert=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e=e||{};var n=Object.keys(t).reduce((function(n,r){return t[r]!==e[r]&&void 0!==e[r]&&(n[r]=t[r]),n}),{});return Object.keys(e).reduce((function(n,r){return e[r]!==t[r]&&void 0===t[r]&&(n[r]=null),n}),n)},e.transform=function(e,t,n){if(void 0===n&&(n=!1),"object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce((function(n,r){return void 0===e[r]&&(n[r]=t[r]),n}),{});return Object.keys(r).length>0?r:void 0}}}(ig||(ig={})),ng.default=ig;var ag,lg,cg={},ug={};function hg(){if(lg)return cg;lg=1;var e=xh&&xh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cg,"__esModule",{value:!0});var t,n=e(function(){if(ag)return ug;ag=1;var e=xh&&xh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ug,"__esModule",{value:!0});var t=e(hg()),n=function(){function e(e){this.ops=e,this.index=0,this.offset=0}return e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(e){e||(e=1/0);var n=this.ops[this.index];if(n){var r=this.offset,i=t.default.length(n);if(e>=i-r?(e=i-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof n.delete)return{delete:e};var s={};return n.attributes&&(s.attributes=n.attributes),"number"==typeof n.retain?s.retain=e:"string"==typeof n.insert?s.insert=n.insert.substr(r,e):s.insert=n.insert,s}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},e}();return ug.default=n,ug}());return function(e){e.iterator=function(e){return new n.default(e)},e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}}(t||(t={})),cg.default=t,cg}var dg=xh&&xh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},fg=dg(tg),pg=dg(Hh),gg=dg(Fh),mg=dg(ng),bg=dg(hg()),vg=String.fromCharCode(0),yg=function(){function e(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return e.prototype.insert=function(e,t){var n={};return"string"==typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},e.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},e.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},e.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=pg.default(e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(gg.default(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},e.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},e.prototype.filter=function(e){return this.ops.filter(e)},e.prototype.forEach=function(e){this.ops.forEach(e)},e.prototype.map=function(e){return this.ops.map(e)},e.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(r){(e(r)?t:n).push(r)})),[t,n]},e.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},e.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+bg.default.length(t):t.delete?e-t.delete:e}),0)},e.prototype.length=function(){return this.reduce((function(e,t){return e+bg.default.length(t)}),0)},e.prototype.slice=function(t,n){void 0===t&&(t=0),void 0===n&&(n=1/0);for(var r=[],i=bg.default.iterator(this.ops),s=0;s<n&&i.hasNext();){var o=void 0;s<t?o=i.next(t-s):(o=i.next(n-s),r.push(o)),s+=bg.default.length(o)}return new e(r)},e.prototype.compose=function(t){var n=bg.default.iterator(this.ops),r=bg.default.iterator(t.ops),i=[],s=r.peek();if(null!=s&&"number"==typeof s.retain&&null==s.attributes){for(var o=s.retain;"insert"===n.peekType()&&n.peekLength()<=o;)o-=n.peekLength(),i.push(n.next());s.retain-o>0&&r.next(s.retain-o)}for(var a=new e(i);n.hasNext()||r.hasNext();)if("insert"===r.peekType())a.push(r.next());else if("delete"===n.peekType())a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),c=n.next(l),u=r.next(l);if("number"==typeof u.retain){var h={};"number"==typeof c.retain?h.retain=l:h.insert=c.insert;var d=mg.default.compose(c.attributes,u.attributes,"number"==typeof c.retain);if(d&&(h.attributes=d),a.push(h),!r.hasNext()&&gg.default(a.ops[a.ops.length-1],h)){var f=new e(n.rest());return a.concat(f).chop()}}else"number"==typeof u.delete&&"number"==typeof c.retain&&a.push(u)}return a.chop()},e.prototype.concat=function(t){var n=new e(this.ops.slice());return t.ops.length>0&&(n.push(t.ops[0]),n.ops=n.ops.concat(t.ops.slice(1))),n},e.prototype.diff=function(t,n){if(this.ops===t.ops)return new e;var r=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:vg;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),i=new e,s=fg.default(r[0],r[1],n),o=bg.default.iterator(this.ops),a=bg.default.iterator(t.ops);return s.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case fg.default.INSERT:n=Math.min(a.peekLength(),t),i.push(a.next(n));break;case fg.default.DELETE:n=Math.min(t,o.peekLength()),o.next(n),i.delete(n);break;case fg.default.EQUAL:n=Math.min(o.peekLength(),a.peekLength(),t);var r=o.next(n),s=a.next(n);gg.default(r.insert,s.insert)?i.retain(n,mg.default.diff(r.attributes,s.attributes)):i.push(s).delete(n)}t-=n}})),i.chop()},e.prototype.eachLine=function(t,n){void 0===n&&(n="\n");for(var r=bg.default.iterator(this.ops),i=new e,s=0;r.hasNext();){if("insert"!==r.peekType())return;var o=r.peek(),a=bg.default.length(o)-r.peekLength(),l="string"==typeof o.insert?o.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(!1===t(i,r.next(1).attributes||{},s))return;s+=1,i=new e}}i.length()>0&&t(i,{},s)},e.prototype.invert=function(t){var n=new e;return this.reduce((function(e,r){if(r.insert)n.delete(bg.default.length(r));else{if(r.retain&&null==r.attributes)return n.retain(r.retain),e+r.retain;if(r.delete||r.retain&&r.attributes){var i=r.delete||r.retain;return t.slice(e,e+i).forEach((function(e){r.delete?n.push(e):r.retain&&r.attributes&&n.retain(bg.default.length(e),mg.default.invert(r.attributes,e.attributes))})),e+i}}return e}),0),n.chop()},e.prototype.transform=function(t,n){if(void 0===n&&(n=!1),n=!!n,"number"==typeof t)return this.transformPosition(t,n);for(var r=t,i=bg.default.iterator(this.ops),s=bg.default.iterator(r.ops),o=new e;i.hasNext()||s.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===s.peekType())if("insert"===s.peekType())o.push(s.next());else{var a=Math.min(i.peekLength(),s.peekLength()),l=i.next(a),c=s.next(a);if(l.delete)continue;c.delete?o.push(c):o.retain(a,mg.default.transform(l.attributes,c.attributes,n))}else o.retain(bg.default.length(i.next()));return o.chop()},e.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=bg.default.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),s=n.peekType();n.next(),"delete"!==s?("insert"===s&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},e.Op=bg.default,e.AttributeMap=mg.default,e}(),xg=yg;const wg={en:{toolbarHeader:"Body",toolbarFont:"System",fontYahei:"MS Yahei",fontSong:"SimSun",fontKai:"KaiTi",tableDialogLabel:"Slide & Click",imageDialogLocal:"Select Local Image",imageDialogUrlLabel:"Or input image url",iamgeDialogInsert:"Insert",imageDialogTypeErr:"File type is error, please upload again!",imageDialogSizeErr:"Image size cannot exceed $M",dividerDialogColorLabel:"Primary Color:",placeholder:"Start Note(Support input markdown)...",alignLeft:"Left align",alignRight:"Right align",alignCenter:"Center align",tableBackground:"Background Colors",linkWords:"Text",linkUrl:"Link",linkSave:"Save",linkTarget:"Link To Url",linkClear:"Remove Link",linkUrlErr:"Please input correct Url!",imgStatusUploading:" Image uploading... ",imgStatusFail:" Upload fail & click to upload again ",imgRemarkPre:"Fig. ",imgRemarkLabel:"Add Remark",deleteImg:"Delete Image"},zh:{toolbarHeader:"正文",toolbarFont:"系统字体",fontYahei:"微软雅黑",fontSong:"宋体",fontKai:"楷体",tableDialogLabel:"滑动点击生成",imageDialogLocal:"选择本地图片",imageDialogUrlLabel:"或输入网络图片URL",iamgeDialogInsert:"插入",imageDialogTypeErr:"图片格式错误，请重新上传！",imageDialogSizeErr:"图片大小不能超过$M",dividerDialogColorLabel:"主色：",placeholder:"开始笔记（支持直接Markdown输入）...",alignLeft:"居左",alignRight:"居右",alignCenter:"居中",tableBackground:"背景色",linkWords:"文本",linkUrl:"链接",linkSave:"保存",linkTarget:"跳转",linkClear:"取消链接",linkUrlErr:"请输入正确Url！",imgStatusUploading:" 图片上传中... ",imgStatusFail:" 上传失败，点击重新上传 ",imgRemarkPre:"图：",imgRemarkLabel:"添加备注",deleteImg:"删除图片"},es:{toolbarHeader:"Texto",toolbarFont:"Sistema",fontYahei:"MS Yahei",fontSong:"SimSun",fontKai:"KaiTi",tableDialogLabel:"Desliza y haz clic",imageDialogLocal:"Subir imagen",imageDialogUrlLabel:"O introduce la URL de la imagen",iamgeDialogInsert:"Insertar",imageDialogTypeErr:"¡El tipo de archivo es incorrecto, por favor súbelo de nuevo!",imageDialogSizeErr:"El tamaño de la imagen no puede exceder $M",dividerDialogColorLabel:"Color principal:",placeholder:"Empieza la nota (admite Markdown)...",alignLeft:"Alinear a la izquierda",alignRight:"Alinear a la derecha",alignCenter:"Alinear al centro",tableBackground:"Colores de fondo",linkWords:"Texto",linkUrl:"Enlace",linkSave:"Guardar",linkTarget:"Enlazar a URL",linkClear:"Eliminar enlace",linkUrlErr:"¡Introduce una URL correcta!",imgStatusUploading:" Subiendo imagen... ",imgStatusFail:" Error al subir. Haz clic para volver a intentarlo ",imgRemarkPre:"Fig. ",imgRemarkLabel:"Agregar comentario",deleteImg:"Eliminar imagen"}},_g=(e,t="en")=>Array.isArray(e)?e.map((e=>wg[t][e])):wg[t][e];function Eg(e){return/(?:(https?|ftp|file):\/\/)?[\w\-]+(\.[\w\-]+)+([\w\-.,@?^=%&:\/~+#]*[\w\-@?^=%&\/~+#])?$/.test(e)}function Ng(e,t){var n;null===(n=t.getModule("imageResize"))||void 0===n||n.hide(),e?"object"==typeof e?t.setContents(e):t.clipboard.dangerouslyPasteHTML(e):t.setText("")}const kg=(e,t,n)=>{const r=e.getModule("toolbar");t.forEach((e=>{r.container.querySelectorAll(`.ql-${e}`).forEach((e=>{if(e.className.indexOf("ql-picker")>=0){const t=e.querySelector(".ql-picker-options");n?(t.setAttribute("style","display: none"),e.classList.add("picker-disable")):(t.setAttribute("style",""),e.classList.remove("picker-disable"))}else e.disabled=n}))}))},Ag=(e,t=200)=>{let n=null;return()=>{n||(n=setTimeout((()=>{e(),n=null}),t))}};const Sg=e=>/^rgb\((\s*\d{1,3}\s*,\s*){2}\d{1,3}\s*\)$|^rgba\((\s*\d{1,3}\s*,\s*){2}\d{1,3}\s*,\s*\d*\.\d+\s*\)$/i.test(e)||/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(e);class qg{constructor(e,t={}){this.quill=e,this.options=t,this.editorContainer=e.root.parentNode,this.imageHandler=t.imageHandler,this.uploadedImgsList=t.uploadedImgsList,this.quill.on("text-change",((t,n,r)=>{this.imageHandler&&this.imageHandler.imgUploadApi&&Ag((()=>{const t=e.container.querySelectorAll('img[src^="data:"]:not(img[data-status=uploading]):not(img[data-status=fail])');t&&t.length>0&&t.forEach((e=>{this.uploadBase64Img(e)}))}))(),this.onDelete()}))}uploadBase64Img(e){console.log("upload img");const t=e.getAttribute("src");if("string"==typeof t&&/data:image\/.*;base64,/.test(t)){const n=_g(["imgStatusUploading","imgStatusFail"],this.options.i18n);e.setAttribute("data-status","uploading"),e.parentNode.classList.add("img-container"),e.parentNode.setAttribute("data-after",n[0]);const{uploadSuccCB:r,uploadFailCB:i}=this.imageHandler;this.b64ToUrl(t).then((t=>{e.setAttribute("src",t),e.setAttribute("data-status","success"),e.parentNode.setAttribute("data-after",""),this.uploadedImgsList.push(t),r&&r(t)})).catch((t=>{console.log(t),e.setAttribute("data-status","fail"),e.parentNode.setAttribute("data-after",n[1]),i&&i(t),e.parentNode.onclick=()=>this.uploadBase64Img(e)}))}}onDelete(){const e=this.quill.container.querySelectorAll(".img-container[data-after]");e&&e.length>0&&e.forEach((e=>{const t=e.querySelectorAll('img[src^="data:"]');t&&0!==t.length||(e.removeAttribute("data-after"),e.removeAttribute("class"))}))}b64ToUrl(e){return new Promise(((t,n)=>{const r=e.split(";"),i=r[0].split(":")[1],s=r[1].split(",")[1],o=qg.b64toBlob(s,i),{imgUploadApi:a}=this.imageHandler;qg.uploadImg(o,a,(e=>{t(e)}),(e=>{n(e)}))}))}static getImgUrls(e){return e.ops.filter((e=>e.insert&&e.insert.image)).map((e=>e.insert.image))}static b64toBlob(e,t,n){t=t||"",n=n||512;const r=atob(e),i=[];for(let e=0;e<r.length;e+=n){const t=r.slice(e,e+n),s=new Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);const o=new Uint8Array(s);i.push(o)}return new Blob(i,{type:t})}static uploadImg=(e,t,n,r)=>{try{const i=new FormData;i.append("file",e,e.name||`default.${e.type.split("/")[1]}`),t(i).then((e=>{n(e)})).catch((e=>{console.log("upload img error: ",e),r(e)}))}catch(e){console.log("uploadImg: ",e),r(e)}}}var Og='<svg width="18px" height="18px" viewBox="64 64 896 896" focusable="false" width="1em" height="1em" aria-hidden="true"><path class="ql-fill" d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"></path></svg>';const Cg='<svg viewBox="0 0 1024 1024" p-id="7520" width="20" height="20"><path class="ql-fill" d="M384 128v128h64V128H384zM523.328 613.824l-147.072 147.072a80 80 0 0 1-113.152-113.152l147.072-147.072-45.248-45.248-147.072 147.072a144 144 0 0 0 203.648 203.648l147.072-147.072-45.248-45.248zM613.76 523.328l45.312 45.248 147.072-147.072a144 144 0 1 0-203.648-203.648L455.424 364.928l45.248 45.248 147.072-147.072a80 80 0 0 1 113.152 113.152L613.824 523.328zM768 576h128v64h-128V576zM128 448h128V384H128v64zM640 768v128H576v-128h64zM750.848 705.6l103.808 103.744-45.312 45.248-103.68-103.68 45.184-45.312zM169.344 214.592l103.808 103.808 45.248-45.248-103.744-103.808-45.312 45.248z"></path></svg>',Lg='<svg viewBox="0 0 1024 1024" width="18" height="18"><path class="ql-fill" d="M385.088 85.333333a42.666667 42.666667 0 1 1 0 85.333334H213.333333a42.666667 42.666667 0 0 0-42.666666 42.666666v597.333334a42.666667 42.666667 0 0 0 42.666666 42.666666h597.333334a42.666667 42.666667 0 0 0 42.666666-42.666666V640a42.666667 42.666667 0 1 1 85.333334 0v170.666667c0 70.688-57.312 128-128 128H213.333333c-70.688 0-128-57.312-128-128V213.333333c0-70.688 57.312-128 128-128z m517.44 0.501334l0.64 0.106666c0.501333 0.074667 0.992 0.170667 1.482667 0.266667l0.170666 0.042667c1.344 0.277333 2.666667 0.618667 3.946667 1.024l0.469333 0.149333a38.186667 38.186667 0 0 1 5.248 2.112c1.568 0.746667 3.114667 1.610667 4.608 2.570667l0.138667 0.106666 1.653333 1.12a42.730667 42.730667 0 0 1 5.28 4.501334l-1.098666-1.066667 0.682666 0.650667 0.426667 0.416a43.52 43.52 0 0 1 3.104 3.456l1.386667 1.834666a42.762667 42.762667 0 0 1 5.909333 11.637334l0.138667 0.458666c0.576 1.813333 1.024 3.690667 1.354666 5.6l0.106667 0.64 0.032 0.234667c0.298667 2.058667 0.458667 4.16 0.458667 6.304v277.333333a42.666667 42.666667 0 1 1-85.333334 0V230.997333L542.165333 542.165333a42.666667 42.666667 0 0 1-58.634666 1.610667l-1.706667-1.6a42.666667 42.666667 0 0 1 0-60.341333L792.992 170.666667H618.666667a42.666667 42.666667 0 0 1-42.613334-40.533334L576 128a42.666667 42.666667 0 0 1 42.666667-42.666667h277.333333a43.178667 43.178667 0 0 1 6.304 0.458667l0.224 0.042667z" p-id="9528"></path></svg>',Tg=(e,t,n)=>`<span class="${n||"flex flex-center"}" onmouseenter="showTitle(this, '${t}')" style="width:100%;height:100%;">${e}</span>`,Mg={modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",zIndex:10,border:"1px dashed #dbc8ff"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",opacity:"0.60"},displayStyles:{position:"absolute",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #e7e7e7",opacity:"0.70",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",left:"calc(50% - 36px)",textAlign:"center",color:"#333",width:"72px",display:"flex",flexWrap:"wrap",justifyContent:"center"},toolbarButtonStyles:{display:"flex",width:"24px",height:"24px",background:"white",border:"1px solid #e7e7e7",cursor:"pointer",zIndex:12,justifyContent:"center",alignItems:"center"},toolbarButtonSvgStyles:{}};class Rg{constructor(e){this.overlay=e.overlay,this.img=e.img,this.options=e.options,this.requestUpdate=e.onUpdate}onCreate(){}onDestroy(){}onUpdate(){}}const Ig=$d.imports.parchment,jg=new Ig.StyleAttributor("float","float"),Dg=new Ig.StyleAttributor("margin","margin"),Bg=new Ig.StyleAttributor("display","display");const zg={DisplaySize:class extends Rg{onCreate=()=>{this.display=document.createElement("div"),Object.assign(this.display.style,this.options.displayStyles),this.overlay.appendChild(this.display)};onDestroy(){}onUpdate=()=>{if(!this.display||!this.img)return;const e=this.getCurrentSize();if(this.display.innerHTML=e.join(" &times; "),e[0]>120&&e[1]>30)Object.assign(this.display.style,{right:"4px",bottom:"4px",left:"auto"});else if("right"===this.img.style.float){const e=this.display.getBoundingClientRect();Object.assign(this.display.style,{right:"auto",bottom:`-${e.height+4}px`,left:`-${e.width+4}px`})}else{const e=this.display.getBoundingClientRect();Object.assign(this.display.style,{right:`-${e.width+4}px`,bottom:`-${e.height+4}px`,left:"auto"})}};getCurrentSize=()=>[this.img.width,Math.round(this.img.width/this.img.naturalWidth*this.img.naturalHeight)]},Toolbar:class extends Rg{constructor(e){super(e),this.quill=e.quill,this.hide=e.hide,this.options=e.options}onCreate=()=>{this.toolbar=document.createElement("div"),Object.assign(this.toolbar.style,this.options.toolbarStyles),this.overlay.appendChild(this.toolbar),this._defineAlignments(),this._addToolbarButtons()};onDestroy(){}onUpdate(){}_defineAlignments=()=>{const e=this.quill.getIndex($d.find(this.img));this.alignments=[{icon:'<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n</svg>',apply:()=>{Bg.add(this.img,"inline"),jg.add(this.img,"left"),Dg.add(this.img,"0 1em 1em 0"),this.quill.formatLine(e+2,1,"align",!1)},isApplied:()=>"left"===jg.value(this.img)},{icon:'<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n</svg>',apply:()=>{Bg.add(this.img,"block"),jg.remove(this.img),Dg.add(this.img,"auto"),this.quill.formatLine(e+2,1,"align","center"),this.img.parentNode.classList.add("img-center")},isApplied:()=>"auto"===Dg.value(this.img)},{icon:'<svg viewbox="0 0 18 18">\n  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n  <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n  <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n</svg>',apply:()=>{Bg.add(this.img,"inline"),jg.add(this.img,"right"),Dg.add(this.img,"0 0 1em 1em"),this.quill.formatLine(e+2,1,"align","right"),this.img.parentNode.classList.add("float-right")},isApplied:()=>"right"===jg.value(this.img)},{icon:'<svg class="icon" viewBox="0 0 1024 1024" p-id="1605" width="22" height="22"><path class="ql-fill" d="M640 272H192a32 32 0 0 1 0-64h448a32 32 0 0 1 0 64zM832 480H576a32 32 0 0 1 0-64h256a32 32 0 0 1 0 64z" fill="#444444"></path><path class="ql-fill" d="M416 816a32 32 0 0 1-32-32v-544a32 32 0 0 1 64 0v544a32 32 0 0 1-32 32zM704 816a32 32 0 0 1-32-32V448a32 32 0 0 1 64 0v336a32 32 0 0 1-32 32z" fill="#444444"></path></svg>',apply:()=>{let t;"auto"===Dg.value(this.img)?t="center":jg.value(this.img)&&(t=jg.value(this.img));const n=this.options.imgRemarkPre||_g("imgRemarkPre",this.options.i18n);this.quill.insertText(e+1,`\n${n}`,{color:"#999999",size:"12px"}),this.quill.insertText(e+2+n.length,"\n",{align:t}),this.quill.setSelection(e+2+n.length,$d.sources.SILENT),this.img.setAttribute("data-remark","1")},isApplied:()=>"1"===this.img.getAttribute("data-remark")},{icon:Og,apply:()=>{$d.find(this.img).deleteAt(0),this.hide()},isApplied:()=>!1}]};_addToolbarButtons=()=>{const e=[],t=_g(["alignLeft","alignCenter","alignRight","imgRemarkLabel","deleteImg"],this.options.i18n);this.alignments.forEach(((n,r)=>{const i=document.createElement("span");e.push(i),i.innerHTML=Tg(n.icon,t[r]),i.addEventListener("click",(()=>{e.forEach(((e,t)=>{3!==t&&(e.style.filter="")})),n.isApplied()?(jg.remove(this.img),Dg.remove(this.img),Bg.remove(this.img)):(this._selectButton(i),n.apply()),this.requestUpdate()})),Object.assign(i.style,this.options.toolbarButtonStyles),r>0&&(i.style.borderLeftWidth="0"),n.isApplied()&&this._selectButton(i),this.toolbar.appendChild(i)}))};_selectButton(e){e.style.filter="invert(20%)"}},Resize:class extends Rg{isMobile=function(){return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))}();onCreate=()=>{this.boxes=[],this.addBox("nwse-resize"),this.addBox("nesw-resize"),this.addBox("nwse-resize"),this.addBox("nesw-resize"),this.positionBoxes()};onDestroy=()=>{this.setCursor("")};positionBoxes=()=>{const e=-parseFloat(this.options.handleStyles.width)/2+"px",t=-parseFloat(this.options.handleStyles.height)/2+"px";[{left:e,top:t},{right:e,top:t},{right:e,bottom:t},{left:e,bottom:t}].forEach(((e,t)=>{Object.assign(this.boxes[t].style,e)}))};addBox=e=>{const t=document.createElement("div");Object.assign(t.style,this.options.handleStyles),t.style.cursor=e,t.style.width=`${this.options.handleStyles.width}px`,t.style.height=`${this.options.handleStyles.height}px`,this.isMobile?t.addEventListener("touchstart",this.handleMousedown,!1):t.addEventListener("mousedown",this.handleMousedown,!1),this.overlay.appendChild(t),this.boxes.push(t)};handleMousedown=e=>{this.dragBox=e.target,this.isMobile?this.dragStartX=e.touches[0].clientX:this.dragStartX=e.clientX,this.preDragWidth=this.img.width||this.img.naturalWidth,this.setCursor(this.dragBox.style.cursor),this.isMobile?(document.addEventListener("touchmove",this.handleDrag,!1),document.addEventListener("touchend",this.handleMouseup,!1)):(document.addEventListener("mousemove",this.handleDrag,!1),document.addEventListener("mouseup",this.handleMouseup,!1))};handleMouseup=()=>{this.setCursor(""),this.isMobile?(document.removeEventListener("touchmove",this.handleDrag),document.removeEventListener("touchend",this.handleMouseup)):(document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleMouseup))};handleDrag=e=>{if(!this.img)return;let t;t=this.isMobile?e.touches[0].clientX:e.clientX;const n=t-this.dragStartX;this.dragBox===this.boxes[0]||this.dragBox===this.boxes[3]?this.img.width=Math.round(this.preDragWidth-n):this.img.width=Math.round(this.preDragWidth+n),this.requestUpdate()};setCursor=e=>{[document.body,this.img].forEach((t=>{t.style.cursor=e}))}}};const Ug=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e)),$g=new Set(["https:","http:","file:"]);function Pg(e,t){if("string"!=typeof(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t}).defaultProtocol||t.defaultProtocol.endsWith(":")||(t.defaultProtocol=`${t.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return((e,{stripHash:t})=>{const n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:r,data:i,hash:s}=n.groups;const o=r.split(";");s=t?"":s;let a=!1;"base64"===o[o.length-1]&&(o.pop(),a=!0);const l=o.shift()?.toLowerCase()??"",c=o.map((e=>{let[t,n=""]=e.split("=").map((e=>e.trim()));return"charset"===t&&(n=n.toLowerCase(),"us-ascii"===n)?"":`${t}${n?`=${n}`:""}`})).filter(Boolean),u=[...c];return a&&u.push("base64"),(u.length>0||l&&"text/plain"!==l)&&u.unshift(l),`data:${u.join(";")},${a?i.trim():i}${s?`#${s}`:""}`})(e,t);if((e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!$g.has(t)}catch{return!1}})(e))return e;const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));const r=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===r.protocol&&(r.protocol="http:"),t.forceHttps&&"http:"===r.protocol&&(r.protocol="https:"),t.stripAuthentication&&(r.username="",r.password=""),t.stripHash?r.hash="":t.stripTextFragment&&(r.hash=r.hash.replace(/#?:~:text.*?$/i,"")),r.pathname){const e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let t=0,n="";for(;;){const i=e.exec(r.pathname);if(!i)break;const s=i[0],o=i.index;n+=r.pathname.slice(t,o).replace(/\/{2,}/g,"/"),n+=s,t=o+s.length}n+=r.pathname.slice(t,r.pathname.length).replace(/\/{2,}/g,"/"),r.pathname=n}if(r.pathname)try{r.pathname=decodeURI(r.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=r.pathname.split("/");const n=e[e.length-1];Ug(n,t.removeDirectoryIndex)&&(e=e.slice(0,-1),r.pathname=e.slice(1).join("/")+"/")}if(r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(const e of[...r.searchParams.keys()])Ug(e,t.removeQueryParameters)&&r.searchParams.delete(e);if(Array.isArray(t.keepQueryParameters)||!0!==t.removeQueryParameters||(r.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(const e of[...r.searchParams.keys()])Ug(e,t.keepQueryParameters)||r.searchParams.delete(e);if(t.sortQueryParameters){r.searchParams.sort();try{r.search=decodeURIComponent(r.search)}catch{}}t.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,"")),t.removeExplicitPort&&r.port&&(r.port="");const i=e;return e=r.toString(),t.removeSingleSlash||"/"!==r.pathname||i.endsWith("/")||""!==r.hash||(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===r.pathname)&&""===r.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}const Hg={globalRegularExpression:/(https?:\/\/|www\.)[\w-\.]+\.[\w-\.]+(\/([\S]+)?)?/gi,urlRegularExpression:/(https?:\/\/|www\.)[\w-\.]+\.[\w-\.]+(\/([\S]+)?)?/gi,globalMailRegularExpression:/([\w-\.]+@[\w-\.]+\.[\w-\.]+)/gi,mailRegularExpression:/([\w-\.]+@[\w-\.]+\.[\w-\.]+)/gi,normalizeRegularExpression:/(https?:\/\/|www\.)[\S]+/i,normalizeUrlOptions:{stripWWW:!1}};const Fg=$d.import("blots/block/embed");class Wg extends Fg{}Wg.blotName="hr",Wg.tagName="hr";const Kg=$d.import("blots/block");$d.register("formats/horizontal",Wg);function Vg(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];"object"!=typeof n||Object.isFrozen(n)||Vg(n)})),e}var Gg=Vg,Zg=Vg;Gg.default=Zg;class Qg{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Xg(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Yg(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const Jg=e=>!!e.kind;class em{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=Xg(e)}openNode(e){if(!Jg(e))return;let t=e.kind;e.sublanguage||(t=`${this.classPrefix}${t}`),this.span(t)}closeNode(e){Jg(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class tm{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t={kind:e,children:[]};this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{tm._collapse(e)})))}}class nm extends tm{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.kind=t,n.sublanguage=!0,this.add(n)}toHTML(){return new em(this,this.options).value()}finalize(){return!0}}function rm(e){return e?"string"==typeof e?e:e.source:null}const im=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;const sm="[a-zA-Z]\\w*",om="[a-zA-Z_]\\w*",am="\\b\\d+(\\.\\d+)?",lm="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",cm="\\b(0b[01]+)",um={begin:"\\\\[\\s\\S]",relevance:0},hm={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[um]},dm={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[um]},fm={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},pm=function(e,t,n={}){const r=Yg({className:"comment",begin:e,end:t,contains:[]},n);return r.contains.push(fm),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},gm=pm("//","$"),mm=pm("/\\*","\\*/"),bm=pm("#","$"),vm={className:"number",begin:am,relevance:0},ym={className:"number",begin:lm,relevance:0},xm={className:"number",begin:cm,relevance:0},wm={className:"number",begin:am+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},_m={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[um,{begin:/\[/,end:/\]/,relevance:0,contains:[um]}]}]},Em={className:"title",begin:sm,relevance:0},Nm={className:"title",begin:om,relevance:0},km={begin:"\\.\\s*"+om,relevance:0};var Am=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:sm,UNDERSCORE_IDENT_RE:om,NUMBER_RE:am,C_NUMBER_RE:lm,BINARY_NUMBER_RE:cm,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=function(...e){return e.map((e=>rm(e))).join("")}(t,/.*\b/,e.binary,/\b.*/)),Yg({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:um,APOS_STRING_MODE:hm,QUOTE_STRING_MODE:dm,PHRASAL_WORDS_MODE:fm,COMMENT:pm,C_LINE_COMMENT_MODE:gm,C_BLOCK_COMMENT_MODE:mm,HASH_COMMENT_MODE:bm,NUMBER_MODE:vm,C_NUMBER_MODE:ym,BINARY_NUMBER_MODE:xm,CSS_NUMBER_MODE:wm,REGEXP_MODE:_m,TITLE_MODE:Em,UNDERSCORE_TITLE_MODE:Nm,METHOD_GUARD:km,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function Sm(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function qm(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Sm,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function Om(e,t){Array.isArray(e.illegal)&&(e.illegal=function(...e){return"("+e.map((e=>rm(e))).join("|")+")"}(...e.illegal))}function Cm(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Lm(e,t){void 0===e.relevance&&(e.relevance=1)}const Tm=["of","and","for","in","not","or","if","then","parent","list","value"];function Mm(e,t,n="keyword"){const r={};return"string"==typeof e?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach((function(n){Object.assign(r,Mm(e[n],t,n))})),r;function i(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,Rm(n[0],n[1])]}))}}function Rm(e,t){return t?Number(t):function(e){return Tm.includes(e.toLowerCase())}(e)?0:1}function Im(e,{plugins:t}){function n(t,n){return new RegExp(rm(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=function(e){return new RegExp(e.toString()+"|").exec("").length-1}(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=n(function(e,t="|"){let n=0;return e.map((e=>{n+=1;const t=n;let r=rm(e),i="";for(;r.length>0;){const e=im.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i})).map((e=>`(${e})`)).join(t)}(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new r;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Yg(e.classNameAliases||{}),function t(r,s){const o=r;if(r.isCompiled)return o;[Cm].forEach((e=>e(r,s))),e.compilerExtensions.forEach((e=>e(r,s))),r.__beforeBegin=null,[qm,Om,Lm].forEach((e=>e(r,s))),r.isCompiled=!0;let a=null;if("object"==typeof r.keywords&&(a=r.keywords.$pattern,delete r.keywords.$pattern),r.keywords&&(r.keywords=Mm(r.keywords,e.case_insensitive)),r.lexemes&&a)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return a=a||r.lexemes||/\w+/,o.keywordPatternRe=n(a,!0),s&&(r.begin||(r.begin=/\B|\b/),o.beginRe=n(r.begin),r.endSameAsBegin&&(r.end=r.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(o.endRe=n(r.end)),o.terminatorEnd=rm(r.end)||"",r.endsWithParent&&s.terminatorEnd&&(o.terminatorEnd+=(r.end?"|":"")+s.terminatorEnd)),r.illegal&&(o.illegalRe=n(r.illegal)),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return Yg(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(jm(e))return Yg(e,{starts:e.starts?Yg(e.starts):null});if(Object.isFrozen(e))return Yg(e);return e}("self"===e?r:e)}))),r.contains.forEach((function(e){t(e,o)})),r.starts&&t(r.starts,s),o.matcher=function(e){const t=new i;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(o),o}(e)}function jm(e){return!!e&&(e.endsWithParent||jm(e.starts))}function Dm(e){const t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,Xg(this.code);let t={};return this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value},autoDetect(){return!this.language||(e=this.autodetect,Boolean(e||""===e));var e},ignoreIllegals:()=>!0},render(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:t,VuePlugin:{install(e){e.component("highlightjs",t)}}}}const Bm={"after:highlightElement":({el:e,result:t,text:n})=>{const r=Um(e);if(!r.length)return;const i=document.createElement("div");i.innerHTML=t.value,t.value=function(e,t,n){let r=0,i="";const s=[];function o(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function a(e){function t(e){return" "+e.nodeName+'="'+Xg(e.value)+'"'}i+="<"+zm(e)+[].map.call(e.attributes,t).join("")+">"}function l(e){i+="</"+zm(e)+">"}function c(e){("start"===e.event?a:l)(e.node)}for(;e.length||t.length;){let t=o();if(i+=Xg(n.substring(r,t[0].offset)),r=t[0].offset,t===e){s.reverse().forEach(l);do{c(t.splice(0,1)[0]),t=o()}while(t===e&&t.length&&t[0].offset===r);s.reverse().forEach(a)}else"start"===t[0].event?s.push(t[0].node):s.pop(),c(t.splice(0,1)[0])}return i+Xg(n.substr(r))}(r,Um(i),n)}};function zm(e){return e.nodeName.toLowerCase()}function Um(e){const t=[];return function e(n,r){for(let i=n.firstChild;i;i=i.nextSibling)3===i.nodeType?r+=i.nodeValue.length:1===i.nodeType&&(t.push({event:"start",offset:r,node:i}),r=e(i,r),zm(i).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:i}));return r}(e,0),t}const $m={},Pm=e=>{console.error(e)},Hm=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Fm=(e,t)=>{$m[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),$m[`${e}/${t}`]=!0)},Wm=Xg,Km=Yg,Vm=Symbol("nomatch");var Gm=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const s=/(^(<[^>]+>|\t|)+|\n)/gm,o="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let l={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:nm};function c(e){return l.noHighlightRe.test(e)}function u(e,t,n,r){let i="",s="";"object"==typeof t?(i=e,n=t.ignoreIllegals,s=t.language,r=void 0):(Fm("10.7.0","highlight(lang, code, ...args) has been deprecated."),Fm("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),s=e,i=t);const o={code:i,language:s};E("before:highlight",o);const a=o.result?o.result:h(o.language,o.code,n,r);return a.code=o.code,E("after:highlight",a),a}function h(e,n,s,a){function c(e,t){const n=w.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function u(){null!=N.subLanguage?function(){if(""===S)return;let e=null;if("string"==typeof N.subLanguage){if(!t[N.subLanguage])return void A.addText(S);e=h(N.subLanguage,S,!0,k[N.subLanguage]),k[N.subLanguage]=e.top}else e=d(S,N.subLanguage.length?N.subLanguage:null);N.relevance>0&&(q+=e.relevance),A.addSublanguage(e.emitter,e.language)}():function(){if(!N.keywords)return void A.addText(S);let e=0;N.keywordPatternRe.lastIndex=0;let t=N.keywordPatternRe.exec(S),n="";for(;t;){n+=S.substring(e,t.index);const r=c(N,t);if(r){const[e,i]=r;if(A.addText(n),n="",q+=i,e.startsWith("_"))n+=t[0];else{const n=w.classNameAliases[e]||e;A.addKeyword(t[0],n)}}else n+=t[0];e=N.keywordPatternRe.lastIndex,t=N.keywordPatternRe.exec(S)}n+=S.substr(e),A.addText(n)}(),S=""}function f(e){return e.className&&A.openNode(w.classNameAliases[e.className]||e.className),N=Object.create(e,{parent:{value:N}}),N}function p(e,t,n){let r=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(r){if(e["on:end"]){const n=new Qg(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return p(e.parent,t,n)}function g(e){return 0===N.matcher.regexIndex?(S+=e[0],1):(L=!0,0)}function m(e){const t=e[0],n=e.rule,r=new Qg(n),i=[n.__beforeBegin,n["on:begin"]];for(const n of i)if(n&&(n(e,r),r.isMatchIgnored))return g(t);return n&&n.endSameAsBegin&&(n.endRe=new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),n.skip?S+=t:(n.excludeBegin&&(S+=t),u(),n.returnBegin||n.excludeBegin||(S=t)),f(n),n.returnBegin?0:t.length}function b(e){const t=e[0],r=n.substr(e.index),i=p(N,e,r);if(!i)return Vm;const s=N;s.skip?S+=t:(s.returnEnd||s.excludeEnd||(S+=t),u(),s.excludeEnd&&(S=t));do{N.className&&A.closeNode(),N.skip||N.subLanguage||(q+=N.relevance),N=N.parent}while(N!==i.parent);return i.starts&&(i.endSameAsBegin&&(i.starts.endRe=i.endRe),f(i.starts)),s.returnEnd?0:t.length}let v={};function y(t,r){const o=r&&r[0];if(S+=t,null==o)return u(),0;if("begin"===v.type&&"end"===r.type&&v.index===r.index&&""===o){if(S+=n.slice(r.index,r.index+1),!i){const t=new Error("0 width match regex");throw t.languageName=e,t.badRule=v.rule,t}return 1}if(v=r,"begin"===r.type)return m(r);if("illegal"===r.type&&!s){const e=new Error('Illegal lexeme "'+o+'" for mode "'+(N.className||"<unnamed>")+'"');throw e.mode=N,e}if("end"===r.type){const e=b(r);if(e!==Vm)return e}if("illegal"===r.type&&""===o)return 1;if(C>1e5&&C>3*r.index){throw new Error("potential infinite loop, way more iterations than matches")}return S+=o,o.length}const w=x(e);if(!w)throw Pm(o.replace("{}",e)),new Error('Unknown language: "'+e+'"');const _=Im(w,{plugins:r});let E="",N=a||_;const k={},A=new l.__emitter(l);!function(){const e=[];for(let t=N;t!==w;t=t.parent)t.className&&e.unshift(t.className);e.forEach((e=>A.openNode(e)))}();let S="",q=0,O=0,C=0,L=!1;try{for(N.matcher.considerAll();;){C++,L?L=!1:N.matcher.considerAll(),N.matcher.lastIndex=O;const e=N.matcher.exec(n);if(!e)break;const t=y(n.substring(O,e.index),e);O=e.index+t}return y(n.substr(O)),A.closeAllNodes(),A.finalize(),E=A.toHTML(),{relevance:Math.floor(q),value:E,language:e,illegal:!1,emitter:A,top:N}}catch(t){if(t.message&&t.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:t.message,context:n.slice(O-100,O+100),mode:t.mode},sofar:E,relevance:0,value:Wm(n),emitter:A};if(i)return{illegal:!1,relevance:0,value:Wm(n),emitter:A,language:e,top:N,errorRaised:t};throw t}}function d(e,n){n=n||l.languages||Object.keys(t);const r=function(e){const t={relevance:0,emitter:new l.__emitter(l),value:Wm(e),illegal:!1,top:a};return t.emitter.addText(e),t}(e),i=n.filter(x).filter(_).map((t=>h(t,e,!1)));i.unshift(r);const s=i.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(x(e.language).supersetOf===t.language)return 1;if(x(t.language).supersetOf===e.language)return-1}return 0})),[o,c]=s,u=o;return u.second_best=c,u}const f={"before:highlightElement":({el:e})=>{l.useBR&&(e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:e})=>{l.useBR&&(e.value=e.value.replace(/\n/g,"<br>"))}},p=/^(<[^>]+>|\t)+/gm,g={"after:highlightElement":({result:e})=>{l.tabReplace&&(e.value=e.value.replace(p,(e=>e.replace(/\t/g,l.tabReplace))))}};function m(e){let t=null;const r=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=l.languageDetectRe.exec(t);if(n){const t=x(n[1]);return t||(Hm(o.replace("{}",n[1])),Hm("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>c(e)||x(e)))}(e);if(c(r))return;E("before:highlightElement",{el:e,language:r}),t=e;const i=t.textContent,s=r?u(i,{language:r,ignoreIllegals:!0}):d(i);E("after:highlightElement",{el:e,result:s,text:i}),e.innerHTML=s.value,function(e,t,r){const i=t?n[t]:r;e.classList.add("hljs"),i&&e.classList.add(i)}(e,r,s.language),e.result={language:s.language,re:s.relevance,relavance:s.relevance},s.second_best&&(e.second_best={language:s.second_best.language,re:s.second_best.relevance,relavance:s.second_best.relevance})}const b=()=>{if(b.called)return;b.called=!0,Fm("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead.");document.querySelectorAll("pre code").forEach(m)};let v=!1;function y(){if("loading"===document.readyState)return void(v=!0);document.querySelectorAll("pre code").forEach(m)}function x(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function w(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{n[e.toLowerCase()]=t}))}function _(e){const t=x(e);return t&&!t.disableAutodetect}function E(e,t){const n=e;r.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){v&&y()}),!1),Object.assign(e,{highlight:u,highlightAuto:d,highlightAll:y,fixMarkup:function(e){return Fm("10.2.0","fixMarkup will be removed entirely in v11.0"),Fm("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),t=e,l.tabReplace||l.useBR?t.replace(s,(e=>"\n"===e?l.useBR?"<br>":e:l.tabReplace?e.replace(/\t/g,l.tabReplace):e)):t;var t},highlightElement:m,highlightBlock:function(e){return Fm("10.7.0","highlightBlock will be removed entirely in v12.0"),Fm("10.7.0","Please use highlightElement now."),m(e)},configure:function(e){e.useBR&&(Fm("10.3.0","'useBR' will be removed entirely in v11.0"),Fm("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),l=Km(l,e)},initHighlighting:b,initHighlightingOnLoad:function(){Fm("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),v=!0},registerLanguage:function(n,r){let s=null;try{s=r(e)}catch(e){if(Pm("Language definition for '{}' could not be registered.".replace("{}",n)),!i)throw e;Pm(e),s=a}s.name||(s.name=n),t[n]=s,s.rawDefinition=r.bind(null,e),s.aliases&&w(s.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]},listLanguages:function(){return Object.keys(t)},getLanguage:x,registerAliases:w,requireLanguage:function(e){Fm("10.4.0","requireLanguage will be removed entirely in v11."),Fm("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const t=x(e);if(t)return t;throw new Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:_,inherit:Km,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),r.push(e)},vuePlugin:Dm(e).VuePlugin}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString="10.7.3";for(const e in Am)"object"==typeof Am[e]&&Gg(Am[e]);return Object.assign(e,Am),e.addPlugin(f),e.addPlugin(Bm),e.addPlugin(g),e}({}),Zm=Gm;const Qm="[A-Za-z$_][0-9A-Za-z$_]*",Xm=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Ym=["true","false","null","undefined","NaN","Infinity"],Jm=[].concat(["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],["arguments","this","super","console","window","document","localStorage","module","global"],["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer","BigInt64Array","BigUint64Array","BigInt"],["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"]);function eb(e){return tb("(?=",e,")")}function tb(...e){return e.map((e=>{return(t=e)?"string"==typeof t?t:t.source:null;var t})).join("")}var nb=function(e){const t=Qm,n="<>",r="</>",i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];"<"!==r?">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch()):t.ignoreMatch()}},s={$pattern:Qm,keyword:Xm,literal:Ym,built_in:Jm},o="[0-9](_?[0-9])*",a=`\\.(${o})`,l="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",c={className:"number",variants:[{begin:`(\\b(${l})((${a})|\\.)?|(${a}))[eE][+-]?(${o})\\b`},{begin:`\\b(${l})\\b((${a})\\b|\\.)?|(${a})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},u={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},h={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"xml"}},d={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,u],subLanguage:"css"}},f={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,u]},p={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:t+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},g=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,d,f,c,e.REGEXP_MODE];u.contains=g.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(g)});const m=[].concat(p,u.contains),b=m.concat([{begin:/\(/,end:/\)/,keywords:s,contains:["self"].concat(m)}]),v={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:b};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:b},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,h,d,f,p,c,{begin:tb(/[{,\n]\s*/,eb(tb(/(((\/\/.*$)|(\/\*(\*[^/]|[^*])*\*\/))\s*)*/,t+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:t+eb("\\s*:"),relevance:0}]},{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[p,e.REGEXP_MODE,{className:"function",begin:"(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:b}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:n,end:r},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[{;]/,excludeEnd:!0,keywords:s,contains:["self",e.inherit(e.TITLE_MODE,{begin:t}),v],illegal:/%/},{beginKeywords:"while if switch catch for"},{className:"function",begin:e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,contains:[v,e.inherit(e.TITLE_MODE,{begin:t})]},{variants:[{begin:"\\."+t},{begin:"\\$"+t}],relevance:0},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"[\]]/,contains:[{beginKeywords:"extends"},e.UNDERSCORE_TITLE_MODE]},{begin:/\b(?=constructor)/,end:/[{;]/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:t}),"self",v]},{begin:"(get|set)\\s+(?="+t+"\\()",end:/\{/,keywords:"get set",contains:[e.inherit(e.TITLE_MODE,{begin:t}),{begin:/\(\)/},v]},{begin:/\$[(.]/}]}};function rb(...e){return e.map((e=>{return(t=e)?"string"==typeof t?t:t.source:null;var t})).join("")}var ib=function(e){const t={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[t]}]};Object.assign(t,{className:"variable",variants:[{begin:rb(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});const r={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t,r]};r.contains.push(s);const o={begin:/\$\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,t]},a=e.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),l={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z._-]+\b/,keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp"},contains:[a,e.SHEBANG(),l,o,e.HASH_COMMENT_MODE,i,s,{className:"",begin:/\\"/},{className:"string",begin:/'/,end:/'/},t]}};var sb=function(e){return{name:"Vim Script",keywords:{$pattern:/[!#@\w]+/,keyword:"N|0 P|0 X|0 a|0 ab abc abo al am an|0 ar arga argd arge argdo argg argl argu as au aug aun b|0 bN ba bad bd be bel bf bl bm bn bo bp br brea breaka breakd breakl bro bufdo buffers bun bw c|0 cN cNf ca cabc caddb cad caddf cal cat cb cc ccl cd ce cex cf cfir cgetb cgete cg changes chd che checkt cl cla clo cm cmapc cme cn cnew cnf cno cnorea cnoreme co col colo com comc comp con conf cope cp cpf cq cr cs cst cu cuna cunme cw delm deb debugg delc delf dif diffg diffo diffp diffpu diffs diffthis dig di dl dell dj dli do doautoa dp dr ds dsp e|0 ea ec echoe echoh echom echon el elsei em en endfo endf endt endw ene ex exe exi exu f|0 files filet fin fina fini fir fix fo foldc foldd folddoc foldo for fu go gr grepa gu gv ha helpf helpg helpt hi hid his ia iabc if ij il im imapc ime ino inorea inoreme int is isp iu iuna iunme j|0 ju k|0 keepa kee keepj lN lNf l|0 lad laddb laddf la lan lat lb lc lch lcl lcs le lefta let lex lf lfir lgetb lgete lg lgr lgrepa lh ll lla lli lmak lm lmapc lne lnew lnf ln loadk lo loc lockv lol lope lp lpf lr ls lt lu lua luad luaf lv lvimgrepa lw m|0 ma mak map mapc marks mat me menut mes mk mks mksp mkv mkvie mod mz mzf nbc nb nbs new nm nmapc nme nn nnoreme noa no noh norea noreme norm nu nun nunme ol o|0 om omapc ome on ono onoreme opt ou ounme ow p|0 profd prof pro promptr pc ped pe perld po popu pp pre prev ps pt ptN ptf ptj ptl ptn ptp ptr pts pu pw py3 python3 py3d py3f py pyd pyf quita qa rec red redi redr redraws reg res ret retu rew ri rightb rub rubyd rubyf rund ru rv sN san sa sal sav sb sbN sba sbf sbl sbm sbn sbp sbr scrip scripte scs se setf setg setl sf sfir sh sim sig sil sl sla sm smap smapc sme sn sni sno snor snoreme sor so spelld spe spelli spellr spellu spellw sp spr sre st sta startg startr star stopi stj sts sun sunm sunme sus sv sw sy synti sync tN tabN tabc tabdo tabe tabf tabfir tabl tabm tabnew tabn tabo tabp tabr tabs tab ta tags tc tcld tclf te tf th tj tl tm tn to tp tr try ts tu u|0 undoj undol una unh unl unlo unm unme uns up ve verb vert vim vimgrepa vi viu vie vm vmapc vme vne vn vnoreme vs vu vunme windo w|0 wN wa wh wi winc winp wn wp wq wqa ws wu wv x|0 xa xmapc xm xme xn xnoreme xu xunme y|0 z|0 ~ Next Print append abbreviate abclear aboveleft all amenu anoremenu args argadd argdelete argedit argglobal arglocal argument ascii autocmd augroup aunmenu buffer bNext ball badd bdelete behave belowright bfirst blast bmodified bnext botright bprevious brewind break breakadd breakdel breaklist browse bunload bwipeout change cNext cNfile cabbrev cabclear caddbuffer caddexpr caddfile call catch cbuffer cclose center cexpr cfile cfirst cgetbuffer cgetexpr cgetfile chdir checkpath checktime clist clast close cmap cmapclear cmenu cnext cnewer cnfile cnoremap cnoreabbrev cnoremenu copy colder colorscheme command comclear compiler continue confirm copen cprevious cpfile cquit crewind cscope cstag cunmap cunabbrev cunmenu cwindow delete delmarks debug debuggreedy delcommand delfunction diffupdate diffget diffoff diffpatch diffput diffsplit digraphs display deletel djump dlist doautocmd doautoall deletep drop dsearch dsplit edit earlier echo echoerr echohl echomsg else elseif emenu endif endfor endfunction endtry endwhile enew execute exit exusage file filetype find finally finish first fixdel fold foldclose folddoopen folddoclosed foldopen function global goto grep grepadd gui gvim hardcopy help helpfind helpgrep helptags highlight hide history insert iabbrev iabclear ijump ilist imap imapclear imenu inoremap inoreabbrev inoremenu intro isearch isplit iunmap iunabbrev iunmenu join jumps keepalt keepmarks keepjumps lNext lNfile list laddexpr laddbuffer laddfile last language later lbuffer lcd lchdir lclose lcscope left leftabove lexpr lfile lfirst lgetbuffer lgetexpr lgetfile lgrep lgrepadd lhelpgrep llast llist lmake lmap lmapclear lnext lnewer lnfile lnoremap loadkeymap loadview lockmarks lockvar lolder lopen lprevious lpfile lrewind ltag lunmap luado luafile lvimgrep lvimgrepadd lwindow move mark make mapclear match menu menutranslate messages mkexrc mksession mkspell mkvimrc mkview mode mzscheme mzfile nbclose nbkey nbsart next nmap nmapclear nmenu nnoremap nnoremenu noautocmd noremap nohlsearch noreabbrev noremenu normal number nunmap nunmenu oldfiles open omap omapclear omenu only onoremap onoremenu options ounmap ounmenu ownsyntax print profdel profile promptfind promptrepl pclose pedit perl perldo pop popup ppop preserve previous psearch ptag ptNext ptfirst ptjump ptlast ptnext ptprevious ptrewind ptselect put pwd py3do py3file python pydo pyfile quit quitall qall read recover redo redir redraw redrawstatus registers resize retab return rewind right rightbelow ruby rubydo rubyfile rundo runtime rviminfo substitute sNext sandbox sargument sall saveas sbuffer sbNext sball sbfirst sblast sbmodified sbnext sbprevious sbrewind scriptnames scriptencoding scscope set setfiletype setglobal setlocal sfind sfirst shell simalt sign silent sleep slast smagic smapclear smenu snext sniff snomagic snoremap snoremenu sort source spelldump spellgood spellinfo spellrepall spellundo spellwrong split sprevious srewind stop stag startgreplace startreplace startinsert stopinsert stjump stselect sunhide sunmap sunmenu suspend sview swapname syntax syntime syncbind tNext tabNext tabclose tabedit tabfind tabfirst tablast tabmove tabnext tabonly tabprevious tabrewind tag tcl tcldo tclfile tearoff tfirst throw tjump tlast tmenu tnext topleft tprevious trewind tselect tunmenu undo undojoin undolist unabbreviate unhide unlet unlockvar unmap unmenu unsilent update vglobal version verbose vertical vimgrep vimgrepadd visual viusage view vmap vmapclear vmenu vnew vnoremap vnoremenu vsplit vunmap vunmenu write wNext wall while winsize wincmd winpos wnext wprevious wqall wsverb wundo wviminfo xit xall xmapclear xmap xmenu xnoremap xnoremenu xunmap xunmenu yank",built_in:"synIDtrans atan2 range matcharg did_filetype asin feedkeys xor argv complete_check add getwinposx getqflist getwinposy screencol clearmatches empty extend getcmdpos mzeval garbagecollect setreg ceil sqrt diff_hlID inputsecret get getfperm getpid filewritable shiftwidth max sinh isdirectory synID system inputrestore winline atan visualmode inputlist tabpagewinnr round getregtype mapcheck hasmapto histdel argidx findfile sha256 exists toupper getcmdline taglist string getmatches bufnr strftime winwidth bufexists strtrans tabpagebuflist setcmdpos remote_read printf setloclist getpos getline bufwinnr float2nr len getcmdtype diff_filler luaeval resolve libcallnr foldclosedend reverse filter has_key bufname str2float strlen setline getcharmod setbufvar index searchpos shellescape undofile foldclosed setqflist buflisted strchars str2nr virtcol floor remove undotree remote_expr winheight gettabwinvar reltime cursor tabpagenr finddir localtime acos getloclist search tanh matchend rename gettabvar strdisplaywidth type abs py3eval setwinvar tolower wildmenumode log10 spellsuggest bufloaded synconcealed nextnonblank server2client complete settabwinvar executable input wincol setmatches getftype hlID inputsave searchpair or screenrow line settabvar histadd deepcopy strpart remote_peek and eval getftime submatch screenchar winsaveview matchadd mkdir screenattr getfontname libcall reltimestr getfsize winnr invert pow getbufline byte2line soundfold repeat fnameescape tagfiles sin strwidth spellbadword trunc maparg log lispindent hostname setpos globpath remote_foreground getchar synIDattr fnamemodify cscope_connection stridx winbufnr indent min complete_add nr2char searchpairpos inputdialog values matchlist items hlexists strridx browsedir expand fmod pathshorten line2byte argc count getwinvar glob foldtextresult getreg foreground cosh matchdelete has char2nr simplify histget searchdecl iconv winrestcmd pumvisible writefile foldlevel haslocaldir keys cos matchstr foldtext histnr tan tempname getcwd byteidx getbufvar islocked escape eventhandler remote_send serverlist winrestview synstack pyeval prevnonblank readfile cindent filereadable changenr exp"},illegal:/;/,contains:[e.NUMBER_MODE,{className:"string",begin:"'",end:"'",illegal:"\\n"},{className:"string",begin:/"(\\"|\n\\|[^"\n])*"/},e.COMMENT('"',"$"),{className:"variable",begin:/[bwtglsav]:[\w\d_]*/},{className:"function",beginKeywords:"function function!",end:"$",relevance:0,contains:[e.TITLE_MODE,{className:"params",begin:"\\(",end:"\\)"}]},{className:"symbol",begin:/<[\w-]+>/}]}};function ob(e){return ab("(",e,")?")}function ab(...e){return e.map((e=>{return(t=e)?"string"==typeof t?t:t.source:null;var t})).join("")}var lb=function(e){const t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",r="[a-zA-Z_]\\w*::",i="("+n+"|"+ob(r)+"[a-zA-Z_]\\w*"+ob("<[^<>]+>")+")",s={className:"keyword",begin:"\\b[a-z\\d_]*_t\\b"},o={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},a={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},l={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{"meta-keyword":"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(o,{className:"meta-string"}),{className:"meta-string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},c={className:"title",begin:ob(r)+e.IDENT_RE,relevance:0},u=ob(r)+e.IDENT_RE+"\\s*\\(",h={keyword:"int float while private char char8_t char16_t char32_t catch import module export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const for static_cast|10 union namespace unsigned long volatile static protected bool template mutable if public friend do goto auto void enum else break extern using asm case typeid wchar_t short reinterpret_cast|10 default double register explicit signed typename try this switch continue inline delete alignas alignof constexpr consteval constinit decltype concept co_await co_return co_yield requires noexcept static_assert thread_local restrict final override atomic_bool atomic_char atomic_schar atomic_uchar atomic_short atomic_ushort atomic_int atomic_uint atomic_long atomic_ulong atomic_llong atomic_ullong new throw return and and_eq bitand bitor compl not not_eq or or_eq xor xor_eq",built_in:"_Bool _Complex _Imaginary",_relevance_hints:["asin","atan2","atan","calloc","ceil","cosh","cos","exit","exp","fabs","floor","fmod","fprintf","fputs","free","frexp","auto_ptr","deque","list","queue","stack","vector","map","set","pair","bitset","multiset","multimap","unordered_set","fscanf","future","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","tolower","toupper","labs","ldexp","log10","log","malloc","realloc","memchr","memcmp","memcpy","memset","modf","pow","printf","putchar","puts","scanf","sinh","sin","snprintf","sprintf","sqrt","sscanf","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","tanh","tan","unordered_map","unordered_multiset","unordered_multimap","priority_queue","make_pair","array","shared_ptr","abort","terminate","abs","acos","vfprintf","vprintf","vsprintf","endl","initializer_list","unique_ptr","complex","imaginary","std","string","wstring","cin","cout","cerr","clog","stdin","stdout","stderr","stringstream","istringstream","ostringstream"],literal:"true false nullptr NULL"},d={className:"function.dispatch",relevance:0,keywords:h,begin:ab(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!while)/,e.IDENT_RE,(f=/\s*\(/,ab("(?=",f,")")))};var f;const p=[d,l,s,t,e.C_BLOCK_COMMENT_MODE,a,o],g={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:p.concat([{begin:/\(/,end:/\)/,keywords:h,contains:p.concat(["self"]),relevance:0}]),relevance:0},m={className:"function",begin:"("+i+"[\\*&\\s]+)+"+u,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:h,relevance:0},{begin:u,returnBegin:!0,contains:[c],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[o,a]},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,o,a,s,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,o,a,s]}]},s,t,e.C_BLOCK_COMMENT_MODE,l]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:h,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(g,m,d,p,[l,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",end:">",keywords:h,contains:["self",s]},{begin:e.IDENT_RE+"::",keywords:h},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:l,strings:o,keywords:h}}};var cb=function(e){const t={keyword:["abstract","as","base","break","case","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},s=e.inherit(i,{illegal:/\n/}),o={className:"subst",begin:/\{/,end:/\}/,keywords:t},a=e.inherit(o,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,a]},c={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},o]},u=e.inherit(c,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},a]});o.contains=[c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.C_BLOCK_COMMENT_MODE],a.contains=[u,l,s,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const h={variants:[c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},d={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},f=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",p={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},h,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,d,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"meta-string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+f+"\\s+)+"+e.IDENT_RE+"\\s*(<.+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<.+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,d],relevance:0},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[h,r,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},p]}};const ub=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],hb=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],db=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],fb=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],pb=["align-content","align-items","align-self","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","auto","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","clip-path","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-variant","font-variant-ligatures","font-variation-settings","font-weight","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inherit","initial","justify-content","left","letter-spacing","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","mask","max-height","max-width","min-height","min-width","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","perspective","perspective-origin","pointer-events","position","quotes","resize","right","src","tab-size","table-layout","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-indent","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","white-space","widows","width","word-break","word-spacing","word-wrap","z-index"].reverse();function gb(e){return function(...e){return e.map((e=>function(e){return e?"string"==typeof e?e:e.source:null}(e))).join("")}("(?=",e,")")}var mb=function(e){const t=(e=>({IMPORTANT:{className:"meta",begin:"!important"},HEXCOLOR:{className:"number",begin:"#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})"},ATTRIBUTE_SELECTOR_MODE:{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]}}))(e),n=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[e.C_BLOCK_COMMENT_MODE,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},e.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+db.join("|")+")"},{begin:"::("+fb.join("|")+")"}]},{className:"attribute",begin:"\\b("+pb.join("|")+")\\b"},{begin:":",end:"[;}]",contains:[t.HEXCOLOR,t.IMPORTANT,e.CSS_NUMBER_MODE,...n,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},{className:"built_in",begin:/[\w-]+(?=\()/}]},{begin:gb(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:hb.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...n,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+ub.join("|")+")\\b"}]}};var bb=function(e){const t={keyword:"break default func interface select case map struct chan else goto package switch const fallthrough if range type continue for import return var go defer bool byte complex64 complex128 float32 float64 int8 int16 int32 int64 string uint8 uint16 uint32 uint64 int uint uintptr rune",literal:"true false iota nil",built_in:"append cap close complex copy imag len make new panic print println real recover delete"};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,keywords:t,illegal:/["']/}]}]}},vb="[0-9](_*[0-9])*",yb=`\\.(${vb})`,xb="[0-9a-fA-F](_*[0-9a-fA-F])*",wb={className:"number",variants:[{begin:`(\\b(${vb})((${yb})|\\.)?|(${yb}))[eE][+-]?(${vb})[fFdD]?\\b`},{begin:`\\b(${vb})((${yb})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${yb})[fFdD]?\\b`},{begin:`\\b(${vb})[fFdD]\\b`},{begin:`\\b0[xX]((${xb})\\.?|(${xb})?\\.(${xb}))[pP][+-]?(${vb})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${xb})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};var _b=function(e){var t="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",n=t+"(<"+t+"(\\s*,\\s*"+t+")*>)?",r="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",i={className:"meta",begin:"@"+t,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]};const s=wb;return{name:"Java",aliases:["jsp"],keywords:r,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"class",beginKeywords:"class interface enum",end:/[{;=]/,excludeEnd:!0,relevance:1,keywords:"class interface enum",illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"new throw return else",relevance:0},{className:"class",begin:"record\\s+"+e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,excludeEnd:!0,end:/[{;=]/,keywords:r,contains:[{beginKeywords:"record"},{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:r,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"function",begin:"("+n+"\\s+)+"+e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:r,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:r,relevance:0,contains:[i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,s,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},s,i]}};var Eb=function(e){const t={literal:"true false null"},n=[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],r=[e.QUOTE_STRING_MODE,e.C_NUMBER_MODE],i={end:",",endsWithParent:!0,excludeEnd:!0,contains:r,keywords:t},s={begin:/\{/,end:/\}/,contains:[{className:"attr",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE],illegal:"\\n"},e.inherit(i,{begin:/:/})].concat(n),illegal:"\\S"},o={begin:"\\[",end:"\\]",contains:[e.inherit(i)],illegal:"\\S"};return r.push(s,o),n.forEach((function(e){r.push(e)})),{name:"JSON",contains:r,keywords:t,illegal:"\\S"}};var Nb=function(e){const t=/[a-zA-Z@][a-zA-Z0-9_]*/,n={$pattern:t,keyword:"@interface @class @protocol @implementation"};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:{$pattern:t,keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign readwrite self @synchronized id typeof nonatomic super unichar IBOutlet IBAction strong weak copy in out inout bycopy byref oneway __strong __weak __block __autoreleasing @private @protected @public @try @property @end @throw @catch @finally @autoreleasepool @synthesize @dynamic @selector @optional @required @encode @package @import @defs @compatibility_alias __bridge __bridge_transfer __bridge_retained __bridge_retain __covariant __contravariant __kindof _Nonnull _Nullable _Null_unspecified __FUNCTION__ __PRETTY_FUNCTION__ __attribute__ getter setter retain unsafe_unretained nonnull nullable null_unspecified null_resettable class instancetype NS_DESIGNATED_INITIALIZER NS_UNAVAILABLE NS_REQUIRES_SUPER NS_RETURNS_INNER_POINTER NS_INLINE NS_AVAILABLE NS_DEPRECATED NS_ENUM NS_OPTIONS NS_SWIFT_UNAVAILABLE NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_REFINED_FOR_SWIFT NS_SWIFT_NAME NS_SWIFT_NOTHROW NS_DURING NS_HANDLER NS_ENDHANDLER NS_VALUERETURN NS_VOIDRETURN",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"BOOL dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},illegal:"</",contains:[{className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{"meta-keyword":"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),{className:"meta-string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+n.keyword.split(" ").join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:n,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}};var kb=function(e){const t={className:"variable",begin:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*(?![A-Za-z0-9])(?![$])"},n={className:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?[=]?/},{begin:/\?>/}]},r={className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},i=e.inherit(e.APOS_STRING_MODE,{illegal:null}),s=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(r)}),o=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*(\w+)\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(r)}),a={className:"string",contains:[e.BACKSLASH_ESCAPE,n],variants:[e.inherit(i,{begin:"b'",end:"'"}),e.inherit(s,{begin:'b"',end:'"'}),s,i,o]},l={className:"number",variants:[{begin:"\\b0b[01]+(?:_[01]+)*\\b"},{begin:"\\b0o[0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0x[\\da-f]+(?:_[\\da-f]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:e[+-]?\\d+)?"}],relevance:0},c={keyword:"__CLASS__ __DIR__ __FILE__ __FUNCTION__ __LINE__ __METHOD__ __NAMESPACE__ __TRAIT__ die echo exit include include_once print require require_once array abstract and as binary bool boolean break callable case catch class clone const continue declare default do double else elseif empty enddeclare endfor endforeach endif endswitch endwhile enum eval extends final finally float for foreach from global goto if implements instanceof insteadof int integer interface isset iterable list match|0 mixed new object or private protected public real return string switch throw trait try unset use var void while xor yield",literal:"false null true",built_in:"Error|0 AppendIterator ArgumentCountError ArithmeticError ArrayIterator ArrayObject AssertionError BadFunctionCallException BadMethodCallException CachingIterator CallbackFilterIterator CompileError Countable DirectoryIterator DivisionByZeroError DomainException EmptyIterator ErrorException Exception FilesystemIterator FilterIterator GlobIterator InfiniteIterator InvalidArgumentException IteratorIterator LengthException LimitIterator LogicException MultipleIterator NoRewindIterator OutOfBoundsException OutOfRangeException OuterIterator OverflowException ParentIterator ParseError RangeException RecursiveArrayIterator RecursiveCachingIterator RecursiveCallbackFilterIterator RecursiveDirectoryIterator RecursiveFilterIterator RecursiveIterator RecursiveIteratorIterator RecursiveRegexIterator RecursiveTreeIterator RegexIterator RuntimeException SeekableIterator SplDoublyLinkedList SplFileInfo SplFileObject SplFixedArray SplHeap SplMaxHeap SplMinHeap SplObjectStorage SplObserver SplObserver SplPriorityQueue SplQueue SplStack SplSubject SplSubject SplTempFileObject TypeError UnderflowException UnexpectedValueException UnhandledMatchError ArrayAccess Closure Generator Iterator IteratorAggregate Serializable Stringable Throwable Traversable WeakReference WeakMap Directory __PHP_Incomplete_Class parent php_user_filter self static stdClass"};return{aliases:["php3","php4","php5","php6","php7","php8"],case_insensitive:!0,keywords:c,contains:[e.HASH_COMMENT_MODE,e.COMMENT("//","$",{contains:[n]}),e.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler"}),n,{className:"keyword",begin:/\$this\b/},t,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{className:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:c,contains:["self",t,e.C_BLOCK_COMMENT_MODE,a,l]}]},{className:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",relevance:0,end:";",contains:[e.UNDERSCORE_TITLE_MODE]},a,l]}};function Ab(e){return function(...e){return e.map((e=>function(e){return e?"string"==typeof e?e:e.source:null}(e))).join("")}("(?=",e,")")}var Sb=function(e){const t={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:["and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},n={className:"meta",begin:/^(>>>|\.\.\.) /},r={className:"subst",begin:/\{/,end:/\}/,keywords:t,illegal:/#/},i={begin:/\{\{/,relevance:0},s={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,n],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,n],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,n,i,r]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,n,i,r]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,i,r]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,i,r]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},o="[0-9](_?[0-9])*",a=`(\\b(${o}))?\\.(${o})|\\b(${o})\\.`,l={className:"number",relevance:0,variants:[{begin:`(\\b(${o})|(${a}))[eE][+-]?(${o})[jJ]?\\b`},{begin:`(${a})[jJ]?`},{begin:"\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?\\b"},{begin:"\\b0[bB](_?[01])+[lL]?\\b"},{begin:"\\b0[oO](_?[0-7])+[lL]?\\b"},{begin:"\\b0[xX](_?[0-9a-fA-F])+[lL]?\\b"},{begin:`\\b(${o})[jJ]\\b`}]},c={className:"comment",begin:Ab(/# type:/),end:/$/,keywords:t,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},u={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,contains:["self",n,l,s,e.HASH_COMMENT_MODE]}]};return r.contains=[s,l,n],{name:"Python",aliases:["py","gyp","ipython"],keywords:t,illegal:/(<\/|->|\?)|=>/,contains:[n,l,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},s,c,e.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[e.UNDERSCORE_TITLE_MODE,u,{begin:/->/,endsWithParent:!0,keywords:t}]},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[l,u,s]}]}};function qb(...e){return e.map((e=>{return(t=e)?"string"==typeof t?t:t.source:null;var t})).join("")}var Ob=function(e){const t="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor __FILE__",built_in:"proc lambda",literal:"true false nil"},r={className:"doctag",begin:"@[A-Za-z]+"},i={begin:"#<",end:">"},s=[e.COMMENT("#","$",{contains:[r]}),e.COMMENT("^=begin","^=end",{contains:[r],relevance:10}),e.COMMENT("^__END__","\\n$")],o={className:"subst",begin:/#\{/,end:/\}/,keywords:n},a={className:"string",contains:[e.BACKSLASH_ESCAPE,o],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:/<<[-~]?'?(\w+)\n(?:[^\n]*\n)*?\s*\1\b/,returnBegin:!0,contains:[{begin:/<<[-~]?'?/},e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,o]})]}]},l="[0-9](_?[0-9])*",c={className:"number",relevance:0,variants:[{begin:`\\b([1-9](_?[0-9])*|0)(\\.(${l}))?([eE][+-]?(${l})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},u={className:"params",begin:"\\(",end:"\\)",endsParent:!0,keywords:n},h=[a,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[e.inherit(e.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|!)?"}),{begin:"<\\s*",contains:[{begin:"("+e.IDENT_RE+"::)?"+e.IDENT_RE,relevance:0}]}].concat(s)},{className:"function",begin:qb(/def\s+/,(d=t+"\\s*(\\(|;|$)",qb("(?=",d,")"))),relevance:0,keywords:"def",end:"$|;",contains:[e.inherit(e.TITLE_MODE,{begin:t}),u].concat(s)},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[a,{begin:t}],relevance:0},c,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,relevance:0,keywords:n},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,o],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(i,s),relevance:0}].concat(i,s);var d;o.contains=h,u.contains=h;const f=[{begin:/^\s*=>/,starts:{end:"$",contains:h}},{className:"meta",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",starts:{end:"$",contains:h}}];return s.unshift(i),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:n,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(f).concat(s).concat(h)}};function Cb(e){return e?"string"==typeof e?e:e.source:null}function Lb(...e){return e.map((e=>Cb(e))).join("")}function Tb(...e){return"("+e.map((e=>Cb(e))).join("|")+")"}var Mb=function(e){const t=e.COMMENT("--","$"),n=["true","false","unknown"],r=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],i=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],s=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],o=i,a=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update   ","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter((e=>!i.includes(e))),l={begin:Lb(/\b/,Tb(...o),/\s*\(/),keywords:{built_in:o}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){const r=n;return t=t||[],e.map((e=>e.match(/\|\d+$/)||t.includes(e)?e:r(e)?`${e}|0`:e))}(a,{when:e=>e.length<3}),literal:n,type:r,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:Tb(...s),keywords:{$pattern:/[\w\.]+/,keyword:a.concat(s),literal:n,type:r}},{className:"type",begin:Tb("double precision","large object","with timezone","without timezone")},l,{className:"variable",begin:/@[a-z0-9]+/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}};function Rb(e){return e?"string"==typeof e?e:e.source:null}function Ib(e){return jb("(?=",e,")")}function jb(...e){return e.map((e=>Rb(e))).join("")}function Db(...e){return"("+e.map((e=>Rb(e))).join("|")+")"}var Bb=function(e){const t=jb(/[A-Z_]/,jb("(",/[A-Z0-9_.-]*:/,")?"),/[A-Z0-9_.-]*/),n={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},r={begin:/\s/,contains:[{className:"meta-keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=e.inherit(r,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{className:"meta-string"}),o=e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),a={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[A-Za-z0-9._:-]+/,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[n]},{begin:/'/,end:/'/,contains:[n]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[r,o,s,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[r,i,o,s]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},n,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[a],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[a],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:jb(/</,Ib(jb(t,Db(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:a}]},{className:"tag",begin:jb(/<\//,Ib(jb(t,/>/))),contains:[{className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}};var zb=function(e){const t={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_]+"},{begin:/\$\{/,end:/\}/}]},n={className:"string",variants:[{begin:'"""',end:'"""'},{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:'[a-z]+"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t]},{className:"string",begin:'[a-z]+"""',end:'"""',contains:[t],relevance:10}]},r={className:"type",begin:"\\b[A-Z][A-Za-z0-9_]*",relevance:0},i={className:"title",begin:/[^0-9\n\t "'(),.`{}\[\]:;][^\n\t "'(),.`{}\[\]:;]+|[^0-9\n\t "'(),.`{}\[\]:;=]/,relevance:0},s={className:"class",beginKeywords:"class object trait type",end:/[:={\[\n;]/,excludeEnd:!0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{beginKeywords:"extends with",relevance:10},{begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[r]},i]},o={className:"function",beginKeywords:"def",end:/[:={\[(\n;]/,excludeEnd:!0,contains:[i]};return{name:"Scala",keywords:{literal:"true false null",keyword:"type yield lazy override def with val var sealed abstract private trait object if forSome for while throw finally protected extends import final return else break new catch super class case package default try this match continue throws implicit"},contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n,{className:"symbol",begin:"'\\w[\\w\\d_]*(?!')"},r,o,s,e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"}]}};var Ub=function(e){var t="('|\\.')+",n={relevance:0,contains:[{begin:t}]};return{name:"Matlab",keywords:{keyword:"arguments break case catch classdef continue else elseif end enumeration events for function global if methods otherwise parfor persistent properties return spmd switch try while",built_in:"sin sind sinh asin asind asinh cos cosd cosh acos acosd acosh tan tand tanh atan atand atan2 atanh sec secd sech asec asecd asech csc cscd csch acsc acscd acsch cot cotd coth acot acotd acoth hypot exp expm1 log log1p log10 log2 pow2 realpow reallog realsqrt sqrt nthroot nextpow2 abs angle complex conj imag real unwrap isreal cplxpair fix floor ceil round mod rem sign airy besselj bessely besselh besseli besselk beta betainc betaln ellipj ellipke erf erfc erfcx erfinv expint gamma gammainc gammaln psi legendre cross dot factor isprime primes gcd lcm rat rats perms nchoosek factorial cart2sph cart2pol pol2cart sph2cart hsv2rgb rgb2hsv zeros ones eye repmat rand randn linspace logspace freqspace meshgrid accumarray size length ndims numel disp isempty isequal isequalwithequalnans cat reshape diag blkdiag tril triu fliplr flipud flipdim rot90 find sub2ind ind2sub bsxfun ndgrid permute ipermute shiftdim circshift squeeze isscalar isvector ans eps realmax realmin pi i|0 inf nan isnan isinf isfinite j|0 why compan gallery hadamard hankel hilb invhilb magic pascal rosser toeplitz vander wilkinson max min nanmax nanmin mean nanmean type table readtable writetable sortrows sort figure plot plot3 scatter scatter3 cellfun legend intersect ismember procrustes hold num2cell "},illegal:'(//|"|#|/\\*|\\s+/\\w+)',contains:[{className:"function",beginKeywords:"function",end:"$",contains:[e.UNDERSCORE_TITLE_MODE,{className:"params",variants:[{begin:"\\(",end:"\\)"},{begin:"\\[",end:"\\]"}]}]},{className:"built_in",begin:/true|false/,relevance:0,starts:n},{begin:"[a-zA-Z][a-zA-Z_0-9]*"+t,relevance:0},{className:"number",begin:e.C_NUMBER_RE,relevance:0,starts:n},{className:"string",begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE,{begin:"''"}]},{begin:/\]|\}|\)/,relevance:0,starts:n},{className:"string",begin:'"',end:'"',contains:[e.BACKSLASH_ESCAPE,{begin:'""'}],starts:n},e.COMMENT("^\\s*%\\{\\s*$","^\\s*%\\}\\s*$"),e.COMMENT("%","$")]}};function $b(e){return e?"string"==typeof e?e:e.source:null}function Pb(e){return Hb("(?=",e,")")}function Hb(...e){return e.map((e=>$b(e))).join("")}function Fb(...e){return"("+e.map((e=>$b(e))).join("|")+")"}const Wb=e=>Hb(/\b/,e,/\w$/.test(e)?/\b/:/\B/),Kb=["Protocol","Type"].map(Wb),Vb=["init","self"].map(Wb),Gb=["Any","Self"],Zb=["associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Qb=["false","nil","true"],Xb=["assignment","associativity","higherThan","left","lowerThan","none","right"],Yb=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],Jb=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],ev=Fb(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),tv=Fb(ev,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),nv=Hb(ev,tv,"*"),rv=Fb(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),iv=Fb(rv,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),sv=Hb(rv,iv,"*"),ov=Hb(/[A-Z]/,iv,"*"),av=["autoclosure",Hb(/convention\(/,Fb("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",Hb(/objc\(/,sv,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","testable","UIApplicationMain","unknown","usableFromInline"],lv=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];var cv=function(e){const t={match:/\s+/,relevance:0},n=e.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[e.C_LINE_COMMENT_MODE,n],i={className:"keyword",begin:Hb(/\./,Pb(Fb(...Kb,...Vb))),end:Fb(...Kb,...Vb),excludeBegin:!0},s={match:Hb(/\./,Fb(...Zb)),relevance:0},o=Zb.filter((e=>"string"==typeof e)).concat(["_|0"]),a={variants:[{className:"keyword",match:Fb(...Zb.filter((e=>"string"!=typeof e)).concat(Gb).map(Wb),...Vb)}]},l={$pattern:Fb(/\b\w+/,/#\w+/),keyword:o.concat(Yb),literal:Qb},c=[i,s,a],u=[{match:Hb(/\./,Fb(...Jb)),relevance:0},{className:"built_in",match:Hb(/\b/,Fb(...Jb),/(?=\()/)}],h={match:/->/,relevance:0},d=[h,{className:"operator",relevance:0,variants:[{match:nv},{match:`\\.(\\.|${tv})+`}]}],f="([0-9]_*)+",p="([0-9a-fA-F]_*)+",g={className:"number",relevance:0,variants:[{match:`\\b(${f})(\\.(${f}))?([eE][+-]?(${f}))?\\b`},{match:`\\b0x(${p})(\\.(${p}))?([pP][+-]?(${f}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},m=(e="")=>({className:"subst",variants:[{match:Hb(/\\/,e,/[0\\tnr"']/)},{match:Hb(/\\/,e,/u\{[0-9a-fA-F]{1,8}\}/)}]}),b=(e="")=>({className:"subst",match:Hb(/\\/,e,/[\t ]*(?:[\r\n]|\r\n)/)}),v=(e="")=>({className:"subst",label:"interpol",begin:Hb(/\\/,e,/\(/),end:/\)/}),y=(e="")=>({begin:Hb(e,/"""/),end:Hb(/"""/,e),contains:[m(e),b(e),v(e)]}),x=(e="")=>({begin:Hb(e,/"/),end:Hb(/"/,e),contains:[m(e),v(e)]}),w={className:"string",variants:[y(),y("#"),y("##"),y("###"),x(),x("#"),x("##"),x("###")]},_={match:Hb(/`/,sv,/`/)},E=[_,{className:"variable",match:/\$\d+/},{className:"variable",match:`\\$${iv}+`}],N=[{match:/(@|#)available/,className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:lv,contains:[...d,g,w]}]}},{className:"keyword",match:Hb(/@/,Fb(...av))},{className:"meta",match:Hb(/@/,sv)}],k={match:Pb(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:Hb(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,iv,"+")},{className:"type",match:ov,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:Hb(/\s+&\s+/,Pb(ov)),relevance:0}]},A={begin:/</,end:/>/,keywords:l,contains:[...r,...c,...N,h,k]};k.contains.push(A);const S={begin:/\(/,end:/\)/,relevance:0,keywords:l,contains:["self",{match:Hb(sv,/\s*:/),keywords:"_|0",relevance:0},...r,...c,...u,...d,g,w,...E,...N,k]},q={beginKeywords:"func",contains:[{className:"title",match:Fb(_.match,sv,nv),endsParent:!0,relevance:0},t]},O={begin:/</,end:/>/,contains:[...r,k]},C={begin:/\(/,end:/\)/,keywords:l,contains:[{begin:Fb(Pb(Hb(sv,/\s*:/)),Pb(Hb(sv,/\s+/,sv,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:sv}]},...r,...c,...d,g,w,...N,k,S],endsParent:!0,illegal:/["']/},L={className:"function",match:Pb(/\bfunc\b/),contains:[q,O,C,t],illegal:[/\[/,/%/]},T={className:"function",match:/\b(subscript|init[?!]?)\s*(?=[<(])/,keywords:{keyword:"subscript init init? init!",$pattern:/\w+[?!]?/},contains:[O,C,t],illegal:/\[|%/},M={beginKeywords:"operator",end:e.MATCH_NOTHING_RE,contains:[{className:"title",match:nv,endsParent:!0,relevance:0}]},R={beginKeywords:"precedencegroup",end:e.MATCH_NOTHING_RE,contains:[{className:"title",match:ov,relevance:0},{begin:/{/,end:/}/,relevance:0,endsParent:!0,keywords:[...Xb,...Qb],contains:[k]}]};for(const e of w.variants){const t=e.contains.find((e=>"interpol"===e.label));t.keywords=l;const n=[...c,...u,...d,g,w,...E];t.contains=[...n,{begin:/\(/,end:/\)/,contains:["self",...n]}]}return{name:"Swift",keywords:l,contains:[...r,L,T,{className:"class",beginKeywords:"struct protocol class extension enum",end:"\\{",excludeEnd:!0,keywords:l,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...c]},M,R,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},...c,...u,...d,g,w,...E,...N,k,S]}};var uv=function(e){const t={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_]+"}]},n={className:"subst",variants:[{begin:/\$\{/,end:/\}/}],keywords:"true false null this is new super"},r={className:"string",variants:[{begin:"r'''",end:"'''"},{begin:'r"""',end:'"""'},{begin:"r'",end:"'",illegal:"\\n"},{begin:'r"',end:'"',illegal:"\\n"},{begin:"'''",end:"'''",contains:[e.BACKSLASH_ESCAPE,t,n]},{begin:'"""',end:'"""',contains:[e.BACKSLASH_ESCAPE,t,n]},{begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t,n]},{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,t,n]}]};n.contains=[e.C_NUMBER_MODE,r];const i=["Comparable","DateTime","Duration","Function","Iterable","Iterator","List","Map","Match","Object","Pattern","RegExp","Set","Stopwatch","String","StringBuffer","StringSink","Symbol","Type","Uri","bool","double","int","num","Element","ElementList"],s=i.map((e=>`${e}?`));return{name:"Dart",keywords:{keyword:"abstract as assert async await break case catch class const continue covariant default deferred do dynamic else enum export extends extension external factory false final finally for Function get hide if implements import in inferface is late library mixin new null on operator part required rethrow return set show static super switch sync this throw true try typedef var void while with yield",built_in:i.concat(s).concat(["Never","Null","dynamic","print","document","querySelector","querySelectorAll","window"]),$pattern:/[A-Za-z][A-Za-z0-9_]*\??/},contains:[r,e.COMMENT(/\/\*\*(?!\/)/,/\*\//,{subLanguage:"markdown",relevance:0}),e.COMMENT(/\/{3,} ?/,/$/,{contains:[{subLanguage:"markdown",begin:".",end:"$",relevance:0}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"class",beginKeywords:"class interface",end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"},{begin:"=>"}]}};function hv(e,t){if("object"==typeof t)for(let n in t)e.style[n]=t[n]}function dv(e,t){let n=t.getBoundingClientRect();return{x:e.x-n.x-t.scrollLeft,y:e.y-n.y-t.scrollTop,x1:e.x-n.x-t.scrollLeft+e.width,y1:e.y-n.y-t.scrollTop+e.height,width:e.width,height:e.height}}function fv(e,t){return e&&Object.keys(e).reduce(((n,r)=>t.includes(r)?n:Object.assign({},n,{[r]:e[r]})),{})}function pv(e){let t;if(t=e.path||e.composedPath&&e.composedPath(),null==t&&e.target){t=[];let n=e.target;for(t.push(n);n&&n.parentNode;)n=n.parentNode,t.push(n)}return t}class gv{constructor(e,t,n){if(!e)return null;this.table=e,this.quill=t,this.options=n,this.domNode=null,this.initColTool()}initColTool(){const e=this.quill.root.parentNode;this.table.getBoundingClientRect();const t=e.getBoundingClientRect(),n=this.table.parentNode.getBoundingClientRect();this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-col-tool"),this.updateToolCells(),e.appendChild(this.domNode),hv(this.domNode,{width:`${n.width}px`,height:"10px",left:`${n.left-t.left+e.scrollLeft}px`,top:n.top-t.top+e.scrollTop-10-5+"px"})}createToolCell(){const e=document.createElement("div");e.classList.add("qlbt-col-tool-cell");const t=document.createElement("div");return t.classList.add("qlbt-col-tool-cell-holder"),hv(e,{height:"10px"}),e.appendChild(t),e}updateToolCells(){const e=$d.find(this.table),t=e.children.tail.children.head.children,n=e.colGroup().children,r=function(e){return e.reduce(((e,t)=>{const n=t.formats().colspan;return e+=parseInt(n,10)}),0)}(t);let i=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"));for(let e=0;e<Math.max(r,i.length);e++){let t=n.at(e),s=t&&parseInt(t.formats()[t.statics.blotName].width,10),o=null;i[e]?i[e]&&e>=r?i[e].remove():(o=i[e],hv(o,{"min-width":`${s}px`})):(o=this.createToolCell(),this.domNode.appendChild(o),this.addColCellHolderHandler(o),hv(o,{"min-width":`${s}px`}))}}destroy(){return this.domNode.remove(),null}addColCellHolderHandler(e){const t=$d.find(this.table),n=e.querySelector(".qlbt-col-tool-cell-holder");let r=!1,i=0,s=0,o=0,a=0,l={},c={},u=null;const h=e=>{e.preventDefault(),r&&(s=e.clientX,o=a+s-i>=50?s-i:50-a,hv(u,{left:`${c.left+c.width-1+o}px`}))},d=f=>{f.preventDefault();const p=Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell")).indexOf(e),g=t.colGroup().children.at(p);r&&(g.format("width",a+o),hv(e,{"min-width":`${a+o}px`}),i=0,s=0,o=0,a=0,r=!1,n.classList.remove("dragging")),document.removeEventListener("mousemove",h,!1),document.removeEventListener("mouseup",d,!1),l={},c={},u.remove(),u=null,t.updateTableWidth();const m=this.quill.getModule("better-table").tableSelection;m&&m.clearSelection()};n.addEventListener("mousedown",(t=>{document.addEventListener("mousemove",h,!1),document.addEventListener("mouseup",d,!1),l=this.table.getBoundingClientRect(),c=e.getBoundingClientRect(),u=document.createElement("div"),hv(u,{position:"fixed",top:`${c.top}px`,left:c.left+c.width-1+"px",zIndex:"100",height:`${l.height+10+4}px`,width:"1px",backgroundColor:"#35A7ED"}),document.body.appendChild(u),r=!0,i=t.clientX,a=c.width,n.classList.add("dragging")}),!1)}colToolCells(){return Array.from(this.domNode.querySelectorAll(".qlbt-col-tool-cell"))}}const mv=$d.import("blots/block");class bv extends mv{static create(e){"string"==typeof e&&(e={value:e});const t=super.create(e.value);return Ev.forEach((n=>{e[n]&&t.setAttribute(`data-${n}`,e[n])})),Nv.forEach((n=>{e[n]&&t.setAttribute(`data-${n}`,e[n])})),t}static formats(e){const t={};return t.value=this.tagName.indexOf(e.tagName)+1,Nv.concat(Ev).reduce(((t,n)=>(e.hasAttribute(`data-${n}`)&&(t[n]=e.getAttribute(`data-${n}`)||void 0),t)),t)}format(e,t){const{row:n,cell:r,rowspan:i,colspan:s}=bv.formats(this.domNode);e===bv.blotName?t?super.format(e,{value:t,row:n,cell:r,rowspan:i,colspan:s}):n?this.replaceWith(Av.blotName,{row:n,cell:r,rowspan:i,colspan:s}):super.format(e,t):super.format(e,t)}optimize(e){const{row:t,rowspan:n,colspan:r}=bv.formats(this.domNode);if(!t||this.parent instanceof Sv||this.wrap(Sv.blotName,{row:t,colspan:r,rowspan:n}),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove();this.cache={}}}bv.blotName="header",bv.tagName=["H1","H2","H3","H4","H5","H6"];const vv=$d.import("blots/break"),yv=$d.import("blots/block"),xv=$d.import("blots/container"),wv=["width"],_v={width:120},Ev=["row","cell"],Nv=["rowspan","colspan"],kv={rowspan:1,colspan:1};class Av extends yv{static create(e){const t=super.create(e);return Ev.forEach((n=>{let r="row"===n?Rv:Iv;t.setAttribute(`data-${n}`,e[n]||r())})),Nv.forEach((n=>{t.setAttribute(`data-${n}`,e[n]||kv[n])})),e["cell-bg"]&&t.setAttribute("data-cell-bg",e["cell-bg"]),t}static formats(e){return Nv.concat(Ev).concat(["cell-bg"]).reduce(((t,n)=>(e.hasAttribute(`data-${n}`)&&(t[n]=e.getAttribute(`data-${n}`)||void 0),t)),{})}format(e,t){if(Nv.concat(Ev).indexOf(e)>-1)t?this.domNode.setAttribute(`data-${e}`,t):this.domNode.removeAttribute(`data-${e}`);else if("cell-bg"===e)t?this.domNode.setAttribute("data-cell-bg",t):this.domNode.removeAttribute("data-cell-bg");else if("header"===e){if(!t)return;const{row:n,cell:r,rowspan:i,colspan:s}=Av.formats(this.domNode);super.format(e,{value:t,row:n,cell:r,rowspan:i,colspan:s})}else super.format(e,t)}optimize(e){const t=this.domNode.getAttribute("data-row"),n=this.domNode.getAttribute("data-rowspan"),r=this.domNode.getAttribute("data-colspan"),i=this.domNode.getAttribute("data-cell-bg");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:t,colspan:r,rowspan:n,"cell-bg":i}),super.optimize(e)}tableCell(){return this.parent}}Av.blotName="table-cell-line",Av.className="qlbt-cell-line",Av.tagName="P";class Sv extends xv{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head&&this.children.head.formats&&this.children.tail.formats&&this.next.children.head.formats&&this.next.children.tail.formats){const e=this.children.head.formats()[this.children.head.statics.blotName],t=this.children.tail.formats()[this.children.tail.statics.blotName],n=this.next.children.head.formats()[this.next.children.head.statics.blotName],r=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];if(e&&t&&n&&r)return e.cell===t.cell&&e.cell===n.cell&&e.cell===r.cell}return!1}static create(e){const t=super.create(e);return t.setAttribute("data-row",e.row),Nv.forEach((n=>{e[n]&&t.setAttribute(n,e[n])})),e["cell-bg"]&&(t.setAttribute("data-cell-bg",e["cell-bg"]),t.style.backgroundColor=e["cell-bg"]),t}static formats(e){const t={};return e.hasAttribute("data-row")&&(t.row=e.getAttribute("data-row")),e.hasAttribute("data-cell-bg")&&(t["cell-bg"]=e.getAttribute("data-cell-bg")),Nv.reduce(((t,n)=>(e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t)),t)}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}formats(){const e={};return this.domNode.hasAttribute("data-row")&&(e.row=this.domNode.getAttribute("data-row")),this.domNode.hasAttribute("data-cell-bg")&&(e["cell-bg"]=this.domNode.getAttribute("data-cell-bg")),Nv.reduce(((e,t)=>(this.domNode.hasAttribute(t)&&(e[t]=this.domNode.getAttribute(t)),e)),e)}toggleAttribute(e,t){t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e)}formatChildren(e,t){this.children.forEach((n=>{n.format(e,t)}))}format(e,t){Nv.indexOf(e)>-1?(this.toggleAttribute(e,t),this.formatChildren(e,t)):["row"].indexOf(e)>-1?(this.toggleAttribute(`data-${e}`,t),this.formatChildren(e,t)):"cell-bg"===e?(this.toggleAttribute("data-cell-bg",t),this.formatChildren(e,t),this.domNode.style.backgroundColor=t||"initial"):super.format(e,t)}optimize(e){const t=this.domNode.getAttribute("data-row");!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:t}),super.optimize(e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}Sv.blotName="table",Sv.tagName="TD";class qv extends xv{checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const e=this.children.head.formats(),t=this.children.tail.formats(),n=this.next.children.head.formats(),r=this.next.children.tail.formats();return e.row===t.row&&e.row===n.row&&e.row===r.row}return!1}static create(e){const t=super.create(e);return t.setAttribute("data-row",e.row),t}formats(){return["row"].reduce(((e,t)=>(this.domNode.hasAttribute(`data-${t}`)&&(e[t]=this.domNode.getAttribute(`data-${t}`)),e)),{})}optimize(e){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}qv.blotName="table-row",qv.tagName="TR";class Ov extends xv{}Ov.blotName="table-body",Ov.tagName="TBODY";class Cv extends yv{static create(e){let t=super.create(e);return wv.forEach((n=>{t.setAttribute(`${n}`,e[n]||_v[n])})),t}static formats(e){return wv.reduce(((t,n)=>(e.hasAttribute(`${n}`)&&(t[n]=e.getAttribute(`${n}`)||void 0),t)),{})}format(e,t){wv.indexOf(e)>-1?this.domNode.setAttribute(`${e}`,t||_v[e]):super.format(e,t)}html(){return this.domNode.outerHTML}}Cv.blotName="table-col",Cv.tagName="col";class Lv extends xv{}Lv.blotName="table-col-group",Lv.tagName="colgroup";class Tv extends xv{static create(){return super.create()}constructor(e,t){super(e,t),this.updateTableWidth()}updateTableWidth(){setTimeout((()=>{const e=this.colGroup();if(!e)return;const t=e.children.reduce(((e,t)=>e+=parseInt(t.formats()[Cv.blotName].width,10)),0);this.domNode.style.width=`${t}px`}),0)}cells(e){return this.rows().map((t=>t.children.at(e)))}colGroup(){return this.children.head}deleteColumns(e,t=[],n){const[r]=this.descendants(Ov);if(null==r||null==r.children.head)return;const i=this.descendants(Sv),s=[],o=[];if(i.forEach((t=>{const r=dv(t.domNode.getBoundingClientRect(),n);r.x+5>e.x&&r.x1-5<e.x1?s.push(t):r.x<e.x+5&&r.x1>e.x1-5&&o.push(t)})),s.length===i.length)return this.tableDestroy(),!0;t.forEach((e=>{this.colGroup().children.at(t[0]).remove()})),s.forEach((e=>{e.remove()})),o.forEach((e=>{const n=parseInt(e.formats().colspan,10);parseInt(e.formats().width,10),e.format("colspan",n-t.length)})),this.updateTableWidth()}deleteRow(e,t){const[n]=this.descendants(Ov);if(null==n||null==n.children.head)return;const r=this.descendants(Sv),i=this.descendants(qv),s=[],o=[],a=[],l=i.filter((n=>{const r=dv(n.domNode.getBoundingClientRect(),t);return r.y>e.y-5&&r.y1<e.y1+5}));if(r.forEach((n=>{const r=dv(n.domNode.getBoundingClientRect(),t);r.y>e.y-5&&r.y1<e.y1+5?s.push(n):r.y<e.y+5&&r.y1>e.y1-5&&(o.push(n),Math.abs(r.y-e.y)<5&&a.push(n))})),s.length===r.length)return void this.tableDestroy();const c=this.rows().reduce(((n,r)=>{let i=dv(r.domNode.getBoundingClientRect(),t);return i.y>e.y-5&&i.y1<e.y1+5&&(n+=1),n}),0);a.forEach((e=>{const n=dv(e.domNode.getBoundingClientRect(),t),r=e.parent.next,i=r.children.reduce(((e,r)=>{const i=dv(r.domNode.getBoundingClientRect(),t);return Math.abs(n.x1-i.x)<5&&(e=r),e}),null);r.insertBefore(e,i),e.format("row",r.formats().row)})),s.forEach((e=>{e.remove()})),o.forEach((e=>{const t=parseInt(e.formats().rowspan,10);e.format("rowspan",t-c)})),l.forEach((e=>e.remove()))}tableDestroy(){const e=$d.find(this.scroll.domNode.parentNode),t=e.getModule("better-table");this.remove(),t.hideTableTools(),e.update($d.sources.USER)}insertCell(e,t){const n=Iv(),r=e.formats().row,i=this.scroll.create(Sv.blotName,Object.assign({},kv,{row:r})),s=this.scroll.create(Av.blotName,{row:r,cell:n});i.appendChild(s),t?e.insertBefore(i,t):e.appendChild(i)}insertColumn(e,t,n=!0,r){const[i]=this.descendants(Ov),[s]=this.descendants(Lv),o=this.descendants(Cv);let a=[],l=[],c=[];if(null==i||null==i.children.head)return;this.descendants(Sv).forEach((t=>{const i=dv(t.domNode.getBoundingClientRect(),r);n?Math.abs(i.x1-e.x1)<5?a.push(t):e.x1-i.x>5&&e.x1-i.x1<-5&&l.push(t):Math.abs(i.x-e.x)<5?a.push(t):e.x-i.x>5&&e.x-i.x1<-5&&l.push(t)})),a.forEach((e=>{const t=n?e.next:e,r=Iv(),i=e.parent,s=i.formats().row,o=e.formats(),a=this.scroll.create(Sv.blotName,Object.assign({},kv,{row:s,rowspan:o.rowspan})),l=this.scroll.create(Av.blotName,{row:s,cell:r,rowspan:o.rowspan});a.appendChild(l),t?i.insertBefore(a,t):i.appendChild(a),c.push(a)}));const u=this.scroll.create(Cv.blotName,!0);let h=n?o[t].next:o[t];return h?s.insertBefore(u,h):s.appendChild(u),l.forEach((e=>{const t=e.formats().colspan;e.format("colspan",parseInt(t,10)+1),c.push(e)})),c.sort(((e,t)=>e.domNode.getBoundingClientRect().y-t.domNode.getBoundingClientRect().y)),this.updateTableWidth(),c}insertRow(e,t,n){const[r]=this.descendants(Ov);if(null==r||null==r.children.head)return;const i=this.descendants(Sv),s=Rv(),o=this.scroll.create(qv.blotName,{row:s});let a=[],l=[],c=[];i.forEach((r=>{const i=dv(r.domNode.getBoundingClientRect(),n);t?Math.abs(i.y1-e.y1)<5?a.push(r):e.y1-i.y>5&&e.y1-i.y1<-5&&l.push(r):Math.abs(i.y-e.y)<5?a.push(r):e.y-i.y>5&&e.y-i.y1<-5&&l.push(r)}));const u=(e,t)=>e.domNode.getBoundingClientRect().x-t.domNode.getBoundingClientRect().x;a.sort(u),a.forEach((e=>{const t=Iv(),n=e.formats(),r=this.scroll.create(Sv.blotName,Object.assign({},kv,{row:s,colspan:n.colspan})),i=this.scroll.create(Av.blotName,{row:s,cell:t,colspan:n.colspan}),a=this.scroll.create(vv.blotName);i.appendChild(a),r.appendChild(i),o.appendChild(r),c.push(r)})),l.forEach((e=>{const t=parseInt(e.formats().rowspan,10);e.format("rowspan",t+1),c.push(e)}));const h=this.rows().find((r=>{let i=dv(r.domNode.getBoundingClientRect(),n);return t?Math.abs(i.y-e.y-e.height)<5:Math.abs(i.y-e.y)<5}));return r.insertBefore(o,h),c.sort(u),c}mergeCells(e,t,n,r,i){const s=t.reduce(((e,t,i)=>(0!==i?(e&&t.moveChildren(e),t.remove()):(t.format("colspan",r),t.format("rowspan",n),e=t),e)),null);let o=s.domNode.getAttribute("data-row"),a=s.children.head.domNode.getAttribute("data-cell");return s.children.forEach((e=>{e.format("cell",a),e.format("row",o),e.format("colspan",r),e.format("rowspan",n)})),s}unmergeCells(e,t){let n={},r=1,i=1;e.forEach((e=>{if(n=e.formats(),r=n.rowspan,i=n.colspan,i>1){let t=e.next,n=e.row();e.format("colspan",1);for(let e=i;e>1;e--)this.insertCell(n,t)}if(r>1){let n=r,s=e.row().next;for(;n>1;){let r=s.children.reduce(((n,r)=>{let i=dv(e.domNode.getBoundingClientRect(),t),s=dv(r.domNode.getBoundingClientRect(),t);return Math.abs(i.x1-s.x)<5&&(n=r),n}),null);for(let e=i;e>0;e--)this.insertCell(s,r);n-=1,s=s.next}e.format("rowspan",1)}}))}rows(){const e=this.children.tail;return null==e?[]:e.children.map((e=>e))}}Tv.blotName="table-container",Tv.className="quill-better-table",Tv.tagName="TABLE";class Mv extends xv{constructor(e,t){super(e,t);const n=$d.find(e.domNode.parentNode);t.addEventListener("scroll",(e=>{const t=n.getModule("better-table");t.columnTool&&(t.columnTool.domNode.scrollLeft=e.target.scrollLeft),t.tableSelection&&t.tableSelection.selectedTds.length>0&&t.tableSelection.repositionHelpLines()}),!1)}table(){return this.children.head}}function Rv(){return`row-${Math.random().toString(36).slice(2,6)}`}function Iv(){return`cell-${Math.random().toString(36).slice(2,6)}`}Mv.blotName="table-view",Mv.className="quill-better-table-wrapper",Mv.tagName="DIV",Mv.allowedChildren=[Tv],Tv.requiredContainer=Mv,Tv.allowedChildren=[Ov,Lv],Ov.requiredContainer=Tv,Ov.allowedChildren=[qv],qv.requiredContainer=Ov,qv.allowedChildren=[Sv],Sv.requiredContainer=qv,Sv.allowedChildren=[Av,bv],Av.requiredContainer=Sv,Lv.allowedChildren=[Cv],Lv.requiredContainer=Tv,Cv.requiredContainer=Lv;const jv=["left","right","top","bottom"];class Dv{constructor(e,t,n){if(!e)return null;this.table=e,this.quill=t,this.options=n,this.boundary={},this.selectedTds=[],this.dragging=!1,this.selectingHandler=this.mouseDownHandler.bind(this),this.clearSelectionHandler=this.clearSelection.bind(this),this.helpLinesInitial(),this.quill.root.addEventListener("mousedown",this.selectingHandler,!1),this.quill.on("text-change",this.clearSelectionHandler)}helpLinesInitial(){let e=this.quill.root.parentNode;jv.forEach((t=>{this[t]=document.createElement("div"),this[t].classList.add("qlbt-selection-line"),this[t].classList.add("qlbt-selection-line-"+t),hv(this[t],{position:"absolute",display:"none","background-color":"#6918b4"}),e.appendChild(this[t])}))}mouseDownHandler(e){if(0!==e.button||!e.target.closest(".quill-better-table"))return;this.quill.root.addEventListener("mousemove",i,!1),this.quill.root.addEventListener("mouseup",(function e(n){t.quill.root.removeEventListener("mousemove",i,!1),t.quill.root.removeEventListener("mouseup",e,!1),t.dragging=!1}),!1);const t=this,n=e.target.closest("td[data-row]"),r=dv(n.getBoundingClientRect(),this.quill.root.parentNode);function i(e){if(0!==e.button||!e.target.closest(".quill-better-table"))return;const i=e.target.closest("td[data-row]"),s=dv(i.getBoundingClientRect(),t.quill.root.parentNode);t.boundary=Bv(r,s),t.correctBoundary(),t.selectedTds=t.computeSelectedTds(),t.repositionHelpLines(),n!==i&&t.quill.blur()}this.dragging=!0,this.boundary=Bv(r,r),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines()}correctBoundary(){$d.find(this.table).descendants(Sv).forEach((e=>{let{x:t,y:n,width:r,height:i}=dv(e.domNode.getBoundingClientRect(),this.quill.root.parentNode);(t+2>=this.boundary.x&&t+2<=this.boundary.x1||t-2+r>=this.boundary.x&&t-2+r<=this.boundary.x1)&&(n+2>=this.boundary.y&&n+2<=this.boundary.y1||n-2+i>=this.boundary.y&&n-2+i<=this.boundary.y1)&&(this.boundary=Bv(this.boundary,{x:t,y:n,width:r,height:i}))}))}computeSelectedTds(){return $d.find(this.table).descendants(Sv).reduce(((e,t)=>{let{x:n,y:r,width:i,height:s}=dv(t.domNode.getBoundingClientRect(),this.quill.root.parentNode);return n+2>=this.boundary.x&&n-2+i<=this.boundary.x1&&r+2>=this.boundary.y&&r-2+s<=this.boundary.y1&&e.push(t),e}),[])}repositionHelpLines(){const e=this.table.parentNode.scrollLeft;hv(this.left,{display:"block",left:this.boundary.x-e-1+"px",top:`${this.boundary.y}px`,height:`${this.boundary.height+1}px`,width:"1px"}),hv(this.right,{display:"block",left:this.boundary.x1-e+"px",top:`${this.boundary.y}px`,height:`${this.boundary.height+1}px`,width:"1px"}),hv(this.top,{display:"block",left:this.boundary.x-1-e+"px",top:`${this.boundary.y}px`,width:`${this.boundary.width+1}px`,height:"1px"}),hv(this.bottom,{display:"block",left:this.boundary.x-1-e+"px",top:`${this.boundary.y1+1}px`,width:`${this.boundary.width+1}px`,height:"1px"})}refreshHelpLinesPosition(){const e=dv(this.selectedTds[0].domNode.getBoundingClientRect(),this.quill.root.parentNode),t=dv(this.selectedTds[this.selectedTds.length-1].domNode.getBoundingClientRect(),this.quill.root.parentNode);this.boundary=Bv(e,t),this.repositionHelpLines()}destroy(){return jv.forEach((e=>{this[e].remove(),this[e]=null})),this.quill.root.removeEventListener("mousedown",this.selectingHandler,!1),this.quill.off("text-change",this.clearSelectionHandler),null}setSelection(e,t){this.boundary=Bv(dv(e,this.quill.root.parentNode),dv(t,this.quill.root.parentNode)),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines()}clearSelection(){this.boundary={},this.selectedTds=[],jv.forEach((e=>{this[e]&&hv(this[e],{display:"none"})}))}}function Bv(e,t){let n=Math.min(e.x,t.x,e.x+e.width-1,t.x+t.width-1),r=Math.max(e.x,t.x,e.x+e.width-1,t.x+t.width-1),i=Math.min(e.y,t.y,e.y+e.height-1,t.y+t.height-1),s=Math.max(e.y,t.y,e.y+e.height-1,t.y+t.height-1);return{x:n,x1:r,y:i,y1:s,width:r-n,height:s-i}}const zv=["white","red","yellow","blue"],Uv={insertColumnRight:{text:"Insert Column Right",iconSrc:'<svg width="18px" height="18px" viewBox="64 64 896 896" focusable="false" aria-hidden="true"><path class="ql-fill" d="M856 112h-80c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V120c0-4.4-3.6-8-8-8zm-200 0H192c-17.7 0-32 14.9-32 33.3v733.3c0 18.4 14.3 33.3 32 33.3h464c17.7 0 32-14.9 32-33.3V145.3c0-18.4-14.3-33.3-32-33.3zM392 840H232V664h160v176zm0-240H232V424h160v176zm0-240H232V184h160v176zm224 480H456V664h160v176zm0-240H456V424h160v176zm0-240H456V184h160v176z"></path></svg>',handler(){const e=$d.find(this.table);let t=Pv(this.columnToolCells,this.boundary,((e,t)=>Math.abs(e.x+e.width-t.x1)<=5),this.quill.root.parentNode);const n=e.insertColumn(this.boundary,t,!0,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update($d.sources.USER),this.quill.setSelection(this.quill.getIndex(n[0]),0,$d.sources.SILENT),this.tableSelection.setSelection(n[0].domNode.getBoundingClientRect(),n[0].domNode.getBoundingClientRect())}},insertColumnLeft:{text:"Insert Column Left",iconSrc:'<svg width="18px" height="18px" viewBox="64 64 896 896" focusable="false" aria-hidden="true"><path class="ql-fill" d="M248 112h-80c-4.4 0-8 3.6-8 8v784c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8V120c0-4.4-3.6-8-8-8zm584 0H368c-17.7 0-32 14.9-32 33.3v733.3c0 18.4 14.3 33.3 32 33.3h464c17.7 0 32-14.9 32-33.3V145.3c0-18.4-14.3-33.3-32-33.3zM568 840H408V664h160v176zm0-240H408V424h160v176zm0-240H408V184h160v176zm224 480H632V664h160v176zm0-240H632V424h160v176zm0-240H632V184h160v176z"></path></svg>',handler(){const e=$d.find(this.table);let t=Pv(this.columnToolCells,this.boundary,((e,t)=>Math.abs(e.x-t.x)<=5),this.quill.root.parentNode);const n=e.insertColumn(this.boundary,t,!1,this.quill.root.parentNode);this.tableColumnTool.updateToolCells(),this.quill.update($d.sources.USER),this.quill.setSelection(this.quill.getIndex(n[0]),0,$d.sources.SILENT),this.tableSelection.setSelection(n[0].domNode.getBoundingClientRect(),n[0].domNode.getBoundingClientRect())}},insertRowUp:{text:"Insert Row Above",iconSrc:'<svg width="18px" height="18px" viewBox="64 64 896 896" focusable="false" aria-hidden="true"><path class="ql-fill" d="M878.7 336H145.3c-18.4 0-33.3 14.3-33.3 32v464c0 17.7 14.9 32 33.3 32h733.3c18.4 0 33.3-14.3 33.3-32V368c.1-17.7-14.8-32-33.2-32zM360 792H184V632h176v160zm0-224H184V408h176v160zm240 224H424V632h176v160zm0-224H424V408h176v160zm240 224H664V632h176v160zm0-224H664V408h176v160zm64-408H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8z"></path></svg>',handler(){const e=$d.find(this.table).insertRow(this.boundary,!1,this.quill.root.parentNode);this.quill.update($d.sources.USER),this.quill.setSelection(this.quill.getIndex(e[0]),0,$d.sources.SILENT),this.tableSelection.setSelection(e[0].domNode.getBoundingClientRect(),e[0].domNode.getBoundingClientRect())}},insertRowDown:{text:"Insert Row Below",iconSrc:'<svg width="18px" height="18px" viewBox="64 64 896 896" focusable="false" aria-hidden="true"><path class="ql-fill" d="M904 768H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zm-25.3-608H145.3c-18.4 0-33.3 14.3-33.3 32v464c0 17.7 14.9 32 33.3 32h733.3c18.4 0 33.3-14.3 33.3-32V192c.1-17.7-14.8-32-33.2-32zM360 616H184V456h176v160zm0-224H184V232h176v160zm240 224H424V456h176v160zm0-224H424V232h176v160zm240 224H664V456h176v160zm0-224H664V232h176v160z"></path></svg>',handler(){const e=$d.find(this.table).insertRow(this.boundary,!0,this.quill.root.parentNode);this.quill.update($d.sources.USER),this.quill.setSelection(this.quill.getIndex(e[0]),0,$d.sources.SILENT),this.tableSelection.setSelection(e[0].domNode.getBoundingClientRect(),e[0].domNode.getBoundingClientRect())}},mergeCells:{text:"Merge Selected Cells",iconSrc:'<svg width="18px" height="18px" viewBox="64 64 896 896" focusable="false" aria-hidden="true"><path class="ql-fill" d="M482.2 508.4L331.3 389c-3-2.4-7.3-.2-7.3 3.6V478H184V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H144c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H184V546h140v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM880 116H596c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H700v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h140v294H636V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"></path></svg>',handler(){const e=$d.find(this.table),t=e.rows().reduce(((e,t)=>{let n=dv(t.domNode.getBoundingClientRect(),this.quill.root.parentNode);return n.y>this.boundary.y-5&&n.y+n.height<this.boundary.y+this.boundary.height+5&&(e+=1),e}),0),n=this.columnToolCells.reduce(((e,t)=>{let n=dv(t.getBoundingClientRect(),this.quill.root.parentNode);return n.x>this.boundary.x-5&&n.x+n.width<this.boundary.x+this.boundary.width+5&&(e+=1),e}),0),r=e.mergeCells(this.boundary,this.selectedTds,t,n,this.quill.root.parentNode);this.quill.update($d.sources.USER),this.tableSelection.setSelection(r.domNode.getBoundingClientRect(),r.domNode.getBoundingClientRect())}},unmergeCells:{text:"Unmerge Cells",iconSrc:'<svg width="18px" height="18px" viewBox="64 64 896 896" focusable="false" aria-hidden="true"><path class="ql-fill" d="M938.2 508.4L787.3 389c-3-2.4-7.3-.2-7.3 3.6V478H636V184h204v128c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V144c0-15.5-12.5-28-28-28H596c-15.5 0-28 12.5-28 28v736c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v128H636V546h144v85.4c0 3.8 4.4 6 7.3 3.6l150.9-119.4a4.5 4.5 0 000-7.2zM428 116H144c-15.5 0-28 12.5-28 28v168c0 2.2 1.8 4 4 4h60c2.2 0 4-1.8 4-4V184h204v294H244v-85.4c0-3.8-4.3-6-7.3-3.6l-151 119.4a4.52 4.52 0 000 7.1l151 119.5c2.9 2.3 7.3.2 7.3-3.6V546h144v294H184V712c0-2.2-1.8-4-4-4h-60c-2.2 0-4 1.8-4 4v168c0 15.5 12.5 28 28 28h284c15.5 0 28-12.5 28-28V144c0-15.5-12.5-28-28-28z"></path></svg>',handler(){$d.find(this.table).unmergeCells(this.selectedTds,this.quill.root.parentNode),this.quill.update($d.sources.USER),this.tableSelection.clearSelection()}},deleteColumn:{text:"Delete Columns",iconSrc:'<svg width="18px" height="18px" viewBox="64 64 896 896" focusable="false" aria-hidden="true"><path class="ql-fill" d="M651.1 641.9a7.84 7.84 0 00-5.1-1.9h-54.7c-2.4 0-4.6 1.1-6.1 2.9L512 730.7l-73.1-87.8a8.1 8.1 0 00-6.1-2.9H378c-1.9 0-3.7.7-5.1 1.9a7.97 7.97 0 00-1 11.3L474.2 776 371.8 898.9a8.06 8.06 0 006.1 13.2h54.7c2.4 0 4.6-1.1 6.1-2.9l73.1-87.8 73.1 87.8a8.1 8.1 0 006.1 2.9h55c1.9 0 3.7-.7 5.1-1.9 3.4-2.8 3.9-7.9 1-11.3L549.8 776l102.4-122.9c2.8-3.4 2.3-8.4-1.1-11.2zM472 544h80c4.4 0 8-3.6 8-8V120c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8v416c0 4.4 3.6 8 8 8zM350 386H184V136c0-3.3-2.7-6-6-6h-60c-3.3 0-6 2.7-6 6v292c0 16.6 13.4 30 30 30h208c3.3 0 6-2.7 6-6v-60c0-3.3-2.7-6-6-6zm556-256h-60c-3.3 0-6 2.7-6 6v250H674c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6h208c16.6 0 30-13.4 30-30V136c0-3.3-2.7-6-6-6z"></path></svg>',handler(){const e=$d.find(this.table);let t=(n=this.columnToolCells,r=this.boundary,i=(e,t)=>e.x+5>t.x&&e.x+e.width-5<t.x1,s=this.quill.root.parentNode,n.reduce(((e,t)=>{let o=dv(t.getBoundingClientRect(),s);return i(o,r)&&e.push(n.indexOf(t)),e}),[]));var n,r,i,s;e.deleteColumns(this.boundary,t,this.quill.root.parentNode)||(this.tableColumnTool.updateToolCells(),this.quill.update($d.sources.USER),this.tableSelection.clearSelection())}},deleteRow:{text:"Delete Rows",iconSrc:'<svg width="18px" height="18px" viewBox="64 64 896 896" focusable="false" aria-hidden="true"><path class="ql-fill" d="M819.8 512l102.4-122.9a8.06 8.06 0 00-6.1-13.2h-54.7c-2.4 0-4.6 1.1-6.1 2.9L782 466.7l-73.1-87.8a8.1 8.1 0 00-6.1-2.9H648c-1.9 0-3.7.7-5.1 1.9a7.97 7.97 0 00-1 11.3L744.2 512 641.8 634.9a8.06 8.06 0 006.1 13.2h54.7c2.4 0 4.6-1.1 6.1-2.9l73.1-87.8 73.1 87.8a8.1 8.1 0 006.1 2.9h55c1.9 0 3.7-.7 5.1-1.9 3.4-2.8 3.9-7.9 1-11.3L819.8 512zM536 464H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h416c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zm-84 204h-60c-3.3 0-6 2.7-6 6v166H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6h292c16.6 0 30-13.4 30-30V674c0-3.3-2.7-6-6-6zM136 184h250v166c0 3.3 2.7 6 6 6h60c3.3 0 6-2.7 6-6V142c0-16.6-13.4-30-30-30H136c-3.3 0-6 2.7-6 6v60c0 3.3 2.7 6 6 6z"></path></svg>',handler(){$d.find(this.table).deleteRow(this.boundary,this.quill.root.parentNode),this.quill.update($d.sources.USER),this.tableSelection.clearSelection()}},deleteTable:{text:"Delete Table",iconSrc:Og,handler(){const e=this.quill.getModule("better-table"),t=$d.find(this.table);e.hideTableTools(),t.remove(),this.quill.update($d.sources.USER)}}};class $v{constructor(e,t,n){const r=t.getModule("better-table");this.tableSelection=r.tableSelection,this.table=e.table,this.quill=t,this.options=n,this.menuItems=Object.assign({},Uv,n.items),this.tableColumnTool=r.columnTool,this.boundary=this.tableSelection.boundary,this.selectedTds=this.tableSelection.selectedTds,this.destroyHandler=this.destroy.bind(this),this.columnToolCells=this.tableColumnTool.colToolCells(),this.colorSubTitle=n.color&&n.color.text?n.color.text:"Background Colors",this.cellColors=n.color&&n.color.colors?n.color.colors:zv,this.menuInitial(e),this.mount(),document.addEventListener("click",this.destroyHandler,!1)}mount(){document.body.appendChild(this.domNode)}destroy(){return this.domNode.remove(),document.removeEventListener("click",this.destroyHandler,!1),null}menuInitial({table:e,left:t,top:n}){this.domNode=document.createElement("div"),this.domNode.classList.add("qlbt-operation-menu"),hv(this.domNode,{position:"absolute",left:`${t}px`,top:`${n}px`,"min-height":"150px",width:"200px"});for(let e in this.menuItems)this.menuItems[e]&&(this.domNode.appendChild(this.menuItemCreator(Object.assign({},Uv[e],this.menuItems[e]))),["insertRowDown","unmergeCells"].indexOf(e)>-1&&this.domNode.appendChild(r()));function r(){const e=document.createElement("div");return e.classList.add("qlbt-operation-menu-dividing"),e}this.options.color&&!1!==this.options.color&&(this.domNode.appendChild(r()),this.domNode.appendChild(function(e){const t=document.createElement("div");return t.classList.add("qlbt-operation-menu-subtitle"),t.innerText=e,t}(this.colorSubTitle)),this.domNode.appendChild(this.colorsItemCreator(this.cellColors)))}colorsItemCreator(e){const t=this,n=document.createElement("div");return n.classList.add("qlbt-operation-color-picker"),e.forEach((e=>{let r=function(e){const n=document.createElement("div");return n.classList.add("qlbt-operation-color-picker-item"),n.setAttribute("data-color",e),n.style.backgroundColor=e,n.addEventListener("click",(function(){const n=t.tableSelection.selectedTds;n&&n.length>0&&n.forEach((t=>{t.format("cell-bg",e)}))}),!1),n}(e);n.appendChild(r)})),n}menuItemCreator({text:e,iconSrc:t,handler:n}){const r=document.createElement("div");r.classList.add("qlbt-operation-menu-item");const i=document.createElement("span");i.classList.add("qlbt-operation-menu-icon"),i.innerHTML=t;const s=document.createElement("span");return s.classList.add("qlbt-operation-menu-text"),s.innerText=e,r.appendChild(i),r.appendChild(s),r.addEventListener("click",n.bind(this),!1),r}}function Pv(e,t,n,r){return e.reduce(((i,s)=>{let o=dv(s.getBoundingClientRect(),r);return n(o,t)&&(i=e.indexOf(s)),i}),!1)}const Hv=$d.import("delta");function Fv(e,t,n){const r=e.parentNode,i="TABLE"===r.parentNode.tagName?r.parentNode:r.parentNode.parentNode,s=Array.from(i.querySelectorAll("tr")),o=Array.from(r.querySelectorAll("td")),a=s.indexOf(r)+1,l=o.indexOf(e)+1,c=e.getAttribute("colspan")||!1,u=e.getAttribute("rowspan")||!1,h=e.getAttribute("data-cell-bg")||e.style.backgroundColor;return 0===t.length()?t=(new Hv).insert("\n",{"table-cell-line":{row:a,cell:l,rowspan:u,colspan:c}}):(t=t.reduce(((e,t)=>{if(t.insert&&"string"==typeof t.insert){const n=[];let r=t.insert,i=0;for(let e=0;e<t.insert.length;e++)"\n"===r.charAt(e)&&(0===e||n.push(r.substring(i,e)),n.push("\n"),i=e+1);const s=r.substring(i);s&&n.push(s),n.forEach((n=>{"\n"===n?e.insert("\n",t.attributes):e.insert(n,fv(t.attributes,["table","table-cell-line"]))}))}else e.insert(t.insert,t.attributes);return e}),new Hv)).reduce(((e,t)=>(t.insert&&"string"==typeof t.insert&&t.insert.startsWith("\n")?e.insert(t.insert,Object.assign({},Object.assign({},{row:a},t.attributes.table),{"table-cell-line":{row:a,cell:l,rowspan:u,colspan:c,"cell-bg":h}},fv(t.attributes,["table"]))):t.attributes&&t.attributes.background&&t.attributes.background===function(e){if(/^(rgb|RGB)/.test(e)){for(var t=e.toString().match(/\d+/g),n="#",r=0;r<3;r++)n+=("0"+Number(t[r]).toString(16)).slice(-2);return n}if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){var i=e.replace(/#/,"").split("");if(6===i.length)return e;if(3===i.length){var s="#";for(r=0;r<i.length;r+=1)s+=i[r]+i[r];return s}}return e}(h)?e.insert(t.insert,Object.assign({},fv(t.attributes,["table","table-cell-line","background"]))):e.insert(t.insert,Object.assign({},fv(t.attributes,["table","table-cell-line"]))),e)),new Hv)}function Wv(e,t,n){const r=e.parentNode,i="TABLE"===r.parentNode.tagName?r.parentNode:r.parentNode.parentNode,s=Array.from(i.querySelectorAll("tr")),o=Array.from(r.querySelectorAll("th")),a=s.indexOf(r)+1,l=o.indexOf(e)+1,c=e.getAttribute("colspan")||!1,u=e.getAttribute("rowspan")||!1;return 0===t.length()?t=(new Hv).insert("\n",{"table-cell-line":{row:a,cell:l,rowspan:u,colspan:c}}):(t=t.reduce(((e,t)=>{if(t.insert&&"string"==typeof t.insert){const n=[];let r=t.insert,i=0;for(let e=0;e<t.insert.length;e++)"\n"===r.charAt(e)&&(0===e||n.push(r.substring(i,e)),n.push("\n"),i=e+1);const s=r.substring(i);s&&n.push(s),n.indexOf("\n")<0&&n.push("\n"),n.forEach((n=>{"\n"===n?e.insert("\n",{"table-cell-line":{row:a,cell:l,rowspan:u,colspan:c}}):e.insert(n,t.attributes)}))}else e.insert(t.insert,t.attributes);return e}),new Hv)).reduce(((e,t)=>(t.insert&&"string"==typeof t.insert&&t.insert.startsWith("\n")?e.insert(t.insert,Object.assign({},{"table-cell-line":{row:a,cell:l,rowspan:u,colspan:c}})):e.insert(t.insert,Object.assign({},fv(t.attributes,["table","table-cell-line"]))),e)),new Hv)}function Kv(e,t,n){let r=new Hv;const i=e.querySelector("tr");if(null===i)return r;const s=Array.from(i.querySelectorAll("td")).concat(Array.from(i.querySelectorAll("th"))).reduce(((e,t)=>{const n=t.getAttribute("colspan")||1;return e+=parseInt(n,10)}),0),o=e.querySelectorAll("col").length;if(o===s)return t;{for(let e=0;e<s-o;e++)r.insert("\n",{"table-col":!0});if(0===o)return r.concat(t);let e=0;return t.reduce(((t,n)=>(t.insert(n.insert,n.attributes),n.attributes&&n.attributes["table-col"]&&(e+=n.insert.length,e===o&&(t=t.concat(r))),t)),new Hv)}}const Vv=$d.import("core/module"),Gv=$d.import("delta");class Zv extends Vv{static register(){$d.register(Cv,!0),$d.register(Lv,!0),$d.register(Av,!0),$d.register(Sv,!0),$d.register(qv,!0),$d.register(Ov,!0),$d.register(Tv,!0),$d.register(Mv,!0),$d.register(Mv,!0)}constructor(e,t){super(e,t),this.quill.root.addEventListener("click",(n=>{const r=pv(n);if(!r||r.length<=0)return;const i=r.filter((e=>e.tagName&&"TABLE"===e.tagName.toUpperCase()&&e.classList.contains("quill-better-table")))[0];if(i){if(this.table===i)return;this.table&&this.hideTableTools(),this.showTableTools(i,e,t)}else this.table&&this.hideTableTools()}),!1),this.quill.root.addEventListener("contextmenu",(n=>{if(!this.table)return!0;n.preventDefault();const r=pv(n);if(!r||r.length<=0)return;const i=r.filter((e=>e.tagName&&"TABLE"===e.tagName.toUpperCase()&&e.classList.contains("quill-better-table")))[0],s=r.filter((e=>e.tagName&&"TR"===e.tagName.toUpperCase()&&e.getAttribute("data-row")))[0],o=r.filter((e=>e.tagName&&"TD"===e.tagName.toUpperCase()&&e.getAttribute("data-row")))[0];let a=this.tableSelection.selectedTds.map((e=>e.domNode)).includes(o);(this.tableSelection.selectedTds.length<=0||!a)&&this.tableSelection.setSelection(o.getBoundingClientRect(),o.getBoundingClientRect()),this.tableOperationMenu&&(this.tableOperationMenu=this.tableOperationMenu.destroy()),i&&(this.tableOperationMenu=new $v({table:i,row:s,cell:o,left:n.pageX,top:n.pageY},e,t.operationMenu))}),!1),e.getModule("keyboard"),e.keyboard.addBinding({key:"Backspace"},{},(function(e,t){if(0===e.index||this.quill.getLength()<=1)return!0;const[n]=this.quill.getLine(e.index);if(0===t.offset){const[t]=this.quill.getLine(e.index-1);if(null!=t&&"table-cell-line"===t.statics.blotName&&"table-cell-line"!==n.statics.blotName)return!1}return!0}));let n=e.keyboard.bindings.Backspace.pop();e.keyboard.bindings.Backspace.splice(0,1,n),e.clipboard.addMatcher("td",Fv),e.clipboard.addMatcher("th",Wv),e.clipboard.addMatcher("table",Kv),e.clipboard.matchers=e.clipboard.matchers.filter((e=>"tr"!==e[0]))}getTable(e=this.quill.getSelection()){if(null==e)return[null,null,null,-1];const[t,n]=this.quill.getLine(e.index);if(null==t||t.statics.blotName!==Av.blotName)return[null,null,null,-1];const r=t.tableCell(),i=r.row();return[i.table(),i,r,n]}insertTable(e,t){const n=this.quill.getSelection(!0);if(null==n)return;let r=this.quill.getLeaf(n.index)[0],i=(new Gv).retain(n.index);Xv(r)?console.warn("Can not insert table into a table cell."):(i.insert("\n"),i=new Array(t).fill("\n").reduce(((e,t)=>(e.insert(t,{"table-col":!0}),e)),i),i=new Array(e).fill(0).reduce((e=>{let n=Rv();return new Array(t).fill("\n").reduce(((e,t)=>(e.insert(t,{"table-cell-line":{row:n,cell:Iv()}}),e)),e)}),i),this.quill.updateContents(i,$d.sources.USER),this.quill.setSelection(n.index+t+1,$d.sources.API))}showTableTools(e,t,n){this.table=e,this.columnTool=new gv(e,t,n),this.tableSelection=new Dv(e,t,n)}hideTableTools(){this.columnTool&&this.columnTool.destroy(),this.tableSelection&&this.tableSelection.destroy(),this.tableOperationMenu&&this.tableOperationMenu.destroy(),this.columnTool=null,this.tableSelection=null,this.tableOperationMenu=null,this.table=null}}function Qv(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table-cell-line"],handler(t,n){const r=e?"prev":"next";if(null!=n.line[r])return!0;const i=n.line.parent,s=i.parent[r];if(null!=s&&"table-row"===s.statics.blotName){let e=s.children.head,t=parseInt(e.formats().colspan,10),n=i,r=parseInt(n.formats().colspan,10);for(;null!=n.prev;)n=n.prev,r+=parseInt(n.formats().colspan,10);for(;null!=e.next&&t<r;)e=e.next,t+=parseInt(e.formats().colspan,10);const o=e.offset(this.quill.scroll);this.quill.setSelection(o,0,$d.sources.USER)}else{const t=i.table().parent[r];null!=t&&(e?this.quill.setSelection(t.offset(this.quill.scroll)+t.length()-1,0,$d.sources.USER):this.quill.setSelection(t.offset(this.quill.scroll),0,$d.sources.USER))}return!1}}}function Xv(e){return!(!e||!e.parent)&&(e.parent.statics.blotName===Sv.blotName||Xv(e.parent))}Zv.keyboardBindings={"table-cell-line backspace":{key:"Backspace",format:["table-cell-line"],collapsed:!0,offset:0,handler(e,t){const[n,r]=this.quill.getLine(e.index);return!(!n.prev||"table-cell-line"!==n.prev.statics.blotName)}},"table-cell-line delete":{key:"Delete",format:["table-cell-line"],collapsed:!0,suffix:/^$/,handler(){}},"table-cell-line enter":{key:"Enter",shiftKey:null,format:["table-cell-line"],handler(e,t){if(this.quill.selection&&this.quill.selection.composing)return;const n=$d.imports.parchment.Scope;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);const r=Object.keys(t.format).reduce(((e,r)=>(this.quill.scroll.query(r,n.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e)),{});this.quill.insertText(e.index,"\n",r["table-cell-line"],$d.sources.USER),this.quill.setSelection(e.index+1,$d.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((e=>{null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&this.quill.format(e,t.format[e],$d.sources.USER))}))}},"table-cell-line up":Qv(!0),"table-cell-line down":Qv(!1),"down-to-table":{key:"ArrowDown",collapsed:!0,handler(e,t){const n=t.line.next;if(n&&"table-view"===n.statics.blotName){const e=n.table().rows()[0].children.head.children.head;return this.quill.setSelection(e.offset(this.quill.scroll),0,$d.sources.USER),!1}return!0}},"up-to-table":{key:"ArrowUp",collapsed:!0,handler(e,t){const n=t.line.prev;if(n&&"table-view"===n.statics.blotName){const e=n.table().rows(),t=e[e.length-1].children.head.children.head;return this.quill.setSelection(t.offset(this.quill.scroll),0,$d.sources.USER),!1}return!0}}};const Yv=$d.import("blots/block/embed"),Jv=e=>({solid:`border:none;border-top:1px solid ${e};`,dashed:`border:none;border-top:1px dashed ${e};`,double:`border:none;border-top:3px double ${e};`,gradient:`border:0;padding-top:2px;background:linear-gradient(to right,transparent, ${e},transparent);`,italic:`border:0;padding-top:4px;background: repeating-linear-gradient(135deg,${e} 0px, ${e} 1px,transparent 1px,transparent 6px);`,colorItalic:`border:0;padding-top:4px;background:linear-gradient(135deg,red,orange,${e},blue,purple);mask-image: repeating-linear-gradient(135deg,#000 0px, #000 1px,transparent 1px,transparent 6px);`}),ey="#999";$d.import("parchment");const ty=$d.import("formats/image"),ny=["alt","height","width","style"],ry=["margin","display","float"];const iy=$d.import("formats/list");$d.import("formats/list");const sy=$d.import("modules/syntax"),oy=$d.import("formats/code-block");class ay extends sy{constructor(e,t){super(e,t),this.listener()}listener(){this.quill.on($d.events.SCROLL_BLOT_MOUNT,(e=>{if("ql-code-block-container"!==e.domNode.getAttribute("class"))return;const t=this.quill.root.ownerDocument.createElement("div"),n=this.quill.root.ownerDocument.createElement("span"),r="<span>Copy</span>";n.innerHTML=`<svg width="22" height="22" fill="none"><path class="ql-fill" d="M6.188 8.25v8.25h6.875V8.25H6.186zm8.25-.688v9.702c0 .337-.288.611-.642.611H5.454c-.354 0-.641-.274-.641-.611V7.486c0-.337.287-.611.641-.611h8.296c.38 0 .688.308.688.688zm2.548-3.236a.685.685 0 01.201.487v8.593c0 .19-.153.344-.343.344h-.688a.344.344 0 01-.343-.344V5.5H9.28a.344.344 0 01-.344-.344V4.47c0-.19.154-.344.344-.344H16.5c.19 0 .362.077.486.201z" fill="#646A73"></path></svg>${r}`,n.className="ql-code-copy",n.addEventListener("click",(()=>{const t=e.domNode.innerHTML;window.navigator.clipboard.writeText(ay.filterCode(t.split(r)[1])),n.querySelector("span").innerHTML="Copied",setTimeout((()=>{n.querySelector("span").innerHTML="Copy"}),2e3)}));const i=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((({key:e,label:t})=>{const n=i.ownerDocument.createElement("option");n.textContent=t,n.setAttribute("value",e),i.appendChild(n)})),i.addEventListener("change",(()=>{e.format(oy.blotName,i.value),this.quill.root.focus(),this.highlight(e,!0)})),t.append(i,n),e.attachUI(t),e.prev&&e.prev.domNode&&(i.value=oy.formats(e.prev.domNode))}))}static filterCode(e){return e.match(/(?<=<div[^<>]+?>)(.+?)(?=<\/div>)/g).map((e=>{return t=e.replace(/<[^<>]+>/g,""),(n=document.createElement("div")).innerHTML=t,n.innerText;var t,n})).join("\n")}}const ly=(e,t)=>{const{offsetLeft:n,offsetTop:r,offsetHeight:i,offsetParent:s}=e,o=`left:${n}px;top:${r+i+6}px;`,a=document.getElementsByClassName("quill-icon-tooltip");if(a.length>0)a[0].innerText=t,a[0].setAttribute("style",o),e.addEventListener("mouseleave",(()=>{a[0].style.display="none"}),!1);else{const n=document.createElement("div");n.classList.add("quill-icon-tooltip"),n.innerText=t,n.setAttribute("style",o),e.addEventListener("mouseleave",(()=>{n.style.display="none"}),!1),(s||document.body).appendChild(n)}},cy=$d.import("core/module");class uy extends cy{constructor(e,t){super(e,t),this.quill=e,this.options=t||{},this.toolbar=e.getModule("toolbar"),this.editorContainer=e.root.parentNode,this.tooltip=e.theme?.tooltip,void 0!==this.toolbar&&this.toolbar.addHandler("link",this.handleLinkClick.bind(this)),e.on("selection-change",((t,n,r)=>{try{if(null==t||!e?.hasFocus())return;if("user"===r){const n=$d.import("formats/link"),[r,i]=e.scroll.descendant(n,t.index);if(null!==r){const[n]=e.getLeaf(t.index+1);this.tooltip?.edit("link","");const s=t.index-i,o=r.length(),a=e.getFormat(s,o).link;this.editorContainer&&(this.wordDom||this.getDom(),this.wordDom.value=n.text,this.urlDom.value=a,this.saveDom.onclick=()=>{this.saveLink(s,o)},this.clearDom.onclick=()=>this.clearLink(s,o))}else this.tooltipClose()}}catch(e){console.log("Link Listener Error: ",e)}})),this.quill.theme&&this.quill.theme.tooltip&&(this.quill.theme.tooltip.root.innerHTML=uy.linkTooltip(t.i18n)),e.on("text-change",this.tooltipClose)}getDom=()=>{this.editorContainer&&(this.wordDom=this.editorContainer.querySelector("#link-words"),this.urlDom=this.editorContainer.querySelector("#link-url"),this.saveDom=this.editorContainer.querySelector("a.ql-link-save"),this.jumpDom=this.editorContainer.querySelector("a.ql-link-jump"),this.clearDom=this.editorContainer.querySelector("a.ql-link-clear"),this.selection=this.quill.getSelection(),this.jumpDom.onclick=this.jumpLink,this.clearDom.onclick=this.clearLink)};handleLinkClick(){if(this.tooltip?.edit("link",""),this.getDom(),null===this.selection||0===this.selection.length)this.wordDom.value="",this.urlDom.value="",this.saveDom.onclick=()=>{this.saveLink()};else{const e=this.quill.getText(this.selection.index,this.selection.length);this.wordDom.value=e;let t="";/^\S+@\S+\.\S+$/.test(e)&&0!==e.indexOf("mailto:")?t=`mailto:${e}`:Eg(e)&&(t=Pg(e,{stripWWW:!1})),this.urlDom.value=t,this.saveDom.onclick=()=>{this.saveLink(this.selection.index,this.selection.length)}}}saveLink(e,t){const n=this.urlDom.value;if(n&&Eg(n)){const r=this.wordDom.value||n;void 0!==e&&t&&t>0&&this.quill.deleteText(e,t),this.quill.insertText(e??(this.selection?.index||0),r,"link",Pg(n,{stripWWW:!1}),"user"),this.tooltipClose()}else this.invalidUrlhandler()}jumpLink=()=>{const e=this.urlDom.value;e&&Eg(e)?(window.open(Pg(e,{stripWWW:!1}),"_blank"),this.tooltipClose()):this.invalidUrlhandler()};clearLink=(e,t)=>{const n=this.urlDom.value;n&&Eg(n)&&this.selection&&this.quill.removeFormat(e??this.selection.index,t??this.selection.length),this.tooltipClose()};tooltipClose=()=>{this.tooltip&&this.tooltip.hide&&this.tooltip.hide()};invalidUrlhandler=()=>{if(this.tooltip&&this.tooltip.root){const e=_g("linkUrlErr",this.options.i18n),t=this.tooltip.root.querySelector(".err-tips");t.innerText=e,this.urlDom.addEventListener("input",(()=>{t.innerText&&(t.innerText="")}))}this.urlDom.focus()};static linkTooltip=e=>{const t=_g(["linkWords","linkUrl","linkSave","linkTarget","linkClear"],e);return`\n<p><span>${t[0]}：</span><input id="link-words" class="text-input" type="text" /></p>\n<p class="flex flex-center">\n<span>${t[1]}：</span><input id="link-url" class="text-input" type="text" />\n<a class="ql-link-save">${t[2]}</a>\n<a class="ql-link-jump" target="_blank">${Tg(Lg,t[3],"ql-icon")}</a>\n<a class="ql-link-clear">${Tg(Cg,t[4],"ql-icon")}</a>\n</p>\n<p class="err-tips"></p>\n  `}}const hy=$d.import("core/module");class dy extends hy{constructor(e,t){super(e,t),this.quill=e,this.options=t||{},this.toolbar=e.getModule("toolbar"),this.DEFAULT_COL=9,this.DEFAULT_ROW=9,void 0!==this.toolbar&&this.toolbar.addHandler("table",this.handleTableClick.bind(this))}handleTableClick(){this.tableDialogOpen(),window.event?(window.event.cancelBubble=!0,this.quill.container.parentNode.addEventListener("click",(()=>{this.tableDialogClose()}))):this.quill.container.addEventListener("click",(()=>{this.tableDialogClose()})),window.addEventListener("resize",(()=>{this.tableDialogClose()}))}tableDialogOpen(){this.toolbar.container.querySelector(".ql-table-dialog")?this.tableDialog.remove():(this.showTableDialog(),Array.from(this.tableDialog.getElementsByClassName("table-dialog-item")).forEach((e=>{e.addEventListener("mouseover",(()=>{this.tableDialog.querySelector("#table-row-number").innerText=Number(e.dataset.row)+1,this.tableDialog.querySelector("#table-col-number").innerText=Number(e.dataset.column)+1,this.itemBackgroundChange(e.dataset.row,e.dataset.column)})),e.addEventListener("click",(()=>{this.createTable(Number(e.dataset.row)+1,Number(e.dataset.column)+1)}))})))}showTableDialog(){const e=this.toolbar.container;if(this.tableDialog)this.itemBackgroundChange(-1,0);else{this.tableDialog=document.createElement("div"),this.tableDialog.classList.add("ql-table-dialog","ql-toolbar-dialog");const{dialogRows:e,dialogColumns:t}=this.options,n=_g("tableDialogLabel",this.options.i18n),r=`${dy.genNumArr(Number(e)>0?Number(e):this.DEFAULT_ROW).map((e=>`<div class="table-dialog-tr">${dy.genNumArr(Number(t)>0?Number(t):this.DEFAULT_COL).map((t=>`<div class="table-dialog-item" data-row="${e}" data-column="${t}"></div>`)).join("")}</div>`)).join("")}\n        <p><label>${n}</label><span><span id="table-row-number">0</span> X <span id="table-col-number">0</span></span></p>\n      `;this.tableDialog.innerHTML=r}const t=e.querySelector(".ql-table");this.tableDialog.style=this.dialogPosition(t),e.append(this.tableDialog)}tableDialogClose(){this.tableDialog&&this.tableDialog.remove()}dialogPosition=e=>{const t=e.offsetParent;return t.offsetWidth-e.offsetLeft+6>200?`top:${e.offsetTop+24}px;left:${e.offsetLeft+6}px;`:`top:${e.offsetTop+24}px;left:${t.offsetWidth-200}px;`};createTable(e,t){this.tableDialogClose(),this.quill.getModule("better-table").insertTable(e,t)}itemBackgroundChange(e,t){Array.from(this.tableDialog.getElementsByClassName("table-dialog-item")).forEach((n=>{n.dataset.row<=e&&n.dataset.column<=t?n.className="table-dialog-item item-hover":n.className="table-dialog-item"}))}static genNumArr=e=>new Array(e).fill(0).map(((e,t)=>t))}const fy=$d.import("core/module");const py=$d.import("core/module");const gy=$d.import("core/module");const my=(e,t)=>{e&&(e.onclick=e=>{e.stopPropagation()},e.oninput=Ag((()=>{t&&t(e.value)}),400))},by=e=>{const{onSave:t}=e;return{"list autofill":{key:" ",collapsed:!0,prefix:/^\d+\.$/,format:{list:!1,"code-block":!1,blockquote:!1,header:!1,table:!1,"table-cell-line":!1},handler(e,t){const{prefix:n,line:r}=t,i=parseInt(n.replace(".",""),10);1!==i?(this.quill.formatLine(e.index,1,"list",`ordered-${i}`),this.quill.formatLine(e.index,1,"list",`ordered-${i}`)):(this.quill.formatLine(e.index,1,"list","ordered"),this.quill.formatLine(e.index,1,"list","ordered")),this.quill.deleteText(e.index-n.length,n.length)}},"code backspace":{key:"Backspace",format:["code-block","list","blockquote"],handler(e,t){var n,r,i;if(this.quill){const s=this.quill.getFormat(e),o=null===(i=null===(r=null===(n=null==t?void 0:t.line)||void 0===n?void 0:n.parent)||void 0===r?void 0:r.domNode)||void 0===i?void 0:i.innerHTML.replace(/<select>(.+)<\/span><\/span>/,"").replace(/<[^<>]+>/g,"");if((s.list||s.blockquote)&&""===t.prefix)return this.quill.removeFormat(e.index,e.length),!1;if(s["code-block"]&&("\n"===o||""===o||void 0===o))return this.quill.removeFormat(e.index,e.length),!1}return!0}},save:{key:"s",shortKey:!0,handler:(e,n)=>(console.log("keyboard save!"),!t||(t(),!1))}}};$d.register(class extends ty{static formats(e){return ny.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}format(e,t){ny.indexOf(e)>-1?t?("style"===e&&(t=this.sanitize_style(t)),this.domNode.setAttribute(e,t)):this.domNode.removeAttribute(e):super.format(e,t)}sanitize_style(e){let t=e.split(";"),n="";return t.forEach(((e,t)=>{-1!==ry.indexOf(e.trim().split(":")[0])&&(n+=e+";")})),n}},!0),$d.register(class extends iy{static create(e){const t=super.create();if(e.indexOf("-")>0){const n=e.split("-");t.setAttribute("data-list",n[0]),t.style.setProperty("--list-item-start",n[1]),t.setAttribute("data-start",n[1])}else t.setAttribute("data-list",e);return t}static formats(e){return e.hasAttribute("data-start")&&"1"!==e.getAttribute("data-start")?`${e.getAttribute("data-list")}-${e.getAttribute("data-start")}`:e.getAttribute("data-list")||void 0}format(e,t){if(e===this.statics.blotName&&t)if(t.indexOf("-")>0){const e=t.split("-");this.domNode.setAttribute("data-list",e[0]),this.domNode.style.setProperty("--list-item-start",e[1]),this.domNode.setAttribute("data-start",e[1])}else this.domNode.setAttribute("data-list",t);else super.format(e,t)}},!0),$d.register(class extends Yv{static create(e){const t=super.create();return e&&e instanceof Object&&(t.setAttribute("style",Jv(e.color||ey)[e.type||"solid"]),t.setAttribute("data-type",e.type),Sg(e.color)&&t.setAttribute("data-color",e.color)),t}static formats(e){if(e.hasAttribute("data-type"))return{style:`${e.getAttribute("data-type")}-${e.getAttribute("data-color")!==ey?e.getAttribute("data-color"):""}`,background:void 0}}format(e,t){if("style"===e&&t){const n=t.split("-");this.domNode.setAttribute(e,Jv(Sg(n[1])?n[1]:ey)[n[0]])}else super.format(e,t)}static blotName="QDivider";static tagName="hr"},!0),$d.register({"modules/imageResize":class{constructor(e,t={}){this.quill=e;let n=!1;t.modules&&(n=t.modules.slice()),this.options={...Mg,...t},!1!==n&&(this.options.modules=n),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.moduleClasses=this.options.modules,this.modules=[]}initializeModules=()=>{this.removeModules(),this.modules=this.moduleClasses.map((e=>new(zg[e]||e)(this))),this.modules.forEach((e=>{e.onCreate()})),this.onUpdate()};onUpdate=()=>{this.repositionElements(),this.modules.forEach((e=>{e.onUpdate()}))};removeModules=()=>{this.modules.forEach((e=>{e.onDestroy()})),this.modules=[]};handleClick=e=>{if(e.target&&e.target.tagName&&"IMG"===e.target.tagName.toUpperCase()){if(this.img===e.target)return;this.img&&this.hide(),this.show(e.target)}else this.img&&this.hide()};show=e=>{this.img=e,this.showOverlay(),this.initializeModules()};showOverlay=()=>{this.overlay&&this.hideOverlay(),this.setUserSelect("none"),document.addEventListener("keyup",this.checkImage,!0),this.quill.root.addEventListener("input",this.checkImage,!0),this.overlay=document.createElement("div"),Object.assign(this.overlay.style,this.options.overlayStyles),this.quill.root.parentNode.appendChild(this.overlay),this.quill.root.addEventListener("scroll",Ag((()=>{this.img&&this.overlay&&this.hide()}))),this.repositionElements()};hideOverlay=()=>{this.overlay&&(this.quill.root.parentNode.removeChild(this.overlay),this.overlay=void 0,document.removeEventListener("keyup",this.checkImage),this.quill.root.removeEventListener("input",this.checkImage),this.setUserSelect(""))};repositionElements=()=>{if(!this.overlay||!this.img)return;const e=this.quill.root.parentNode,t=this.img.getBoundingClientRect(),n=e.getBoundingClientRect();Object.assign(this.overlay.style,{left:`${t.left-n.left-1+e.scrollLeft}px`,top:`${t.top-n.top+e.scrollTop}px`,width:`${t.width}px`,height:`${t.height}px`})};hide=()=>{this.hideOverlay(),this.removeModules(),this.img=void 0};setUserSelect=e=>{["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach((t=>{this.quill.root.style[t]=e,document.documentElement.style[t]=e}))};checkImage=e=>{this.img&&(46!==e.keyCode&&8!==e.keyCode||$d.find(this.img).deleteAt(0),this.hide())}},"modules/imageDrop":qg,"modules/magicUrl":class{constructor(e,t){this.quill=e,t=t||{},this.options=Object.assign(Object.assign({},Hg),t),this.urlNormalizer=e=>this.normalize(e),this.mailNormalizer=e=>`mailto:${e}`,this.registerTypeListener(),this.registerPasteListener(),this.registerBlurListener()}registerPasteListener(){this.quill.clipboard.addMatcher("A",((e,t)=>{var n;const r=e.getAttribute("href"),i=null===(n=t.ops[0])||void 0===n?void 0:n.attributes;return null!=(null==i?void 0:i.link)&&(i.link=r),t})),this.quill.clipboard.addMatcher(Node.TEXT_NODE,((e,t)=>{if("string"!=typeof e.data)return;const n=this.options.globalRegularExpression,r=this.options.globalMailRegularExpression;n.lastIndex=0,r.lastIndex=0;const i=new xg;let s=0,o=n.exec(e.data),a=r.exec(e.data);const l=(t,n,r)=>{const o=e.data.substring(s,t.index);i.insert(o);const a=t[0];return i.insert(a,{link:r(a)}),s=n.lastIndex,n.exec(e.data)};for(;null!==o||null!==a;)if(null===o)a&&(a=l(a,r,this.mailNormalizer));else if(null===a)o=l(o,n,this.urlNormalizer);else if(a.index<=o.index){for(;null!==o&&o.index<r.lastIndex;)o=n.exec(e.data);a=l(a,r,this.mailNormalizer)}else{for(;null!==a&&a.index<n.lastIndex;)a=r.exec(e.data);o=l(o,n,this.urlNormalizer)}if(s>0){const n=e.data.substring(s);i.insert(n),t&&(t.ops=i.ops)}return t}))}registerTypeListener(){this.quill.on("text-change",(e=>{const t=e.ops;if(!t||t.length<1||t.length>2)return;const n=t[t.length-1];n.insert&&"string"==typeof n.insert&&n.insert.match(/\s/)&&this.checkTextForUrl(!!n.insert.match(/ |\t/))}))}registerBlurListener(){this.quill.root.addEventListener("blur",(()=>{this.checkTextForUrl()}))}checkTextForUrl(e=!1){const t=this.quill.getSelection();if(!t)return;const[n]=this.quill.getLeaf(t.index),r=this.quill.getIndex(n);if(!n.text)return;const i=t.index-r,s=n.text.slice(0,i);if(!s||"a"===n.parent.domNode.localName)return;const o=n.text[i];if(null!=o&&o.match(/\S/))return;const a=e?/\s\s$/:/\s$/;if(s.match(a))return;const l=s.match(this.options.urlRegularExpression),c=s.match(this.options.mailRegularExpression);l?this.handleMatches(r,s,l,this.urlNormalizer):c&&this.handleMatches(r,s,c,this.mailNormalizer)}handleMatches(e,t,n,r){const i=n.pop();if(i){const n=t.lastIndexOf(i),s=t.split(i).pop();if(s&&s.match(/\S/))return;this.updateText(e+n,i.trim(),r)}}updateText(e,t,n){const r=(new xg).retain(e).retain(t.length,{link:n(t)});this.quill.updateContents(r)}normalize(e){if(this.options.normalizeRegularExpression.test(e))try{return Pg(e,this.options.normalizeUrlOptions)}catch(e){console.error(e)}return e}},"modules/markdownShortcuts":class{constructor(e,t){this.quill=e,this.options=t,this.ignoreElements=t&&t.ignore||[],this.ignoreTags=["PRE"];const n=[{name:"header",pattern:/^(#){1,6}\s/g,action:(e,t,n)=>{var r=n.exec(e);if(!r)return;const i=r[0].length;setTimeout((()=>{this.quill.formatLine(t.index,0,"header",i-1),this.quill.deleteText(t.index-i,i)}),0)}},{name:"blockquote",pattern:/^(>)\s/g,action:(e,t)=>{setTimeout((()=>{this.quill.formatLine(t.index,1,"blockquote",!0),this.quill.deleteText(t.index-2,2)}),0)}},{name:"code-block",pattern:/^`{3}(?:\s|\n)/g,action:(e,t)=>{setTimeout((()=>{this.quill.formatLine(t.index,1,"code-block",!0),this.quill.deleteText(t.index-4,4)}),0)}},{name:"bolditalic",pattern:/(?:\*|_){3}(.+?)(?:\*|_){3}/g,action:(e,t,n,r)=>{let i=n.exec(e);const s=i[0],o=i[1],a=r+i.index;e.match(/^([*_ \n]+)$/g)||setTimeout((()=>{this.quill.deleteText(a,s.length),this.quill.insertText(a,o,{bold:!0,italic:!0}),this.quill.format("bold",!1)}),0)}},{name:"bold",pattern:/(?:\*|_){2}(.+?)(?:\*|_){2}/g,action:(e,t,n,r)=>{let i=n.exec(e);const s=i[0],o=i[1],a=r+i.index;e.match(/^([*_ \n]+)$/g)||setTimeout((()=>{this.quill.deleteText(a,s.length),this.quill.insertText(a,o,{bold:!0}),this.quill.format("bold",!1)}),0)}},{name:"italic",pattern:/(?:\*|_){1}(.+?)(?:\*|_){1}/g,action:(e,t,n,r)=>{let i=n.exec(e);const s=i[0],o=i[1],a=r+i.index;e.match(/^([*_ \n]+)$/g)||setTimeout((()=>{this.quill.deleteText(a,s.length),this.quill.insertText(a,o,{italic:!0}),this.quill.format("italic",!1)}),0)}},{name:"strikethrough",pattern:/(?:~~)(.+?)(?:~~)/g,action:(e,t,n,r)=>{let i=n.exec(e);const s=i[0],o=i[1],a=r+i.index;e.match(/^([*_ \n]+)$/g)||setTimeout((()=>{this.quill.deleteText(a,s.length),this.quill.insertText(a,o,{strike:!0}),this.quill.format("strike",!1)}),0)}},{name:"code",pattern:/(?:`)(.+?)(?:`)/g,action:(e,t,n,r)=>{let i=n.exec(e);const s=i[0],o=i[1],a=r+i.index;e.match(/^([*_ \n]+)$/g)||setTimeout((()=>{this.quill.deleteText(a,s.length),this.quill.insertText(a,o,{code:!0}),this.quill.format("code",!1),this.quill.insertText(this.quill.getSelection()," ")}),0)}},{name:"hr",pattern:/^([-*]\s?){3}/g,action:(e,t)=>{const n=t.index-e.length;setTimeout((()=>{this.quill.deleteText(n,e.length),this.quill.insertEmbed(n+1,"hr",!0,$d.sources.USER),this.quill.insertText(n+2,"\n",$d.sources.SILENT),this.quill.setSelection(n+2,$d.sources.SILENT)}),0)}},{name:"plus-ul",pattern:/^\+\s$/g,action:(e,t,n)=>{setTimeout((()=>{this.quill.formatLine(t.index,1,"list","unordered"),this.quill.deleteText(t.index-2,2)}),0)}},{name:"asterisk-ul",pattern:/^(\-|\*)\s$/g,action:(e,t)=>{setTimeout((()=>{this.quill.formatLine(t.index,1,"list","bullet"),this.quill.deleteText(t.index-2,2)}),0)}},{name:"image",pattern:/(?:!\[(.+?)\])(?:\((.+?)\))/g,action:(e,t,n)=>{const r=e.search(n),i=e.match(n)[0],s=e.match(/(?:\((.*?)\))/g)[0],o=t.index-i.length-1;-1!==r&&setTimeout((()=>{this.quill.deleteText(o,i.length),this.quill.insertEmbed(o,"image",s.slice(1,s.length-1))}),0)}},{name:"link",pattern:/(?:\[(.+?)\])(?:\((.+?)\))/g,action:(e,t,n)=>{const r=e.search(n),i=e.match(n)[0],s=e.match(/(?:\[(.*?)\])/g)[0],o=e.match(/(?:\((.*?)\))/g)[0],a=t.index-i.length-1;-1!==r&&setTimeout((()=>{this.quill.deleteText(a,i.length),this.quill.insertText(a,s.slice(1,s.length-1),"link",o.slice(1,o.length-1))}),0)}}];this.matches=n.filter((e=>!this.ignoreElements.includes(e.name))),this.quill.on("text-change",((e,t,n)=>{for(let t=0;t<e.ops.length;t++)e.ops[t].hasOwnProperty("insert")?" "===e.ops[t].insert?this.onSpace():"\n"===e.ops[t].insert&&this.onEnter():e.ops[t].hasOwnProperty("delete")&&"user"===n&&this.onDelete()}))}isValid(e,t){return void 0!==e&&e&&-1===this.ignoreTags.indexOf(t)}onSpace(){const e=this.quill.getSelection();if(!e)return;const[t,n]=this.quill.getLine(e.index),r=t.domNode.textContent,i=e.index-n;if(this.isValid(r,t.domNode.tagName))for(let t of this.matches){const n=r.match(t.pattern),s=this.quill.getFormat()||{},o=["header","blockquote","code-block","hr","plus-ul","asterisk-ul"];if(n&&!s["code-block"]&&(!s["table-cell-line"]||!o.includes(t.name)))return void t.action(r,e,t.pattern,i)}}onEnter(){let e=this.quill.getSelection();if(!e)return;const[t,n]=this.quill.getLine(e.index),r=t.domNode.textContent+" ",i=e.index-n;if(e.length=e.index++,this.isValid(r,t.domNode.tagName))for(let t of this.matches){const n=r.match(t.pattern),s=this.quill.getFormat()||{},o=["header","blockquote","code-block","hr","plus-ul","asterisk-ul"];if(n&&!s["code-block"]&&(!s["table-cell-line"]||!o.includes(t.name)))return void t.action(r,e,t.pattern,i)}}onDelete(){this.quill.getSelection()}isLastBrElement(e){const[t]=this.quill.scroll.descendant(Kg,e.index);return null!=t&&t.domNode.firstChild instanceof HTMLBRElement}isEmptyLine(e){const[t]=this.quill.getLine(e.index);return""===t.children.head.text.trim()}},"modules/tableHandler":dy,"modules/linkHandler":uy,"modules/imageHandler":class extends fy{constructor(e,t){super(e,t),this.quill=e,this.options=t||{},this.toolbar=e.getModule("toolbar"),void 0!==this.toolbar&&this.toolbar.addHandler("image",this.handleImageClick.bind(this))}handleImageClick(){this.imageDialogOpen(),window.event?(window.event.cancelBubble=!0,this.quill.container.parentNode.addEventListener("click",(()=>{this.imageDialogClose()}))):this.quill.container.addEventListener("click",(()=>{this.imageDialogClose()})),window.addEventListener("resize",(()=>{this.imageDialogClose()}))}imageDialogOpen(){this.toolbar.container.querySelector(".ql-image-dialog")?this.imageDialog.remove():this.showImageDialog()}showImageDialog(){const e=this.toolbar.container;if(this.imageDialog)this.imageDialog.querySelector("input.text-input").value="";else{this.imageDialog=document.createElement("div"),this.imageDialog.classList.add("ql-image-dialog","ql-toolbar-dialog");const e=_g(["imageDialogLocal","imageDialogUrlLabel","iamgeDialogInsert"],this.options.i18n);this.imageDialog.innerHTML=`\n      <input type="file" class="ql-image-upload" accept="${this.options.imageAccept||"image/png, image/gif, image/jpeg, image/bmp, image/x-icon, image/webp"}" />\n      <button class="local-image">${e[0]}</button>\n      <p class="err-tips err-file"></p>\n      <p class="url-label">${e[1]}</p>\n      <div class="image-url-form"><input class="text-input" type="text" placeholder="https://example.com/img.png" /><span class="url-submit">${e[2]}</span></div>\n      <p class="err-tips err-url"></p>\n      `,this.fileInput=this.imageDialog.querySelector("input.ql-image-upload[type=file]");const t=this.imageDialog.querySelector("input.text-input");t.onclick=e=>{e.stopPropagation()},this.imageDialog.querySelector(".url-submit").onclick=e=>{e.stopPropagation();const n=t.value;if(n&&Eg(n))this.insertImage(n),this.imageDialogClose(),t.value="",this.quill.enable(!0);else{const e=this.imageDialog.querySelector(".err-tips.err-url");e.innerText=_g("linkUrlErr",this.options.i18n),t?.addEventListener("input",(()=>{e.innerText&&(e.innerText="")}))}},this.imageDialog.querySelector("button.local-image").onclick=e=>{e.stopPropagation(),this.fileInput.click(),this.imageDialog.querySelector(".err-tips.err-file").innerText=""},this.fileInput.onchange=()=>{const{files:e}=this.fileInput;e&&e.length&&this.beforeUpload(e[0])}}const t=e.querySelector(".ql-image");this.imageDialog.style=this.dialogPosition(t),e.append(this.imageDialog)}beforeUpload(e){if(this.imageDialog){const t=this.imageDialog.querySelector(".err-tips.err-file"),n=_g(["imageDialogTypeErr","imageDialogSizeErr"],this.options.i18n);if(!e.type.startsWith("image/"))return t.innerText=n[0],void this.showImageDialog();if(!(e.size/1024/1024<(this.options.maxSize||5)))return t.innerText=n[1].replace("$",this.options.maxSize||5),void this.showImageDialog();const r=new FileReader;r.readAsDataURL(e),r.onload=e=>{const t=e.target.result;this.insertImage(t)}}}imageDialogClose(){this.imageDialog&&this.imageDialog.remove()}dialogPosition=e=>{const t=e.offsetParent;return t.offsetWidth-e.offsetLeft+6>280?`top:${e.offsetTop+24}px;left:${e.offsetLeft+6}px;`:`top:${e.offsetTop+24}px;left:${t.offsetWidth-280}px;`};insertImage=e=>{this.imageDialogClose(),this.quill.enable(!0);const t=this.quill.getSelection(!0);this.quill.insertEmbed(t.index,"image",e),this.quill.setSelection(t.index+1,$d.sources.SILENT),this.fileInput.value=""}},"modules/codeHandler":class extends py{constructor(e,t){super(e,t),this.quill=e,this.options=t||{},this.blockName="code-block",this.toolbar=e.getModule("toolbar"),void 0!==this.toolbar&&this.toolbar.addHandler("code-block",this.handleCodeClick.bind(this))}handleCodeClick(){const e=this.quill.getSelection();if(!e)return;this.quill.getFormat()[this.blockName]?this.quill.removeFormat(e.index):"\n"===this.quill.getText(e.index)?(this.quill.insertText(e.index,"\n"),this.quill.formatLine(e.index,1,this.blockName,!0),this.quill.setSelection(e.index)):this.quill.formatLine(e.index,1,this.blockName,!0)}},"modules/qSyntax":ay,"modules/dividerHandler":class extends gy{constructor(e,t){super(e,t),this.quill=e,this.options=t||{},this.toolbar=e.getModule("toolbar"),void 0!==this.toolbar&&this.toolbar.container.querySelector("button.ql-divider")&&(this.toolbar.container.querySelector("button.ql-divider").onclick=()=>this.handleDividerClick())}handleDividerClick(){this.dividerDialogOpen(),window.event?(window.event.cancelBubble=!0,this.quill.container.parentNode.addEventListener("click",(()=>{this.dividerDialogClose()}))):this.quill.container.addEventListener("click",(()=>{this.dividerDialogClose()})),window.addEventListener("resize",(()=>{this.dividerDialogClose()}))}dividerDialogOpen(){this.toolbar.container.querySelector(".ql-divider-dialog")?this.dividerDialog.remove():this.showDividerDialog()}showDividerDialog(){const e=this.toolbar.container,t=localStorage.getItem("ql-divider-color")||ey,n=e=>`${Object.keys(Jv(e)).map((t=>`<div class="divider-item flex-column flex-center" data-type="${t}"><hr style="${Jv(e)[t]}width:100%;"/></div>`)).join("")}`;if(!this.dividerDialog){this.dividerDialog=document.createElement("div"),this.dividerDialog.classList.add("ql-divider-dialog","ql-toolbar-dialog"),this.dividerDialog.style=this.dialogPosition(e.querySelector(".ql-divider")),this.options;let r=`<div class="divider-default">${n(t)}</div><div class="divider-setting flex"><label>${wg[this.options.i18n||"en"].dividerDialogColorLabel}</label><input class="text-input divider-color" type="text" value="${t}"/></ div>`;this.dividerDialog.innerHTML=r}e.append(this.dividerDialog);const r=e=>{this.dividerDialog.querySelectorAll(".divider-item").forEach((t=>{t.onclick=n=>{this.insertDivider(t.dataset.type,e)}}))};r(t);const i=this.dividerDialog.querySelector(".divider-color");my(i,(e=>{Sg(e)&&(localStorage.setItem("ql-divider-color",e),this.dividerDialog.querySelector(".divider-default").innerHTML=n(e),r(e))}))}dividerDialogClose(){this.dividerDialog&&this.dividerDialog.remove()}dialogPosition=e=>{const t=e.offsetParent;return t.offsetWidth-e.offsetLeft+6>200?`top:${e.offsetTop+24}px;left:${e.offsetLeft+5}px;`:`top:${e.offsetTop+24}px;left:${t.offsetWidth-200}px;`};insertDivider(e,t){this.dividerDialogClose(),this.quill.enable(!0);const n=this.quill.getSelection(!0);this.quill.insertText(n.index,"\n",$d.sources.USER),this.quill.insertEmbed(n.index+1,"QDivider",{type:e,color:t},$d.sources.USER),this.quill.setSelection(n.index+2,$d.sources.SILENT)}}},!0);return t=>{const{modules:n={},content:r,i18n:i="en",style:s={},readOnly:o=!1,theme:a="snow"}=t,l=e.useRef({}),c=e.useRef({}),u=e.useRef(),h=e.useRef((new Date).getTime()+(100*Math.random()).toFixed(0)),d=e.useRef([]);return e.useEffect((()=>{if(Object.keys(n).length>0){const{table:e,codeHighlight:t,imageResize:r=!0,imageDrop:s=!0,magicUrl:o=!0,markdown:a=!0,link:h=!0,imageHandler:f}=n;e&&(l.current.table=!1,l.current["better-table"]={i18n:i,operationMenu:{items:"boolean"!=typeof e&&e.operationMenu||("zh"===i?{insertColumnRight:{text:"右侧插入列"},insertColumnLeft:{text:"左侧插入列"},insertRowUp:{text:"上方插入行"},insertRowDown:{text:"下方插入行"},mergeCells:{text:"合并单元格"},unmergeCells:{text:"取消单元格合并"},deleteColumn:{text:"删除列"},deleteRow:{text:"删除行"},deleteTable:{text:"删除表格"}}:"es"===i?{insertColumnRight:{text:"Insertar columna a la derecha"},insertColumnLeft:{text:"Insertar columna a la izquierda"},insertRowUp:{text:"Insertar fila arriba"},insertRowDown:{text:"Insertar fila abajo"},mergeCells:{text:"Combinar celdas"},unmergeCells:{text:"Separar celdas"},deleteColumn:{text:"Eliminar columna"},deleteRow:{text:"Eliminar fila"},deleteTable:{text:"Eliminar tabla"}}:{}),color:Object.assign({colors:["#dbc8ff","#6918b4","#4a90e2","#999","#fff"],text:_g("tableBackground",i)},"boolean"!=typeof e?e.backgroundColors:null)}},l.current.tableHandler=Object.assign({i18n:i},"boolean"!=typeof e?e.toolbarOptions:{})),t&&(l.current.qSyntax={i18n:i,hljs:(Zm.registerLanguage("javascript",nb),Zm.registerLanguage("java",_b),Zm.registerLanguage("cpp",lb),Zm.registerLanguage("csharp",cb),Zm.registerLanguage("php",kb),Zm.registerLanguage("python",Sb),Zm.registerLanguage("sql",Mb),Zm.registerLanguage("json",Eb),Zm.registerLanguage("bash",ib),Zm.registerLanguage("shell",sb),Zm.registerLanguage("css",mb),Zm.registerLanguage("go",bb),Zm.registerLanguage("objectivec",Nb),Zm.registerLanguage("ruby",Ob),Zm.registerLanguage("xml",Bb),Zm.registerLanguage("scala",zb),Zm.registerLanguage("matlab",Ub),Zm.registerLanguage("swift",cv),Zm.registerLanguage("dart",uv),Zm.configure({languages:["javascript","java","csharp","cpp","php","python","sql","json","bash","shell","css","go","objectivec","ruby","xml","scala","thrift","matlab","swift","dart"],useBR:!1}),window.hljs=Zm,Zm),languages:"boolean"!=typeof t?t:[{key:"plain",label:"Plain"},{key:"javascript",label:"Javascript"},{key:"java",label:"Java"},{key:"python",label:"Python"},{key:"cpp",label:"C++/C"},{key:"csharp",label:"C#"},{key:"php",label:"PHP"},{key:"sql",label:"SQL"},{key:"json",label:"JSON"},{key:"bash",label:"Bash"},{key:"go",label:"Go"},{key:"objectivec",label:"Object-C"},{key:"xml",label:"Html/xml"},{key:"css",label:"CSS"},{key:"ruby",label:"Ruby"},{key:"swift",label:"Swift"},{key:"scala",label:"Scala"}]}),r&&(l.current.imageResize=!1===r?r:Object.assign({i18n:i},"object"==typeof r?r:null)),s&&(l.current.imageDrop=!1===s?s:Object.assign({i18n:i,imageHandler:f,uploadedImgsList:d.current},"object"==typeof s?s:null)),l.current.magicUrl=o,l.current.markdownShortcuts=a,h&&(l.current.linkHandler={i18n:i}),l.current.imageHandler=Object.assign({i18n:i},f),l.current.codeHandler=!0,c.current.undo=()=>{return e=u.current,void(null===(t=null==e?void 0:e.history)||void 0===t||t.undo());var e,t},c.current.redo=()=>{return e=u.current,void(null===(t=null==e?void 0:e.history)||void 0===t||t.redo());var e,t},l.current.dividerHandler={i18n:i}}const{toolbarOptions:e}=n;let t=["system","wsYaHei","songTi","serif","arial"],r=["12px","14px","18px","36px"];e&&e.forEach((e=>{Array.isArray(e)&&e.forEach((e=>{"object"==typeof e&&(e.font&&Array.isArray(e.font)&&(t=e.font),e.size&&Array.isArray(e.size)&&(r=e.size))}))}));const s=$d.import("attributors/style/size");s.whitelist=r,$d.register(s,!0);const o=$d.import("formats/font");o.whitelist=t,$d.register(o,!0);const a=$d.import("ui/icons");a.undo='<svg viewbox="0 0 18 18">\n  <polygon class="ql-fill ql-stroke" points="6 10 4 12 2 10 6 10"></polygon>\n  <path class="ql-stroke" d="M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9"></path>\n</svg>',a.redo='<svg viewbox="0 0 18 18">\n  <polygon class="ql-fill ql-stroke" points="12 10 14 12 16 10 12 10"></polygon>\n  <path class="ql-stroke" d="M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5"></path>\n</svg>',a.divider='<svg class="quill-fill" viewBox="0 0 1024 1024" width="18" height="18"><path d="M112 160h800a16 16 0 0 1 16 16v96a16 16 0 0 1-16 16H112a16 16 0 0 1-16-16v-96a16 16 0 0 1 16-16z m0 576h800a16 16 0 0 1 16 16v96a16 16 0 0 1-16 16H112a16 16 0 0 1-16-16v-96a16 16 0 0 1 16-16z m0-272h160a16 16 0 0 1 16 16v64a16 16 0 0 1-16 16H112a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16z m640 0h160a16 16 0 0 1 16 16v64a16 16 0 0 1-16 16H752a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16z m-320 0h160a16 16 0 0 1 16 16v64a16 16 0 0 1-16 16H432a16 16 0 0 1-16-16v-64a16 16 0 0 1 16-16z" fill="#444444"></path></svg>'}),[n]),e.useEffect((()=>{const{placeholder:e,getQuill:s,onChange:f,onFocus:p,onBlur:g,onSave:m}=t;l.current["better-table"]&&$d.register({"modules/better-table":Zv},!0);const b=n.toolbarOptions||[["undo","redo","clean"],[{font:["system","wsYaHei","songTi","serif","arial"]},{size:["12px",!1,"18px","36px"]},{header:[!1,1,2,3,4]}],["bold","italic","underline","strike",{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"},{list:"check"},{indent:"-1"},{indent:"+1"},{align:[]}],["blockquote",n.codeHighlight?"code-block":void 0,!1!==n.link?"link":void 0,"image",{script:"sub"},{script:"super"},l.current["better-table"]?"table":void 0,"divider"]];u.current=new $d(`#editor${h.current}`,{debug:!1,modules:Object.assign(Object.assign({},l.current),{toolbar:{container:b,handlers:Object.assign({},c.current)},clipboard:{matchers:[["BR",()=>{const e=new xg;return e.insert({break:""}),e}]]},keyboard:{bindings:Object.assign(Object.assign({},Zv.keyboardBindings),by({save:m}))},history:{delay:2e3,maxStack:100,userOnly:!0}}),placeholder:e||_g("placeholder",i),readOnly:o,bounds:document.querySelector(`#editor${h.current}`),theme:a}),((e,t)=>{const n=e.getModule("toolbar").container,r=(e,r)=>{const i=n.querySelector(e);i&&i.setAttribute("data-before",wg[t][r])};r('.ql-toolbar .ql-font .ql-picker-label[data-value="system"]',"toolbarFont"),r('.ql-toolbar .ql-font .ql-picker-item[data-value="system"]',"toolbarFont"),r(".ql-snow .ql-picker.ql-header .ql-picker-item","toolbarHeader"),r(".ql-snow .ql-picker.ql-header .ql-picker-label","toolbarHeader"),r('.ql-toolbar .ql-font .ql-picker-label[data-value="wsYaHei"]',"fontYahei"),r('.ql-toolbar .ql-font .ql-picker-item[data-value="wsYaHei"]',"fontYahei"),r('.ql-toolbar .ql-font .ql-picker-label[data-value="songTi"]',"fontSong"),r('.ql-toolbar .ql-font .ql-picker-item[data-value="songTi"]',"fontSong"),r('.ql-toolbar .ql-font .ql-picker-label[data-value="kaiTi"]',"fontKai"),r('.ql-toolbar .ql-font .ql-picker-item[data-value="kaiTi"]',"fontKai"),window.showTitle=ly})(u.current,i),u.current.on("selection-change",((e,t,r)=>{var i;if(null!=e&&(null===(i=u.current)||void 0===i?void 0:i.hasFocus())&&n.table&&u.current){const e=["header","blockquote","code-block","hr","list"],t=u.current.getFormat()||{};t&&t["table-cell-line"]?kg(u.current,e,!0):kg(u.current,e,!1)}})),r&&Ng(r,u.current),s&&s(u.current,d.current),f&&u.current.on("text-change",((e,t,n)=>{"user"===n&&f(e,t)})),(p||g)&&u.current.on("selection-change",((e,t,n)=>{const r=!e&&t;p&&(e&&!t)&&p(e),g&&r&&g(t)}));const v=document.getElementById(`editor${h.current}`).querySelector(".ql-editor");v.addEventListener("input",Ag((()=>{"\n"!==v.innerText&&v.classList.contains("ql-blank")?u.current.root.setAttribute("data-placeholder",""):"\n"===v.innerText&&u.current.root.setAttribute("data-placeholder",e||_g("placeholder",i))}),100)),u.current.on("text-change",Ag((()=>{"\n"===u.current.getText()&&""===u.current.root.getAttribute("data-placeholder")&&u.current.root.setAttribute("data-placeholder",e||_g("placeholder",i))})))}),[]),e.useEffect((()=>{r&&Ng(r,u.current)}),[r]),e.useEffect((()=>{u.current&&(o?u.current.enable(!1):u.current.enable())}),[o]),e.createElement("div",{className:"ql-editor-container",style:s},e.createElement("div",{id:`editor${h.current}`}))}}));
